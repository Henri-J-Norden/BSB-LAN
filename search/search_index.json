{"config":{"indexing":"full","lang":["en","de","fr"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"index.html","text":"What is BSB-LAN? BSB-LAN is a software /hardware solution for accessing the \u201cBoiler-System-Bus\u201d (BSB) , the \u201cLocal-Process-Bus (LPB)\u201d and the \u201cPunkt-zu-Punkt-Schnittstelle\u201d (PPS) . The BSB-LAN hardware is available for various ESP32 -based microcontrollers (ESP32 NodeMCU, Olimex EVB, Olimex POE-ISO) as well as for an Arduino Due with Ethernet shield. It allows accessing the heating systems from Atlantic, Br\u00f6tje, Elco and many other manufacturers via LAN/WLAN, provided that they use one of the Siemens controllers listed below. BSB-LAN makes it possible to monitor and control the heating system and log any given values. This project supports almost all parameters available on the heating systems and can be a more comprehensive and cost-effective alternative to the OZW 672, OCI 700 or Remocon Net B. Optional integration into existing smart home systems such as Home Assistant , ioBroker , openHAB , Node-RED , Homebridge , Jeedom , SmartHomeNG , Volksz\u00e4hler , FHEM , HomeMatic , Loxone, IP-Symcon or EDOMI is possible via MQTT , JSON or HTTP access . The adapter can also be used as a standalone logger without LAN or Internet connection when using a microSD card. Temperature and humidity sensors can also be connected and their data can also be logged and analyzed. The option of integrating your own code into the BSB-LAN software also offers a wide range of expansion options. Where and how do I begin? You are an experienced user? Head on to the quickstart instructions . Otherwise (or if you run into problems), please read on! Is my heating system supported by BSB-LAN? Please go to the list of supported heating systems . If you already know that your system is supported, find out more about the BSB-LAN adapter and where to get it. If you already have the adapter, you may want to know how to install the adapter . If you have installed the adapter, you will need to configure BSB-LAN . Once you have everything up and running, find out about how to use BSB-LAN or learn more about the ways to ingetrate BSB-LAN into home automation systems . If you want to update BSB-LAN and would like to know what has changed since your last installation, please check the ChangeLog . Our wiki pages are continuously growing and provide background knowledge as well as more specialized topics on BSB-LAN and heating systems in general. If you run into troubles, have a look at the troubleshooting page . And before you ask anyone else any questions, have a look at our Frequently Asked Questions (FAQ) first!","title":"Overview"},{"location":"index.html#what-is-bsb-lan","text":"BSB-LAN is a software /hardware solution for accessing the \u201cBoiler-System-Bus\u201d (BSB) , the \u201cLocal-Process-Bus (LPB)\u201d and the \u201cPunkt-zu-Punkt-Schnittstelle\u201d (PPS) . The BSB-LAN hardware is available for various ESP32 -based microcontrollers (ESP32 NodeMCU, Olimex EVB, Olimex POE-ISO) as well as for an Arduino Due with Ethernet shield. It allows accessing the heating systems from Atlantic, Br\u00f6tje, Elco and many other manufacturers via LAN/WLAN, provided that they use one of the Siemens controllers listed below. BSB-LAN makes it possible to monitor and control the heating system and log any given values. This project supports almost all parameters available on the heating systems and can be a more comprehensive and cost-effective alternative to the OZW 672, OCI 700 or Remocon Net B. Optional integration into existing smart home systems such as Home Assistant , ioBroker , openHAB , Node-RED , Homebridge , Jeedom , SmartHomeNG , Volksz\u00e4hler , FHEM , HomeMatic , Loxone, IP-Symcon or EDOMI is possible via MQTT , JSON or HTTP access . The adapter can also be used as a standalone logger without LAN or Internet connection when using a microSD card. Temperature and humidity sensors can also be connected and their data can also be logged and analyzed. The option of integrating your own code into the BSB-LAN software also offers a wide range of expansion options.","title":"What is BSB-LAN?"},{"location":"index.html#where-and-how-do-i-begin","text":"You are an experienced user? Head on to the quickstart instructions . Otherwise (or if you run into problems), please read on! Is my heating system supported by BSB-LAN? Please go to the list of supported heating systems . If you already know that your system is supported, find out more about the BSB-LAN adapter and where to get it. If you already have the adapter, you may want to know how to install the adapter . If you have installed the adapter, you will need to configure BSB-LAN . Once you have everything up and running, find out about how to use BSB-LAN or learn more about the ways to ingetrate BSB-LAN into home automation systems . If you want to update BSB-LAN and would like to know what has changed since your last installation, please check the ChangeLog . Our wiki pages are continuously growing and provide background knowledge as well as more specialized topics on BSB-LAN and heating systems in general. If you run into troubles, have a look at the troubleshooting page . And before you ask anyone else any questions, have a look at our Frequently Asked Questions (FAQ) first!","title":"Where and how do I begin?"},{"location":"CHANGELOG.html","text":"ChangeLog Current Master ATTENTION: BREAKING CHANGE! Streamlined topic structure for MQTT. New strucuture adds /status for querying a parameter, /set for SETting a parameter, /inf for sending data as INF telegram and /poll to force BSB-LAN to send an update of that parameter value to the broker. If you are using MQTT auto-discovery, ideally, calling /M1 should update these changes. However, if you are using your own configurations, you'll have to make adjustments here. ATTENTION: BREAKING CHANGE! When using JSON settings for MQTT, previously all messages were written to the BSB-LAN/json and thus basically immediately overwritten when logging several parameters. Now this setting only determines the format (and not format and topic) of the data that is written into /status of each parameter. For auto-discovery, plain text remains the only valid choice. ATTENTION: BREAKING CHANGE The acknowledgement message sent by BSB-LAN to the MQTT topic has been removed. Instead, QoS for publishing messages has been set to level 1. ATTENTION: BREAKING CHANGE: Log configuration values have changed. However, only users that have logged to UDP are affected and will have to adjust their settings. ATTENTION: /JK=ALL now lists all categories of all devices in LPB systems with more than one device. Use dev_fam and dev_var keys to sort and identify which category applies to the current destination device. Added setting to only publish log parameters to MQTT. Forcing MQTT updates via /poll topic are still possible. Added state_class for non cumulative sensors in MQTT auto-discovery Updated the room unit emulation in custom_functions to work with version 4.x. Bugfix for VT_ENERGY, added new data type VT_ENERGY10 and VT_ENERGY10_N Setting the time as well as time programs no longer requires underscores, instead, spaces are used. Underscores will still work for now, but are deprecated and will be removed at some later time. Disabling parameters can now be done both with an empty value as well as by sending --- . Sending an empty value is still possible, but is depracated and will be removed at some later time. Version 4.1 06.11.2024 ATTENTION: BREAKING CHANGE! Changed topic structure for MQTT. This means that all existing MQTT entities in your home-automation system will have to be adjusted or created anew! The new structure now is BSB-LAN/<device id>/<category id>/<parameter number> . ATTENTION: BREAKING CHANGE! Changed unique_id for MQTT auto-discovery. This means that all MQTT entities that have been created via auto-discovery will have to be created anew! ATTENTION: Configuration options fixed_device_family and fixed_device_variant have been removed since they no longer work for device-specific parameter lists. If your heating system is off when turning on the microcontroller, BSB-LAN will try to acquire the details every 60 seconds. ATTENTION: Change of configuration options results in new EEPROM layout, therefore EEPROM will be reinitialized based on configuration of BSB_LAN_config.h . MQTT auto-discovery now works for all devices, not only device ID 0. Use /M1!<x> or /M0!<x> to create/remove entities for device ID <x> . Changed MQTT auto-discovery messages' flag to \"retain\" so that parameters remain available after reboot of Home Assistant. Version 4.0 01.11.2024 ATTENTION: BREAKING CHANGE! Room temperature parameter 10000, 10001 and 10002 must now have the additional flag FL_SPECIAL_INF , otherwise setting temperature will not work! ATTENTION: BREAKING CHANGE! Outside temperature simulation parameter 10017 must have FL_SPECIAL_INF flag removed, otherwise setting temperature will not work! ATTENTION: BREAKING CHANGE! Room temperature parameter 10000, 10001 and 10002 for Weishaupt heaters (device families 49, 50, 51 and 59) must now have FL_SPECIAL_INF flag removd, otherwise setting temperature will not work! ATTENTION: BREAKING CHANGE! URL commands /U (dislpay user-defined variables) and /X (display MAX! values) have been removed as these values can now be accessed via parameters 20000++ ATTENTION: BREAKING CHANGE! PPS time program parameters (15050-15091) have been streamlined with BSB/LPB time program parameters, resulting in only one parameter per day (instead of six), covering three switch points (start and end) per parameter. ATTENTION: For ESP32, BSB-LAN requires ESP32 framework version 3.0.x - please look out for errors or strange behaviour (1-Wire sensors are still not tested) as well as any other kind of strange behaviour/crashes. ATTENTION: New configuration options in BSB_LAN_config.h - please update your existing configuration files! Web-based configuration will be overwritten with config file settings due to change in EEPROM layout! ATTENTION: New manual URL: https://docs.bsb-lan.de/ BUTTONS and RGT_EMULATION have been moved from main code to custom_functions library. To continue using them, make use of BSB_LAN_custom_*.h files and activate CUSTOM_COMMANDS definement. Most configuration definements removed from BSB_LAN_config.h . Almost all functionality can now be configured without reflashing. BSB-LAN now supports MQTT auto discovery (supported e.g. by Home Assistant). To create devices, call URL command /M1 , to remove them call /M0 ATTENTION: MQTT auto discovery creates a general switch for the BSB-LAN device in Home Assistant. This switch will immediately write all parameters with the values stored in Home Assistant. DO NOT USE THIS SWITCH unless you REALLY know what it does! \"Set\" button in webinterface now also works with non-default destination devices (i.e. 1 instead of 0) Queried/set parameters are now forwarded to the MQTT broker (if MQTT is enabled) Previously used /M1 and /M0 for toggling monitor function have been removed since it can now be accessed via the configuration in the webinterface. Listing categories with /K now also works with destination device (e.g. /K!1 for destination device 1, default is 0). Important bugfix for OTA update: Previous versions had a hard limit on file size which newer heating systems with several hundred parameters hit, so no OTA update was possible. This is now fixed, but affected users will have to make a USB-based update one more time. 1-Wire- and DHT-sensors are now be disabled with value -1 instead of 0. In web interface, an empty field is also accepted. MQTTTopicPrefix is no longer optional, \"fromBroker\" topic removed (formerly used to send commands to BSB-LAN via MQTT) Using the 24h averages functionality no longer requires the use of an SD card. SD card will only be used to store averages if interval logging to SD card is active. New PPS room unit variant for RVD130, which increases high nibble of magic byte at every transaction. Polling current time from NTP server is active by default. Deactivate by setting ntp_server to empty string. New parameter flag FL_NOSWAP_QUR for parameters that do not swap the first two bytes of command ID in QUR telegram New parameter flag FL_FORCE_INF for parameters from which we are certain they only work with INF (such as room temperature). Will force an INF telegram even if /S is used to set the parameter (allows setting room temperature via web interface) BSB-LAN logo watermark in log graph display (DE-cr) Binary ENUMs (yes/no, on/off etc.) now return either 0 or 1 when queried, not - as is the case with some heating systems - 0 or 255. Setting any value from 1 to 255 is still possible. Fixed a breaking bug in PPS that prevented running properly in active/room unit mode. Fixed bug (or, based on perspective, reduced security) that prevented issuing commands via serial/telnet console when HTTP authentication was active Various bugfixes, among others logging of bus telegrams on storage device. New OneWireNg library version This release has been supported by the following sponsors: Erich Scheilko Version 3.3 12.03.2024 ATTENTION: New configuration options in BSB_LAN_config.h - please update your existing configuration files! ESP32: Support for receiving date and time via NTP instead of taking it from the heater. MQTT broker setting now accepts domain names as well as IP addresses. An optional port can be added after a trailing colon, e.g. broker.my-domain.com:1884. Otherwise defaults to 1883. ESP32 NodeMCU: Support for optional additional SD card adapter. SPI pins can be configured in BSB_LAN_config.h , defaulting to standard SPI pins 5, 18, 19 and 23. ESP32: Switching between log storage device (SD card / internal flash) can now be done in the web interface. ESP32: Create temporary WiFi AP in case Ethernet connection fails ESP32 NodeMCU: EEPROM clear pin has changed from 18 to 21 in order not to collide with SPI SD card adapters. This release has been supported by the following GitHub sponsors: jsimon3 Version 3.2 15.11.2023 ATTENTION: In BSB_LAN_config.h , new layout of log_parameters , avg_parameters and ipwe_parameters now written in curly brackets and different size (40 instead of 80) and type ( parameter instead of float ). Please update your BSB_LAN_config.h accordingly to prevent errors! Added configuration file versioning checks to prevent the use of outdated configuration files with newer software versions. Variable esp32_save_energy now defaults to false because it only seems to make sense when using LAN connection or if you use WiFi and can live with the performance impact. Added folder custom_functions where code examples for useful functions will be collected which are nevertheless too specific to be added to BSB-LAN's core code. Added custom function example for mapping DS18B20 sensors to fixed custom floats parameters This release has been supported by the following GitHub Sponsors: BraweProg, fdobrovolny, Harald Version 3.1 04.06.2023 ATTENTION: For ESP32 devices using internal flash for log storage: Filesystem was switched from SPIFFS to LittleFS. Download important log data before updating! ATTENTION: In BSB_LAN_config.h , the structure of log_parameters , avg_parameters and ipwe_parameters has changed and now includes the destination device on the bus! ATTENTION: New EEPROM schema may result in lost web-configuration settings when updating. Note your settings prior to updating! ATTENTION: New variable esp32_save_energy in BSB_LAN_config.h - update before compiling new version. ATTENTION: New variable bssid in BSB_LAN_config.h - defines a fixed BSSID address to connect to when using WiFi on ESP32. Parameters can now be queried from other devices on the bus using the ! notation also when logging (including MQTT) or using average or IPWE parameters Enable/disable power saving on ESP32. Saves 20% of energy, but can have impact on WiFi range and downloading speed of log files when using WiFi (LAN not affected) Improved performance and flash memory usage on ESP32 devices using internal flash for logging due to switch from SPIFFS to LittleFS To improve handling of large datalogs: date range selection in /DG , new url commands /Da,b , /DA , /DB , /Dn , /DI and /DKn This release has been supported by the following GitHub Sponsors: lapixo, nrobadey Version 3.0 16.03.2023 ATTENTION: BSB_LAN_custom_defs.h .default needs to be renamed to BSB_LAN_custom_defs.h and only contains a very limited set of parameters by default. See the manual for getting device-specific parameter lists. Add new /LN URL command to force logging irrespective of current interval. Improved library checks: No need for ESP32 users to remove ArduinoMDNS and WiFiSpi folders anymore. New SdFat version 2 for Arduino Due New data type VT_BINARY_ENUM This release has been supported by the following GitHub Sponsors: Alex, DE-cr Version 2.2 01.11.2022 ATTENTION: Several variables in BSB_LAN_config.h .default have changed their variable type, it's probably best to re-create your BSB_LAN_config.h from scratch. Parameter numbers are now floating point (i.e. XXXX.Y) because some parameters contain two different kinds of information. These are now shown in decimal increments of 0.1. You can still qurey the \"main\" parameter via XXXX (without .Y) Lots of bugfixes and new data types Device-specific parameter lists supported Version 2.1 30.07.2022 Many new parameters for LMU64 ATTENTION: New categories for LMU64 and RVD/RVP controllers due to their different numbering schemes. Will be filled over time. PPS and sensor categories have moved up by two. ESP32: OTA now uses system-wide HTTP AUTH authentication credentials Improved built-in chart display /DG , new configuration definement #define USE_ADVANCED_PLOT_LOG_FILE - thanks to Christian Ramharter Optional logging via UDP broadcast added (configurable, same parameters and format as in SD card logging) Lots of bugfixes Version 2.0 31.12.2021 ATTENTION: LOTS of new functionalities, some of which break compatibility with previous versions, so be careful and read all the docs if you make the upgrade! ATTENTION: Added and reorganized PPS parameters, almost all parameter numbers have changed! ATTENTION: Change of EEPROM layout will lead to loading of default values from BSB_LAN_config.h ! You need to write settings to EEPROM in configuration menu again! ATTENTION: Folder locations and filenames have been adjusted for easier installation! If you update your installation, please take note that the configuration is now in BSB_LAN_config.h (LAN in caps), and no longer in BSB_lan_config.h (lower-caps \"lan\") ATTENTION: HTTP-Authentication configuration has changed and now uses plain text instead of Base64 encoded strings! Thanks to GitHub user do13, this code now also compiles on a ESP32, tested on NodeMCU-ESP32, Olimex ESP32-POE and Olimex ESP32-EVB boards. ESP32 code uses SDK version 2.0.2, please take note when configuring Arduino IDE! OTA Updates now possible for ESP32-based devices Support for special PPS devices (based on DC225/Honeywell MCBA) added Webinterface allows for configuration of most settings without the need to re-flash, also split into basic and extended configuration Added better WiFi option for Arduinos through Jiri Bilek's WiFiSpi library, using an ESP8266-based microcontroller like Wemos D1 mini or LoLin NodeMCU. Older WiFi-via-Serial approach no longer supported. Added MDNS_SUPPORT definement in config so that BSB-LAN can be discovered through mDNS If BSB-LAN cannot connect to WiFi on ESP32, it will set up its own access point BSB-LAN with password BSB-LPB-PPS-LAN for 30 minutes. After that, it will reboot and try to connect again. New MQTT functions, including allowing any parameter to be set by an MQTT message and actively query any parameter once by sending an MQTT message Added support for BME280 sensors Setting a temporary destination address for querying parameters by adding !x (where x is the destination id), e.g. /6224!10 to query the identification of the display unit URL commands /A /B /T and /JA have been removed as all sensors can now be accessed via parameter numbers 20000 and above as well as (currently) under new category K49. New categories added, subsequent categories have been shifted up HTTP Authentification now uses clear text username and password in configuration PPS users can now send time and day of week to heater Lots of new parameters added URL command /JR allows for querying the standard (reset) value of a parameter in JSON format URL command /JB allows for backing up parameters to JSON file New library for DHT22 should provide more reliable results Consolidated data and value types: New data types VT_YEAR , VT_DAYMONTH , VT_TIME as subsets of VT_DATETIME for parameters 1-3, replacing VT_SUMMERPERIOD and adjusting VT_VACATIONPROG . New value types DT_THMS for time consisting of hour:minutes:seconds MQTT: Use MQTTDeviceID as a client ID for the broker, still defaults to BSB-LAN . ATTENTION: Check your config if you're broker relies on the client ID in any way for authorization etc. Version 1.1 10.11.2020 ATTENTION: DHW Push (\"Trinkwasser Push\") parameter had to be moved from 1601 to 1603 because 1601 has a different \"official\" meaning on some heaters. Please check and change your configuration if necessary ATTENTION: New categories added, most category numbers (using /K) will be shifted up by a few numbers. /JA URL command outputs average values Many new parameters decoded New parameters for device families 25, 44, 51, 59, 68, 85, 88, 90, 96, 97, 108, 134, 162, 163, 170, 195, 209, 211 Improved mobile display of webinterface Added definement \"BtSerial\" for diverting serial output to Serial2 where a Bluetooth adapter can be connected (5V->5V, GND->GND, RX->TX2, TX->RX2). Adapter has to be in slave mode and configured to 115200 bps, 8N1. Lots of added Polish translations New data types VT_BYTE10 , VT_SPF Bugfix for PPS bus regarding display of heating time programs Bugfix for MQTT Version 1.0 03.08.2020 /JI URL command outputs configuration in JSON structure /JC URL command gets list of possible values from user-defined list of functions. Example: /JC=505,700,701,702,711,1600,1602 Logging telegrams (log parameter 30000) now writes to separate file ( journal.txt ). It can be reset with /D0 (same time with datalog.txt) command and dumped with /DJ command. removed WIFI configuration as it is no longer applicable for the Due lots of new parameters for various device families Code optimization and restructuring, general increase of speed new schemativs for board layout V3 lots of bugfixes Version 0.44 11.05.2020 Added webserver functionality via SD card and various other improvements from GitHub user dukess Added JSON output for MQTT mobile friendlier web interface more parameters and device families last version completely tested on Mega 2560. Future versions may still run on the Mega, but will only be tested on the Arduino Due. Version 0.43 20.02.2020 Added support for HardwareSerial (Serial1) connection of the adapter. Use RX pin 19 in bus() definition to activate. See manual/forum for hardware details. Added definement DebugTelnet to divert serial output to telnet client (port 23, no password) in BSB_LAN_config.h Added possibility to control BSB-LAN (almost?) completely via USB-serial port. Most commands supported like their URL-counterparts, i.e. /<passcode>/xxx to query parameter xxx or /<passcode>/N to restart Arduino. Changed default device ID from 6 (room controller \"RGT1\") to unused ID 66 (\"LAN\") Many new parameters, please run /Q to see any possible changes for your device family and report back to us! Added global variables (arrays of 20 bytes) custom_floats[] and custom_longs[] for use with BSB_LAN_custom.h , for example to read sensors etc. Output of these variables is done via new URL command /U Added device families 23 and 29 (Gr\u00fcnenwald heaters) Added device families 49, 52, 59 (Weishaupt heaters) Added device fmilies 91, 92, 94, 118, 133, 136, 137, 165, 184, 188 (various controllers like QAA75 or AVS37) Added device family 171 (B\u00f6sch wood pellet system) Added device family 172 (SensoTherm BLW Split B (RVS21.826F/200)) Added device families 186 and 164 (Olymp WHS-500) Added device family 195 variant 2 (Thision 19 Plus / LMS14.111B109) Including DHT, 1Wire and burner status parameters (>20000) to MQTT English is now default language Updated various translations Added STL files to print a case with a 3D printer (thanks to FHEM user EPo!) Moved all sensors to /T , /H is now no longer used New virtual parameters 702/703 for Weishaupt room controller New virtual parameter 10003 to set outside temperature on newer systems Added text descriptions for error phases (6706 ff.) /Q is now more comprehensive New data types VT_CUSTOM_ENUM and VT_CUSTOM_BYTE to extract information from non-standard telegrams (such as 702/703) Bugfix: DHCP (ethernet) implementation Version 0.42 21.03.2019 Added localization! Now you can help translate BSB-LAN into your language! Simply copy one of the language files from the localization folder ( LANG_DE.h is the most complete) and translate whatever you can. Non-translated items will be displayed in German. Attention: Language definition in BSB_LAN_config.h is now #define LANG <ISO-CODE> For example: #define LANG DE Added export to MQTT broker, use log_parameters [] in BSB_LAN_config.h to define parameters and activate MQTTBrokerIP definement. Added support for WiFi modules such as an ESP8266 or a Wemos Mega connected to Serial3 (RX:15/TX:14) of the Arduino. The ESP8266 has to be flashed with the AT firmware from Espressif to work. Please take note that WiFi over serial is by design much slower (only 115kpbs) than \"pure\" TCP/IP connections. Added new category \"34 - Konfiguration / Erweiterungsmodule\". All subsequent categories move one number up! Lots of new parameters coming from device family 123, please run /Q to see if some parameters also work for your heater! Lots of new yet unknown parameters through brute force querying :) (parameter numbers 10200 and above) Added further PPS-Bus commands, moved parameter numbers to 15000 and above Default PPS mode now \"listening\". Use third parameter of bus definition to switch between listening and controlling, 1 stands for controlling, everything else for listening, i.e. BSB bus(68,67,1) sends data to the heater, BSB bus(68,67) only receives data from heater / room controller. You can switch between modes at run-time with URL command /P2,x where x is either 1 (for controlling) or not 1 (for listening only) Fixed bug that crashed PPS bus queries Stability improvements for PPS bus Improved graph legend when plotting several parameters Added JSON export; query with /JQ=a,b,c,d... or push queries to /JQ or push set commands to /JS Logging of MAX! parameters now possible with logging parameter 20007 Added Waterstage WP device family (119) Added WHG Procon device family (195) Added unit to log file as well as average output Rewrote device matching in cmd_tbl to accomodate also device variant (Ger\u00e4tevariante). Run /Q to see if transition has worked for your device! Added BSB_LAN_custom_setup.h and BSB_LAN_custom_global.h for you to add individual code (best used in conjunction with BSB_LAN_custom.h ) Marked all (known) OEM parameters with flag FL_OEM . OEM parameters are set by default as read-only. To make them writeable, change FL_OEM from 5 to 4 in BSB_LAN_defs.h Increased performance for querying several parameters at once (similar to category query) Added config option to define subnet. /Q no longer needs #define DEBUG Bugfix ENUM memory adressing Bugfix in reset function /N , clear EEPROM during reset with /NE Added favicon.ico Split of cmdtbl into cmdtbl1 and cmdtbl2 due to Arduino's(?) limit of 32kB size of struct, opening up more space for new parameters. Version 0.41 17.03.2019 Interim release containing all changes from 0.42 above, except locaization, i.e. all text fragments are still part of the main code. Version 0.40 21.01.2018 Implemented polling of MAX! heating thermostats, display with URL command /X See BSB_LAN_custom.h for an example to transmit average room temperature to heating system. Added new category \"22 - Energiez\u00e4hler\" - please note that all subsequent categories move one up! New virtual parameter 1601 (manual TWW push) Added Fujitsu Waterstage WSYP100DG6 device family (211) Added CTC device family (103) New definement #define TRUSTED_IP2 to grant access to a second local IP address Added optional definement #define GatewayIP in BSB_LAN_config.h to enable setting router address different from x.x.x.1 Removed parameter 10109 because it is the same as 10000 Added function to check all known CommandIDs on your own heating system. Use /Q after enabling definement #define DEBUG in BSB_LAN_config.h Added parameter numbers to category menu Updated analyze.sh hopefully fixing the memory issue Moved HTML strings to html_strings.h Version 0.39 02.01.2018 Implemntation of PPS-Bus protocol. See /K40 for the limited commands available for this bus. Use setBusType(2) to set to PPS upon boot or /P2 to switch temporarily. Set GPIOs to input by using /Gxx,I Definement #define CUSTOM_COMMANDS added. Use this in your configuration to include individual code from BSB_LAN_custom.h (needs to be created by you!) which is executed at the end of each main loop. Variables custom_timer and custom_timer_compare have been added to execute code at arbitrary intervals. Added LogoBloc Unit L-UB 25C device family (95) several new parameters added Bugfix for logging Brennerlaufzeit Stufe 2 Version 0.38 22.11.2017 ATTENTION: New BSB_LAN_config.h configurations! You need to adjust your configuration when upgrading to this version! Webserver port is now defined in #define Port xx IP address is now defined in #define IPAddr 88,88,88,88 form - note the commas instead of dots! Special log parameters 20002 to 20006 have changed, see BSB_LAN_config.h for their new meaning Added new virtual parameter 701 (Pr\u00e4senztaste) which enters reduced temperature mode until next timed switch Added Br\u00f6tje BOB device family (138), including many new parameters! Added Br\u00f6tje SOB26 device family (28) Added Elco Aquatop 8es device family (85) Added Elco Thision 13 Plus device family (203) Added Weishaupt WTU 25-G familiy (50) Added output for absolute humidity (g/m3) for DHT22 sensors New schematics for Arduino/Raspberry board layout Included support for W5500 Ethernet2 shields. Activate definement ETHERNET_W5500 in BSB_LAN_config.h Including two-stage oil furnaces BC-counters and logging - please note that logging parameters have been adjusted, see BSB_LAN_config.h for new values! Added new options for commands /P and /S to allow specifying a different destination device during runtime Added new configuration definement CUSTOM_COMMANDS which includes BSB_LAN_custom.h at the end of each main loop. You may use custom_timer (set to current millis()) and custom_timer_compare to execute only every x milliseconds. Bugfixing SD-card logging in monitor mode Bugfix for setting hour:time parameters via webinterface Version 0.37 08.09.2017 LPB implementation! More than 450 parameters supported! Switch temporarily between LPB and BSB with the /Px command (with x equals to 0=BSB, 1=LPB) or use the setBusType config option to set bus-type at boot-time. Parameter numbers are the same as for BSB. Version 0.36 23.08.2017 bugfix: brought back VT_BIT list of options which were erroneously deleted :(, fixed/freed several memory issues Version 0.35 25.06.2017 new category \"Sitherm Pro\"; caution: category numbers all move up by one, starting from category \"W\u00e4rmepumpe\" (from 20 to 21) onwards. graph display of logging data now comes with crosshair and shows detailed values as tooltip improved SD-card output by factor 3 (from 16 to 45 kbps), switching SD-card library from from SD.h to SdFat.h (https://github.com/greiman/SdFat) brings another 10% performance boost adjusted paths and directory layout of SdFat to enable compiling from sketch directory. new data type VT_SINT for signed int data, currently only used in some Sitherm Pro parameters Version 0.34 29.05.2017 Log data can now be displayed as graph Webinterface can now display and set VT_BIT type parameters in human-readable form added KonfigRGx descriptions; caution: various sources used, no guarantee that descriptions match your individual heating system! VT_BIT is generally read-only in the webinterface. To set, use URL command /S with decimal representation of value fixed a bug with VT_SECONDS_SHORT5 , affecting parameters 9500 and 9540. fixed bug regarding Fujitsu's device family (from 127 to 170) moved libraries from folder libraries to src so they can be included without copying them to the Arduino libraries folder modified DallasTemperature.h's include path for OneWire.h Version 0.33 09.05.2017 no more heating system definements anymore due to new autodetect function based on device family (parameter 6225), or set device_id variable to parameter value directly two more security options: TRUSTED_IP to limit access to one IP address only, and HTTP authentication with username and password Average values are saved on SD-card if present and LOGGER definement is activated deactivate logging by setting /L0=0 - this way you can enable LOGGER definement without filling up SD card but still save average values new error codes for THISION added dump of data payload on website for commands of unknown type, greyed out unsopported parameters enable logging of telegrams (log parameter 30000) also in monitor mode (bsb.cpp and bsb.h updated) time from heating system is now retreived periodically from broadcast telegrams, further reducing bus activity new data type VT_BIT for parameters that set individual bits. Display as binary digits, setting still using decimal representation new data type VT_TEMP_SHORT5_US for unsigned one byte temperatures divided by 2 (so far only 887 Vorlaufsoll NormAussentemp) new data type VT_PERCENT5 for unsigned one byte temperatures divided by 2 (so far only 885 Pumpe-PWM Minimum) new data type VT_SECONDS_WORD5 for two byte seconds divided by 2 (so far only 2232, 9500 and 9540) new data type VT_SECONDS_SHORT4 for (signed?) one byte seconds divided by 4 (so far only 2235) new data type VT_SECONDS_SHORT5 for (signed?) one byte seconds divided by 5 (so far only 9500, 9540) new data type VT_SPEED2 for two byte rpm (so far only 7050) cleaned up set() function from apparent duplicate cases added cases for VT_TEMP_WORD , VT_SECONDS_WORD5 , VT_TEMP_SHORT , VT_TEMP_SHORT5 , VT_SECONDS_SHORT4 to set() function Version 0.32 18.04.2017 lots of new parameters suppoerted newly designed webinterface allows control over heating system without any additional software or cryptic URL commands. URL commands of course are still available, so no need to change anything when using FHEM etc. German webinterface available with definement LANG_DE new URL-command /LB=x to log only broadcast messages (x=1) or all bus messages (x=0) new URL-command /X to reset the Arduino (need to enable RESET definement in BSB_LAN_config.h ) new logging parameters 20002 and 20003 for hot water loading times and cycles moved DS18B20 logging parameters from 20010-20019 to 20200-20299 and DHT22 logging parameters from 20020-20029 to 20100 to 20199 moved average logging parameter from 20002 to 20004 set numerous parameters to read-only because that's what they obviously are (K33-36) various bugfixes Version 0.31 10.04.2017 increased dumping of logfile by factor 5 / as long as we still have memory left, you can increase logbuflen from 100 to 1000 to increase transfer speed from approx. 16 to 18 kB/s adjusted burner activity monitoring based on broadcast messages for Br\u00f6tje systems removed definement PROGNR_5895 because so far, it has only disabled an ENUM definition. removed definement PROGNR_6030 because double command ID could be resolved via BROETJE / non-BROETJE definements renamed BROETJE_SOB to BROETJE in order to allow for fine-grained distinction between different BROETJE cases (e.g. 6800ff) This means you have to activate TWO definements when using a Br\u00f6tje system now: The general BROETJE as well as BROETJE_SOB or BROETJE_BSW . Have a look at your serial log for parameters 6800 to see which command IDs fit your system and activate one of both accordingly. changed 16-Bit addressing of flash memory to 32-Bit to address crashes due to ever growing PROGMEM tables - now we have lots of air to breathe again for new command IDs :) removed trailing \\0 string from several ENUMs that led to wrong ENUM listings. Please keep in mind not to end ENUMs with a trailing \\0 ! Version 0.30 22.03.2017 Time library by Paul Stoffregen (https://github.com/PaulStoffregen/Time) is now required and included in the library folder. adds logging of raw telegram data to SD card with logging parameter 30000. Logging telegram data is affected by commands /V and /LU adds command /LU=x to log only known (x=0) or unknown (x=1) command IDs when logging telegram data removed define USE_BROADCAST , broadcast data is now always processed new internal functions GetDateTime, TranslateAddr, TranslateType Version 0.29 07.03.2017 adds command /C to display current configuration adds command /L to configure logging interval and parameters adds option for command /A to set 24h average parameters during runtime adds special parameter 20002 for logging /A command (24h averages, only makes sense for long logging intervals) bugfixes for logging DS18B20 sensors Version 0.28 05.03.2017 adds special parameters 20000++ for SD card logging of /B, /T and /H commands (see BSB_LAN_config.h for examples) adds version info to BSB_LAN web interface Version 0.27 01.03.2017 adds date field to log file (requires exact time to be sent by heating system) /D0 recreates datalog.txt file with table header added \"flags\" field to command table structure. Currently, only FL_RONLY is supported to make a parameter read-only added DEFAULT_FLAG in config. Defaults to NULL , i.e. all fields are read/writeable. Setting it to FL_RONLY makes all parameters read-only, e.g. for added level of security. Individual parameters can be set to NULL / FL_RONLY to make only these parameters writable/read-only. Version 0.26 27.02.2017 added functionality for logging on micro SD card, using the slot of the w5100 Ethernet shield more parameters added (e.g. 8009) Version 0.25 21.02.2017 more FUJITSU parameters added Version 0.24 14.02.2017 updated README with added functions added German translations of FAQ and README, courtesy of Ulf Dieckmann Version 0.23 12.02.2017 minor bugfix Version 0.22 07.02.2017 more FUJITSU parameters (hopefully) correct implementation of VT_VOLTAGE readings minor bugfixes Version 0.21 06.02.2017 added numerous parameters for Fujitsu W\u00e4rmepumpe, including new #define FUJITSU directive to activate these parameters due to different parameter numbers minor bugfixes Version 0.20 27.01.2017 added more parameters for Feststoffkessel minor bugfixes Version 0.19 01.01.2017 added humidity command /H , currently for DHT22 sensors added 24h average command /A , define parameters in BSB_LAN_config.h removed trailing whitespace from menu strings fixed command id 0x053D04A2 for THISION heaters included Rob Tillaart's DHT library because there are various libraries implementing the protocol and this one is used in the code for its ability to address multiple sensors with one object. removed /temp URL parameter as it is a duplicate of /T included loop to display DHT22 sensors in IPWE making compiling IPWE extensions optional ( #define IPWE ) Version 0.18 22.12.2016 split off configuration into bsb_lan_config.h split off command definitions into bsb_lan_defs.h changed GPIO return values from LOW/HIGH to 1/0 reactivated and updated IPWE (define parameters in config) check for protected pins when accessing GPIO (define in config) added schematics and PCB files to new subfolder \"schematics\" Version 0.17a 20.12.2016 minor errors corrected Version 0.17 20.12.2016 merged v0.16 with FHEM user miwi's changes Version 0.16 20.11.2016 removed IPWE and EthRly interface added GPIO interface merged parameters from J.Weber resolved duplicate command IDs Version 0.15a 25.07.2016 collated the commands from a Python project and this project, merged the two versions, corrected obvious errors. Inserted hypothetical numerical values in ENUM definitions where Broetje manuals documented only the message texts. added information from traces in a Broetje installation with an ISR-SSR controller and a WOB 25C oil furnace. Version 0.15 21.04.2016 added Solar and Pufferspeicher from Elco Logon B & Logon B MM Version 0.14 04.04.2016 minor bugfixes for Broetje SOB extended broadcast handling (experimental) Version 0.13 31.03.2016 change resistor value in receiving path from 4k7 to 1k5 added values 0x0f and 0x10 to Enum8005 fixed strings for Zeitprogramme added timeout for sending a message (1 second) added /T for querying one wire temperature sensors in mixed querys added special handling for Broetje SOB simplified settings Version 0.12 09.04.2015 added ONEWIRE_SENSORS to ipwe fixed parameter decoding for ELCO Thision heating system Version 0.11 07.04.2015 fixed parameter decoding for ELCO Thision heating system Version 0.10 15.03.2015 added more parameters for ELCO Thision heating system Version 0.9 09.03.2015 added more parameters for ELCO Thision heating system printTelegramm returns value string for further processing Version 0.8 05.03.2015 added parameters for ELCO Thision heating system added IPWE extension minor bugfixes Version 0.7 06.02.2015 added bus monitor functionality Version 0.6 02.02.2015 renamed SoftwareSerial to BSBSoftwareSerial changed folder structure to enable simple build with arduino sdk Version 0.5 02.02.2015 bugfixes added documentation (README) added passkey feature added /R feature (query reset value) added /E feature (list enum values) added setter for almost all value types fixed indentation added /V feature to set verbosity for serial output set baudrate to 115200 for serial output redirecting favicon request added some images of the BSB adapter Version 0.1 21.01.2015 initial version","title":"ChangeLog"},{"location":"CHANGELOG.html#changelog","text":"","title":"ChangeLog"},{"location":"CHANGELOG.html#current-master","text":"ATTENTION: BREAKING CHANGE! Streamlined topic structure for MQTT. New strucuture adds /status for querying a parameter, /set for SETting a parameter, /inf for sending data as INF telegram and /poll to force BSB-LAN to send an update of that parameter value to the broker. If you are using MQTT auto-discovery, ideally, calling /M1 should update these changes. However, if you are using your own configurations, you'll have to make adjustments here. ATTENTION: BREAKING CHANGE! When using JSON settings for MQTT, previously all messages were written to the BSB-LAN/json and thus basically immediately overwritten when logging several parameters. Now this setting only determines the format (and not format and topic) of the data that is written into /status of each parameter. For auto-discovery, plain text remains the only valid choice. ATTENTION: BREAKING CHANGE The acknowledgement message sent by BSB-LAN to the MQTT topic has been removed. Instead, QoS for publishing messages has been set to level 1. ATTENTION: BREAKING CHANGE: Log configuration values have changed. However, only users that have logged to UDP are affected and will have to adjust their settings. ATTENTION: /JK=ALL now lists all categories of all devices in LPB systems with more than one device. Use dev_fam and dev_var keys to sort and identify which category applies to the current destination device. Added setting to only publish log parameters to MQTT. Forcing MQTT updates via /poll topic are still possible. Added state_class for non cumulative sensors in MQTT auto-discovery Updated the room unit emulation in custom_functions to work with version 4.x. Bugfix for VT_ENERGY, added new data type VT_ENERGY10 and VT_ENERGY10_N Setting the time as well as time programs no longer requires underscores, instead, spaces are used. Underscores will still work for now, but are deprecated and will be removed at some later time. Disabling parameters can now be done both with an empty value as well as by sending --- . Sending an empty value is still possible, but is depracated and will be removed at some later time.","title":"Current Master"},{"location":"CHANGELOG.html#version-41","text":"06.11.2024 ATTENTION: BREAKING CHANGE! Changed topic structure for MQTT. This means that all existing MQTT entities in your home-automation system will have to be adjusted or created anew! The new structure now is BSB-LAN/<device id>/<category id>/<parameter number> . ATTENTION: BREAKING CHANGE! Changed unique_id for MQTT auto-discovery. This means that all MQTT entities that have been created via auto-discovery will have to be created anew! ATTENTION: Configuration options fixed_device_family and fixed_device_variant have been removed since they no longer work for device-specific parameter lists. If your heating system is off when turning on the microcontroller, BSB-LAN will try to acquire the details every 60 seconds. ATTENTION: Change of configuration options results in new EEPROM layout, therefore EEPROM will be reinitialized based on configuration of BSB_LAN_config.h . MQTT auto-discovery now works for all devices, not only device ID 0. Use /M1!<x> or /M0!<x> to create/remove entities for device ID <x> . Changed MQTT auto-discovery messages' flag to \"retain\" so that parameters remain available after reboot of Home Assistant.","title":"Version 4.1"},{"location":"CHANGELOG.html#version-40","text":"01.11.2024 ATTENTION: BREAKING CHANGE! Room temperature parameter 10000, 10001 and 10002 must now have the additional flag FL_SPECIAL_INF , otherwise setting temperature will not work! ATTENTION: BREAKING CHANGE! Outside temperature simulation parameter 10017 must have FL_SPECIAL_INF flag removed, otherwise setting temperature will not work! ATTENTION: BREAKING CHANGE! Room temperature parameter 10000, 10001 and 10002 for Weishaupt heaters (device families 49, 50, 51 and 59) must now have FL_SPECIAL_INF flag removd, otherwise setting temperature will not work! ATTENTION: BREAKING CHANGE! URL commands /U (dislpay user-defined variables) and /X (display MAX! values) have been removed as these values can now be accessed via parameters 20000++ ATTENTION: BREAKING CHANGE! PPS time program parameters (15050-15091) have been streamlined with BSB/LPB time program parameters, resulting in only one parameter per day (instead of six), covering three switch points (start and end) per parameter. ATTENTION: For ESP32, BSB-LAN requires ESP32 framework version 3.0.x - please look out for errors or strange behaviour (1-Wire sensors are still not tested) as well as any other kind of strange behaviour/crashes. ATTENTION: New configuration options in BSB_LAN_config.h - please update your existing configuration files! Web-based configuration will be overwritten with config file settings due to change in EEPROM layout! ATTENTION: New manual URL: https://docs.bsb-lan.de/ BUTTONS and RGT_EMULATION have been moved from main code to custom_functions library. To continue using them, make use of BSB_LAN_custom_*.h files and activate CUSTOM_COMMANDS definement. Most configuration definements removed from BSB_LAN_config.h . Almost all functionality can now be configured without reflashing. BSB-LAN now supports MQTT auto discovery (supported e.g. by Home Assistant). To create devices, call URL command /M1 , to remove them call /M0 ATTENTION: MQTT auto discovery creates a general switch for the BSB-LAN device in Home Assistant. This switch will immediately write all parameters with the values stored in Home Assistant. DO NOT USE THIS SWITCH unless you REALLY know what it does! \"Set\" button in webinterface now also works with non-default destination devices (i.e. 1 instead of 0) Queried/set parameters are now forwarded to the MQTT broker (if MQTT is enabled) Previously used /M1 and /M0 for toggling monitor function have been removed since it can now be accessed via the configuration in the webinterface. Listing categories with /K now also works with destination device (e.g. /K!1 for destination device 1, default is 0). Important bugfix for OTA update: Previous versions had a hard limit on file size which newer heating systems with several hundred parameters hit, so no OTA update was possible. This is now fixed, but affected users will have to make a USB-based update one more time. 1-Wire- and DHT-sensors are now be disabled with value -1 instead of 0. In web interface, an empty field is also accepted. MQTTTopicPrefix is no longer optional, \"fromBroker\" topic removed (formerly used to send commands to BSB-LAN via MQTT) Using the 24h averages functionality no longer requires the use of an SD card. SD card will only be used to store averages if interval logging to SD card is active. New PPS room unit variant for RVD130, which increases high nibble of magic byte at every transaction. Polling current time from NTP server is active by default. Deactivate by setting ntp_server to empty string. New parameter flag FL_NOSWAP_QUR for parameters that do not swap the first two bytes of command ID in QUR telegram New parameter flag FL_FORCE_INF for parameters from which we are certain they only work with INF (such as room temperature). Will force an INF telegram even if /S is used to set the parameter (allows setting room temperature via web interface) BSB-LAN logo watermark in log graph display (DE-cr) Binary ENUMs (yes/no, on/off etc.) now return either 0 or 1 when queried, not - as is the case with some heating systems - 0 or 255. Setting any value from 1 to 255 is still possible. Fixed a breaking bug in PPS that prevented running properly in active/room unit mode. Fixed bug (or, based on perspective, reduced security) that prevented issuing commands via serial/telnet console when HTTP authentication was active Various bugfixes, among others logging of bus telegrams on storage device. New OneWireNg library version This release has been supported by the following sponsors: Erich Scheilko","title":"Version 4.0"},{"location":"CHANGELOG.html#version-33","text":"12.03.2024 ATTENTION: New configuration options in BSB_LAN_config.h - please update your existing configuration files! ESP32: Support for receiving date and time via NTP instead of taking it from the heater. MQTT broker setting now accepts domain names as well as IP addresses. An optional port can be added after a trailing colon, e.g. broker.my-domain.com:1884. Otherwise defaults to 1883. ESP32 NodeMCU: Support for optional additional SD card adapter. SPI pins can be configured in BSB_LAN_config.h , defaulting to standard SPI pins 5, 18, 19 and 23. ESP32: Switching between log storage device (SD card / internal flash) can now be done in the web interface. ESP32: Create temporary WiFi AP in case Ethernet connection fails ESP32 NodeMCU: EEPROM clear pin has changed from 18 to 21 in order not to collide with SPI SD card adapters. This release has been supported by the following GitHub sponsors: jsimon3","title":"Version 3.3"},{"location":"CHANGELOG.html#version-32","text":"15.11.2023 ATTENTION: In BSB_LAN_config.h , new layout of log_parameters , avg_parameters and ipwe_parameters now written in curly brackets and different size (40 instead of 80) and type ( parameter instead of float ). Please update your BSB_LAN_config.h accordingly to prevent errors! Added configuration file versioning checks to prevent the use of outdated configuration files with newer software versions. Variable esp32_save_energy now defaults to false because it only seems to make sense when using LAN connection or if you use WiFi and can live with the performance impact. Added folder custom_functions where code examples for useful functions will be collected which are nevertheless too specific to be added to BSB-LAN's core code. Added custom function example for mapping DS18B20 sensors to fixed custom floats parameters This release has been supported by the following GitHub Sponsors: BraweProg, fdobrovolny, Harald","title":"Version 3.2"},{"location":"CHANGELOG.html#version-31","text":"04.06.2023 ATTENTION: For ESP32 devices using internal flash for log storage: Filesystem was switched from SPIFFS to LittleFS. Download important log data before updating! ATTENTION: In BSB_LAN_config.h , the structure of log_parameters , avg_parameters and ipwe_parameters has changed and now includes the destination device on the bus! ATTENTION: New EEPROM schema may result in lost web-configuration settings when updating. Note your settings prior to updating! ATTENTION: New variable esp32_save_energy in BSB_LAN_config.h - update before compiling new version. ATTENTION: New variable bssid in BSB_LAN_config.h - defines a fixed BSSID address to connect to when using WiFi on ESP32. Parameters can now be queried from other devices on the bus using the ! notation also when logging (including MQTT) or using average or IPWE parameters Enable/disable power saving on ESP32. Saves 20% of energy, but can have impact on WiFi range and downloading speed of log files when using WiFi (LAN not affected) Improved performance and flash memory usage on ESP32 devices using internal flash for logging due to switch from SPIFFS to LittleFS To improve handling of large datalogs: date range selection in /DG , new url commands /Da,b , /DA , /DB , /Dn , /DI and /DKn This release has been supported by the following GitHub Sponsors: lapixo, nrobadey","title":"Version 3.1"},{"location":"CHANGELOG.html#version-30","text":"16.03.2023 ATTENTION: BSB_LAN_custom_defs.h .default needs to be renamed to BSB_LAN_custom_defs.h and only contains a very limited set of parameters by default. See the manual for getting device-specific parameter lists. Add new /LN URL command to force logging irrespective of current interval. Improved library checks: No need for ESP32 users to remove ArduinoMDNS and WiFiSpi folders anymore. New SdFat version 2 for Arduino Due New data type VT_BINARY_ENUM This release has been supported by the following GitHub Sponsors: Alex, DE-cr","title":"Version 3.0"},{"location":"CHANGELOG.html#version-22","text":"01.11.2022 ATTENTION: Several variables in BSB_LAN_config.h .default have changed their variable type, it's probably best to re-create your BSB_LAN_config.h from scratch. Parameter numbers are now floating point (i.e. XXXX.Y) because some parameters contain two different kinds of information. These are now shown in decimal increments of 0.1. You can still qurey the \"main\" parameter via XXXX (without .Y) Lots of bugfixes and new data types Device-specific parameter lists supported","title":"Version 2.2"},{"location":"CHANGELOG.html#version-21","text":"30.07.2022 Many new parameters for LMU64 ATTENTION: New categories for LMU64 and RVD/RVP controllers due to their different numbering schemes. Will be filled over time. PPS and sensor categories have moved up by two. ESP32: OTA now uses system-wide HTTP AUTH authentication credentials Improved built-in chart display /DG , new configuration definement #define USE_ADVANCED_PLOT_LOG_FILE - thanks to Christian Ramharter Optional logging via UDP broadcast added (configurable, same parameters and format as in SD card logging) Lots of bugfixes","title":"Version 2.1"},{"location":"CHANGELOG.html#version-20","text":"31.12.2021 ATTENTION: LOTS of new functionalities, some of which break compatibility with previous versions, so be careful and read all the docs if you make the upgrade! ATTENTION: Added and reorganized PPS parameters, almost all parameter numbers have changed! ATTENTION: Change of EEPROM layout will lead to loading of default values from BSB_LAN_config.h ! You need to write settings to EEPROM in configuration menu again! ATTENTION: Folder locations and filenames have been adjusted for easier installation! If you update your installation, please take note that the configuration is now in BSB_LAN_config.h (LAN in caps), and no longer in BSB_lan_config.h (lower-caps \"lan\") ATTENTION: HTTP-Authentication configuration has changed and now uses plain text instead of Base64 encoded strings! Thanks to GitHub user do13, this code now also compiles on a ESP32, tested on NodeMCU-ESP32, Olimex ESP32-POE and Olimex ESP32-EVB boards. ESP32 code uses SDK version 2.0.2, please take note when configuring Arduino IDE! OTA Updates now possible for ESP32-based devices Support for special PPS devices (based on DC225/Honeywell MCBA) added Webinterface allows for configuration of most settings without the need to re-flash, also split into basic and extended configuration Added better WiFi option for Arduinos through Jiri Bilek's WiFiSpi library, using an ESP8266-based microcontroller like Wemos D1 mini or LoLin NodeMCU. Older WiFi-via-Serial approach no longer supported. Added MDNS_SUPPORT definement in config so that BSB-LAN can be discovered through mDNS If BSB-LAN cannot connect to WiFi on ESP32, it will set up its own access point BSB-LAN with password BSB-LPB-PPS-LAN for 30 minutes. After that, it will reboot and try to connect again. New MQTT functions, including allowing any parameter to be set by an MQTT message and actively query any parameter once by sending an MQTT message Added support for BME280 sensors Setting a temporary destination address for querying parameters by adding !x (where x is the destination id), e.g. /6224!10 to query the identification of the display unit URL commands /A /B /T and /JA have been removed as all sensors can now be accessed via parameter numbers 20000 and above as well as (currently) under new category K49. New categories added, subsequent categories have been shifted up HTTP Authentification now uses clear text username and password in configuration PPS users can now send time and day of week to heater Lots of new parameters added URL command /JR allows for querying the standard (reset) value of a parameter in JSON format URL command /JB allows for backing up parameters to JSON file New library for DHT22 should provide more reliable results Consolidated data and value types: New data types VT_YEAR , VT_DAYMONTH , VT_TIME as subsets of VT_DATETIME for parameters 1-3, replacing VT_SUMMERPERIOD and adjusting VT_VACATIONPROG . New value types DT_THMS for time consisting of hour:minutes:seconds MQTT: Use MQTTDeviceID as a client ID for the broker, still defaults to BSB-LAN . ATTENTION: Check your config if you're broker relies on the client ID in any way for authorization etc.","title":"Version 2.0"},{"location":"CHANGELOG.html#version-11","text":"10.11.2020 ATTENTION: DHW Push (\"Trinkwasser Push\") parameter had to be moved from 1601 to 1603 because 1601 has a different \"official\" meaning on some heaters. Please check and change your configuration if necessary ATTENTION: New categories added, most category numbers (using /K) will be shifted up by a few numbers. /JA URL command outputs average values Many new parameters decoded New parameters for device families 25, 44, 51, 59, 68, 85, 88, 90, 96, 97, 108, 134, 162, 163, 170, 195, 209, 211 Improved mobile display of webinterface Added definement \"BtSerial\" for diverting serial output to Serial2 where a Bluetooth adapter can be connected (5V->5V, GND->GND, RX->TX2, TX->RX2). Adapter has to be in slave mode and configured to 115200 bps, 8N1. Lots of added Polish translations New data types VT_BYTE10 , VT_SPF Bugfix for PPS bus regarding display of heating time programs Bugfix for MQTT","title":"Version 1.1"},{"location":"CHANGELOG.html#version-10","text":"03.08.2020 /JI URL command outputs configuration in JSON structure /JC URL command gets list of possible values from user-defined list of functions. Example: /JC=505,700,701,702,711,1600,1602 Logging telegrams (log parameter 30000) now writes to separate file ( journal.txt ). It can be reset with /D0 (same time with datalog.txt) command and dumped with /DJ command. removed WIFI configuration as it is no longer applicable for the Due lots of new parameters for various device families Code optimization and restructuring, general increase of speed new schemativs for board layout V3 lots of bugfixes","title":"Version 1.0"},{"location":"CHANGELOG.html#version-044","text":"11.05.2020 Added webserver functionality via SD card and various other improvements from GitHub user dukess Added JSON output for MQTT mobile friendlier web interface more parameters and device families last version completely tested on Mega 2560. Future versions may still run on the Mega, but will only be tested on the Arduino Due.","title":"Version 0.44"},{"location":"CHANGELOG.html#version-043","text":"20.02.2020 Added support for HardwareSerial (Serial1) connection of the adapter. Use RX pin 19 in bus() definition to activate. See manual/forum for hardware details. Added definement DebugTelnet to divert serial output to telnet client (port 23, no password) in BSB_LAN_config.h Added possibility to control BSB-LAN (almost?) completely via USB-serial port. Most commands supported like their URL-counterparts, i.e. /<passcode>/xxx to query parameter xxx or /<passcode>/N to restart Arduino. Changed default device ID from 6 (room controller \"RGT1\") to unused ID 66 (\"LAN\") Many new parameters, please run /Q to see any possible changes for your device family and report back to us! Added global variables (arrays of 20 bytes) custom_floats[] and custom_longs[] for use with BSB_LAN_custom.h , for example to read sensors etc. Output of these variables is done via new URL command /U Added device families 23 and 29 (Gr\u00fcnenwald heaters) Added device families 49, 52, 59 (Weishaupt heaters) Added device fmilies 91, 92, 94, 118, 133, 136, 137, 165, 184, 188 (various controllers like QAA75 or AVS37) Added device family 171 (B\u00f6sch wood pellet system) Added device family 172 (SensoTherm BLW Split B (RVS21.826F/200)) Added device families 186 and 164 (Olymp WHS-500) Added device family 195 variant 2 (Thision 19 Plus / LMS14.111B109) Including DHT, 1Wire and burner status parameters (>20000) to MQTT English is now default language Updated various translations Added STL files to print a case with a 3D printer (thanks to FHEM user EPo!) Moved all sensors to /T , /H is now no longer used New virtual parameters 702/703 for Weishaupt room controller New virtual parameter 10003 to set outside temperature on newer systems Added text descriptions for error phases (6706 ff.) /Q is now more comprehensive New data types VT_CUSTOM_ENUM and VT_CUSTOM_BYTE to extract information from non-standard telegrams (such as 702/703) Bugfix: DHCP (ethernet) implementation","title":"Version 0.43"},{"location":"CHANGELOG.html#version-042","text":"21.03.2019 Added localization! Now you can help translate BSB-LAN into your language! Simply copy one of the language files from the localization folder ( LANG_DE.h is the most complete) and translate whatever you can. Non-translated items will be displayed in German. Attention: Language definition in BSB_LAN_config.h is now #define LANG <ISO-CODE> For example: #define LANG DE Added export to MQTT broker, use log_parameters [] in BSB_LAN_config.h to define parameters and activate MQTTBrokerIP definement. Added support for WiFi modules such as an ESP8266 or a Wemos Mega connected to Serial3 (RX:15/TX:14) of the Arduino. The ESP8266 has to be flashed with the AT firmware from Espressif to work. Please take note that WiFi over serial is by design much slower (only 115kpbs) than \"pure\" TCP/IP connections. Added new category \"34 - Konfiguration / Erweiterungsmodule\". All subsequent categories move one number up! Lots of new parameters coming from device family 123, please run /Q to see if some parameters also work for your heater! Lots of new yet unknown parameters through brute force querying :) (parameter numbers 10200 and above) Added further PPS-Bus commands, moved parameter numbers to 15000 and above Default PPS mode now \"listening\". Use third parameter of bus definition to switch between listening and controlling, 1 stands for controlling, everything else for listening, i.e. BSB bus(68,67,1) sends data to the heater, BSB bus(68,67) only receives data from heater / room controller. You can switch between modes at run-time with URL command /P2,x where x is either 1 (for controlling) or not 1 (for listening only) Fixed bug that crashed PPS bus queries Stability improvements for PPS bus Improved graph legend when plotting several parameters Added JSON export; query with /JQ=a,b,c,d... or push queries to /JQ or push set commands to /JS Logging of MAX! parameters now possible with logging parameter 20007 Added Waterstage WP device family (119) Added WHG Procon device family (195) Added unit to log file as well as average output Rewrote device matching in cmd_tbl to accomodate also device variant (Ger\u00e4tevariante). Run /Q to see if transition has worked for your device! Added BSB_LAN_custom_setup.h and BSB_LAN_custom_global.h for you to add individual code (best used in conjunction with BSB_LAN_custom.h ) Marked all (known) OEM parameters with flag FL_OEM . OEM parameters are set by default as read-only. To make them writeable, change FL_OEM from 5 to 4 in BSB_LAN_defs.h Increased performance for querying several parameters at once (similar to category query) Added config option to define subnet. /Q no longer needs #define DEBUG Bugfix ENUM memory adressing Bugfix in reset function /N , clear EEPROM during reset with /NE Added favicon.ico Split of cmdtbl into cmdtbl1 and cmdtbl2 due to Arduino's(?) limit of 32kB size of struct, opening up more space for new parameters.","title":"Version 0.42"},{"location":"CHANGELOG.html#version-041","text":"17.03.2019 Interim release containing all changes from 0.42 above, except locaization, i.e. all text fragments are still part of the main code.","title":"Version 0.41"},{"location":"CHANGELOG.html#version-040","text":"21.01.2018 Implemented polling of MAX! heating thermostats, display with URL command /X See BSB_LAN_custom.h for an example to transmit average room temperature to heating system. Added new category \"22 - Energiez\u00e4hler\" - please note that all subsequent categories move one up! New virtual parameter 1601 (manual TWW push) Added Fujitsu Waterstage WSYP100DG6 device family (211) Added CTC device family (103) New definement #define TRUSTED_IP2 to grant access to a second local IP address Added optional definement #define GatewayIP in BSB_LAN_config.h to enable setting router address different from x.x.x.1 Removed parameter 10109 because it is the same as 10000 Added function to check all known CommandIDs on your own heating system. Use /Q after enabling definement #define DEBUG in BSB_LAN_config.h Added parameter numbers to category menu Updated analyze.sh hopefully fixing the memory issue Moved HTML strings to html_strings.h","title":"Version 0.40"},{"location":"CHANGELOG.html#version-039","text":"02.01.2018 Implemntation of PPS-Bus protocol. See /K40 for the limited commands available for this bus. Use setBusType(2) to set to PPS upon boot or /P2 to switch temporarily. Set GPIOs to input by using /Gxx,I Definement #define CUSTOM_COMMANDS added. Use this in your configuration to include individual code from BSB_LAN_custom.h (needs to be created by you!) which is executed at the end of each main loop. Variables custom_timer and custom_timer_compare have been added to execute code at arbitrary intervals. Added LogoBloc Unit L-UB 25C device family (95) several new parameters added Bugfix for logging Brennerlaufzeit Stufe 2","title":"Version 0.39"},{"location":"CHANGELOG.html#version-038","text":"22.11.2017 ATTENTION: New BSB_LAN_config.h configurations! You need to adjust your configuration when upgrading to this version! Webserver port is now defined in #define Port xx IP address is now defined in #define IPAddr 88,88,88,88 form - note the commas instead of dots! Special log parameters 20002 to 20006 have changed, see BSB_LAN_config.h for their new meaning Added new virtual parameter 701 (Pr\u00e4senztaste) which enters reduced temperature mode until next timed switch Added Br\u00f6tje BOB device family (138), including many new parameters! Added Br\u00f6tje SOB26 device family (28) Added Elco Aquatop 8es device family (85) Added Elco Thision 13 Plus device family (203) Added Weishaupt WTU 25-G familiy (50) Added output for absolute humidity (g/m3) for DHT22 sensors New schematics for Arduino/Raspberry board layout Included support for W5500 Ethernet2 shields. Activate definement ETHERNET_W5500 in BSB_LAN_config.h Including two-stage oil furnaces BC-counters and logging - please note that logging parameters have been adjusted, see BSB_LAN_config.h for new values! Added new options for commands /P and /S to allow specifying a different destination device during runtime Added new configuration definement CUSTOM_COMMANDS which includes BSB_LAN_custom.h at the end of each main loop. You may use custom_timer (set to current millis()) and custom_timer_compare to execute only every x milliseconds. Bugfixing SD-card logging in monitor mode Bugfix for setting hour:time parameters via webinterface","title":"Version 0.38"},{"location":"CHANGELOG.html#version-037","text":"08.09.2017 LPB implementation! More than 450 parameters supported! Switch temporarily between LPB and BSB with the /Px command (with x equals to 0=BSB, 1=LPB) or use the setBusType config option to set bus-type at boot-time. Parameter numbers are the same as for BSB.","title":"Version 0.37"},{"location":"CHANGELOG.html#version-036","text":"23.08.2017 bugfix: brought back VT_BIT list of options which were erroneously deleted :(, fixed/freed several memory issues","title":"Version 0.36"},{"location":"CHANGELOG.html#version-035","text":"25.06.2017 new category \"Sitherm Pro\"; caution: category numbers all move up by one, starting from category \"W\u00e4rmepumpe\" (from 20 to 21) onwards. graph display of logging data now comes with crosshair and shows detailed values as tooltip improved SD-card output by factor 3 (from 16 to 45 kbps), switching SD-card library from from SD.h to SdFat.h (https://github.com/greiman/SdFat) brings another 10% performance boost adjusted paths and directory layout of SdFat to enable compiling from sketch directory. new data type VT_SINT for signed int data, currently only used in some Sitherm Pro parameters","title":"Version 0.35"},{"location":"CHANGELOG.html#version-034","text":"29.05.2017 Log data can now be displayed as graph Webinterface can now display and set VT_BIT type parameters in human-readable form added KonfigRGx descriptions; caution: various sources used, no guarantee that descriptions match your individual heating system! VT_BIT is generally read-only in the webinterface. To set, use URL command /S with decimal representation of value fixed a bug with VT_SECONDS_SHORT5 , affecting parameters 9500 and 9540. fixed bug regarding Fujitsu's device family (from 127 to 170) moved libraries from folder libraries to src so they can be included without copying them to the Arduino libraries folder modified DallasTemperature.h's include path for OneWire.h","title":"Version 0.34"},{"location":"CHANGELOG.html#version-033","text":"09.05.2017 no more heating system definements anymore due to new autodetect function based on device family (parameter 6225), or set device_id variable to parameter value directly two more security options: TRUSTED_IP to limit access to one IP address only, and HTTP authentication with username and password Average values are saved on SD-card if present and LOGGER definement is activated deactivate logging by setting /L0=0 - this way you can enable LOGGER definement without filling up SD card but still save average values new error codes for THISION added dump of data payload on website for commands of unknown type, greyed out unsopported parameters enable logging of telegrams (log parameter 30000) also in monitor mode (bsb.cpp and bsb.h updated) time from heating system is now retreived periodically from broadcast telegrams, further reducing bus activity new data type VT_BIT for parameters that set individual bits. Display as binary digits, setting still using decimal representation new data type VT_TEMP_SHORT5_US for unsigned one byte temperatures divided by 2 (so far only 887 Vorlaufsoll NormAussentemp) new data type VT_PERCENT5 for unsigned one byte temperatures divided by 2 (so far only 885 Pumpe-PWM Minimum) new data type VT_SECONDS_WORD5 for two byte seconds divided by 2 (so far only 2232, 9500 and 9540) new data type VT_SECONDS_SHORT4 for (signed?) one byte seconds divided by 4 (so far only 2235) new data type VT_SECONDS_SHORT5 for (signed?) one byte seconds divided by 5 (so far only 9500, 9540) new data type VT_SPEED2 for two byte rpm (so far only 7050) cleaned up set() function from apparent duplicate cases added cases for VT_TEMP_WORD , VT_SECONDS_WORD5 , VT_TEMP_SHORT , VT_TEMP_SHORT5 , VT_SECONDS_SHORT4 to set() function","title":"Version 0.33"},{"location":"CHANGELOG.html#version-032","text":"18.04.2017 lots of new parameters suppoerted newly designed webinterface allows control over heating system without any additional software or cryptic URL commands. URL commands of course are still available, so no need to change anything when using FHEM etc. German webinterface available with definement LANG_DE new URL-command /LB=x to log only broadcast messages (x=1) or all bus messages (x=0) new URL-command /X to reset the Arduino (need to enable RESET definement in BSB_LAN_config.h ) new logging parameters 20002 and 20003 for hot water loading times and cycles moved DS18B20 logging parameters from 20010-20019 to 20200-20299 and DHT22 logging parameters from 20020-20029 to 20100 to 20199 moved average logging parameter from 20002 to 20004 set numerous parameters to read-only because that's what they obviously are (K33-36) various bugfixes","title":"Version 0.32"},{"location":"CHANGELOG.html#version-031","text":"10.04.2017 increased dumping of logfile by factor 5 / as long as we still have memory left, you can increase logbuflen from 100 to 1000 to increase transfer speed from approx. 16 to 18 kB/s adjusted burner activity monitoring based on broadcast messages for Br\u00f6tje systems removed definement PROGNR_5895 because so far, it has only disabled an ENUM definition. removed definement PROGNR_6030 because double command ID could be resolved via BROETJE / non-BROETJE definements renamed BROETJE_SOB to BROETJE in order to allow for fine-grained distinction between different BROETJE cases (e.g. 6800ff) This means you have to activate TWO definements when using a Br\u00f6tje system now: The general BROETJE as well as BROETJE_SOB or BROETJE_BSW . Have a look at your serial log for parameters 6800 to see which command IDs fit your system and activate one of both accordingly. changed 16-Bit addressing of flash memory to 32-Bit to address crashes due to ever growing PROGMEM tables - now we have lots of air to breathe again for new command IDs :) removed trailing \\0 string from several ENUMs that led to wrong ENUM listings. Please keep in mind not to end ENUMs with a trailing \\0 !","title":"Version 0.31"},{"location":"CHANGELOG.html#version-030","text":"22.03.2017 Time library by Paul Stoffregen (https://github.com/PaulStoffregen/Time) is now required and included in the library folder. adds logging of raw telegram data to SD card with logging parameter 30000. Logging telegram data is affected by commands /V and /LU adds command /LU=x to log only known (x=0) or unknown (x=1) command IDs when logging telegram data removed define USE_BROADCAST , broadcast data is now always processed new internal functions GetDateTime, TranslateAddr, TranslateType","title":"Version 0.30"},{"location":"CHANGELOG.html#version-029","text":"07.03.2017 adds command /C to display current configuration adds command /L to configure logging interval and parameters adds option for command /A to set 24h average parameters during runtime adds special parameter 20002 for logging /A command (24h averages, only makes sense for long logging intervals) bugfixes for logging DS18B20 sensors","title":"Version 0.29"},{"location":"CHANGELOG.html#version-028","text":"05.03.2017 adds special parameters 20000++ for SD card logging of /B, /T and /H commands (see BSB_LAN_config.h for examples) adds version info to BSB_LAN web interface","title":"Version 0.28"},{"location":"CHANGELOG.html#version-027","text":"01.03.2017 adds date field to log file (requires exact time to be sent by heating system) /D0 recreates datalog.txt file with table header added \"flags\" field to command table structure. Currently, only FL_RONLY is supported to make a parameter read-only added DEFAULT_FLAG in config. Defaults to NULL , i.e. all fields are read/writeable. Setting it to FL_RONLY makes all parameters read-only, e.g. for added level of security. Individual parameters can be set to NULL / FL_RONLY to make only these parameters writable/read-only.","title":"Version 0.27"},{"location":"CHANGELOG.html#version-026","text":"27.02.2017 added functionality for logging on micro SD card, using the slot of the w5100 Ethernet shield more parameters added (e.g. 8009)","title":"Version 0.26"},{"location":"CHANGELOG.html#version-025","text":"21.02.2017 more FUJITSU parameters added","title":"Version 0.25"},{"location":"CHANGELOG.html#version-024","text":"14.02.2017 updated README with added functions added German translations of FAQ and README, courtesy of Ulf Dieckmann","title":"Version 0.24"},{"location":"CHANGELOG.html#version-023","text":"12.02.2017 minor bugfix","title":"Version 0.23"},{"location":"CHANGELOG.html#version-022","text":"07.02.2017 more FUJITSU parameters (hopefully) correct implementation of VT_VOLTAGE readings minor bugfixes","title":"Version 0.22"},{"location":"CHANGELOG.html#version-021","text":"06.02.2017 added numerous parameters for Fujitsu W\u00e4rmepumpe, including new #define FUJITSU directive to activate these parameters due to different parameter numbers minor bugfixes","title":"Version 0.21"},{"location":"CHANGELOG.html#version-020","text":"27.01.2017 added more parameters for Feststoffkessel minor bugfixes","title":"Version 0.20"},{"location":"CHANGELOG.html#version-019","text":"01.01.2017 added humidity command /H , currently for DHT22 sensors added 24h average command /A , define parameters in BSB_LAN_config.h removed trailing whitespace from menu strings fixed command id 0x053D04A2 for THISION heaters included Rob Tillaart's DHT library because there are various libraries implementing the protocol and this one is used in the code for its ability to address multiple sensors with one object. removed /temp URL parameter as it is a duplicate of /T included loop to display DHT22 sensors in IPWE making compiling IPWE extensions optional ( #define IPWE )","title":"Version 0.19"},{"location":"CHANGELOG.html#version-018","text":"22.12.2016 split off configuration into bsb_lan_config.h split off command definitions into bsb_lan_defs.h changed GPIO return values from LOW/HIGH to 1/0 reactivated and updated IPWE (define parameters in config) check for protected pins when accessing GPIO (define in config) added schematics and PCB files to new subfolder \"schematics\"","title":"Version 0.18"},{"location":"CHANGELOG.html#version-017a","text":"20.12.2016 minor errors corrected","title":"Version 0.17a"},{"location":"CHANGELOG.html#version-017","text":"20.12.2016 merged v0.16 with FHEM user miwi's changes","title":"Version 0.17"},{"location":"CHANGELOG.html#version-016","text":"20.11.2016 removed IPWE and EthRly interface added GPIO interface merged parameters from J.Weber resolved duplicate command IDs","title":"Version 0.16"},{"location":"CHANGELOG.html#version-015a","text":"25.07.2016 collated the commands from a Python project and this project, merged the two versions, corrected obvious errors. Inserted hypothetical numerical values in ENUM definitions where Broetje manuals documented only the message texts. added information from traces in a Broetje installation with an ISR-SSR controller and a WOB 25C oil furnace.","title":"Version 0.15a"},{"location":"CHANGELOG.html#version-015","text":"21.04.2016 added Solar and Pufferspeicher from Elco Logon B & Logon B MM","title":"Version 0.15"},{"location":"CHANGELOG.html#version-014","text":"04.04.2016 minor bugfixes for Broetje SOB extended broadcast handling (experimental)","title":"Version 0.14"},{"location":"CHANGELOG.html#version-013","text":"31.03.2016 change resistor value in receiving path from 4k7 to 1k5 added values 0x0f and 0x10 to Enum8005 fixed strings for Zeitprogramme added timeout for sending a message (1 second) added /T for querying one wire temperature sensors in mixed querys added special handling for Broetje SOB simplified settings","title":"Version 0.13"},{"location":"CHANGELOG.html#version-012","text":"09.04.2015 added ONEWIRE_SENSORS to ipwe fixed parameter decoding for ELCO Thision heating system","title":"Version 0.12"},{"location":"CHANGELOG.html#version-011","text":"07.04.2015 fixed parameter decoding for ELCO Thision heating system","title":"Version 0.11"},{"location":"CHANGELOG.html#version-010","text":"15.03.2015 added more parameters for ELCO Thision heating system","title":"Version 0.10"},{"location":"CHANGELOG.html#version-09","text":"09.03.2015 added more parameters for ELCO Thision heating system printTelegramm returns value string for further processing","title":"Version 0.9"},{"location":"CHANGELOG.html#version-08","text":"05.03.2015 added parameters for ELCO Thision heating system added IPWE extension minor bugfixes","title":"Version 0.8"},{"location":"CHANGELOG.html#version-07","text":"06.02.2015 added bus monitor functionality","title":"Version 0.7"},{"location":"CHANGELOG.html#version-06","text":"02.02.2015 renamed SoftwareSerial to BSBSoftwareSerial changed folder structure to enable simple build with arduino sdk","title":"Version 0.6"},{"location":"CHANGELOG.html#version-05","text":"02.02.2015 bugfixes added documentation (README) added passkey feature added /R feature (query reset value) added /E feature (list enum values) added setter for almost all value types fixed indentation added /V feature to set verbosity for serial output set baudrate to 115200 for serial output redirecting favicon request added some images of the BSB adapter","title":"Version 0.5"},{"location":"CHANGELOG.html#version-01","text":"21.01.2015 initial version","title":"Version 0.1"},{"location":"bsb-lan_adapter.html","text":"The BSB-LAN adapter Adapter boards available - contact Frederik at bsb(\u00e4t)code-it.de (German or English) for more details. In order to connect to your heating system with a microcontroller, you need to have an adapter board that does the necessary logic-level conversion: The adapter is then plugged right onto the microcontroller, either underneath the pins of the ESP32-NodeMCU or onto the UEXT connector of the Olimex: The two different types of ESP32 adapters (Olimex and ESP32-NoceMCU) only vary in the location of their connectors, the other parts of the board are identical. The Arduino Due board contains an EEPROM chip because the Due does not come with on-board EEPROM. Therefore, you can re-use the Arduino Due board on an ESP32 microcontroller (if you connect the correct pins with wires), but you cannot use an adapter for the ESP32 on an Arduino Due. Suitable microcontrollers BSB-LAN can be installed on three different types of microcontrollers: ESP32-Olimex ESP32-NodeMCU (30 pin version only!) and Arduino Due. Olimex produces several kinds of boards: We recommend either the Olimex ESP32-EVB or the Olimex ESP32-POE-ISO . The simple POE version (without the \"ISO\") is not recommended because it does not allow to be connected to PoE Ethernet and USB at the same time. The Arduino Due requires an Ethernet Shield in order to access the local network. Each of the different controllers have their advantages and disadvantages: Functionality ESP32-Olimex ESP32-POE-ISO ESP32-NodeMCU Arduino Due Ethernet/LAN X X - X WiFi/WLAN X X X - Over-the-air updateable X X X - Built-in micro-SD card X X - - Accessible GPIOs 2 (GPIO13/16) some some many","title":"The BSB-LAN Adapter"},{"location":"bsb-lan_adapter.html#the-bsb-lan-adapter","text":"","title":"The BSB-LAN adapter"},{"location":"bsb-lan_adapter.html#adapter-boards-available-contact-frederik-at-bsbatcode-itde-german-or-english-for-more-details","text":"In order to connect to your heating system with a microcontroller, you need to have an adapter board that does the necessary logic-level conversion: The adapter is then plugged right onto the microcontroller, either underneath the pins of the ESP32-NodeMCU or onto the UEXT connector of the Olimex: The two different types of ESP32 adapters (Olimex and ESP32-NoceMCU) only vary in the location of their connectors, the other parts of the board are identical. The Arduino Due board contains an EEPROM chip because the Due does not come with on-board EEPROM. Therefore, you can re-use the Arduino Due board on an ESP32 microcontroller (if you connect the correct pins with wires), but you cannot use an adapter for the ESP32 on an Arduino Due.","title":"Adapter boards available - contact Frederik at bsb(\u00e4t)code-it.de (German or English) for more details."},{"location":"bsb-lan_adapter.html#suitable-microcontrollers","text":"BSB-LAN can be installed on three different types of microcontrollers: ESP32-Olimex ESP32-NodeMCU (30 pin version only!) and Arduino Due. Olimex produces several kinds of boards: We recommend either the Olimex ESP32-EVB or the Olimex ESP32-POE-ISO . The simple POE version (without the \"ISO\") is not recommended because it does not allow to be connected to PoE Ethernet and USB at the same time. The Arduino Due requires an Ethernet Shield in order to access the local network. Each of the different controllers have their advantages and disadvantages: Functionality ESP32-Olimex ESP32-POE-ISO ESP32-NodeMCU Arduino Due Ethernet/LAN X X - X WiFi/WLAN X X X - Over-the-air updateable X X X - Built-in micro-SD card X X - - Accessible GPIOs 2 (GPIO13/16) some some many","title":"Suitable microcontrollers"},{"location":"bus_systems.html","text":"The BSB/LPB/PPS Bus Developed at the end of the last millenium based on the BatiBUS (more information can be found here and here ), many Siemens heating system controllers still use the same kind of physical bus to \"talk\" to room units as well as other heating devices. While a bus speed of a mere 4800 bits per second might sound anachronistic these days, it still provides for a stable and robust transmission protocol that is even today perfectly sufficient when it comes to transmitting short messages of a few dozen bytes over lines sometimes as long as one kilometer. The bus topology also allows you to connect BSB-LAN at any point: At the room unit, at the heating system or anywhere where the bus lines are available. You can even add the two wires for BSB-LAN in an already \"occupied\" slot, and it won't harm the other device (proper installation assumed). On top of the same physical layer, three bus systems, BSB, LPB and PPS, cater for different tasks, and while BSB and LPB should always be preferred if available, PPS nevertheless provides a set of parameters that is usually quite enough for the average user. BSB-LAN runs on any of these busses and swapping between them is just changing a few settings away. The Boiler System Bus (BSB) BSB is the most common bus system in Siemens controllers for the last 10-15 years. It is the successor of the PPS system with which it shares the same physical parameters, but is much more versatile: Instead of just a few dozen parameters, it can access hundreds of parameters and group them into various categories for easier navigation. It is a transaction-based protocol where most messages are being sent from one device to another and the recipient returning some kind of feedback, for example whether the task could be completed or whether it contained invalid data. While BSB is capable of addressing multiple devices on the bus, it is not used in systems with more than one heating device. The heating device always has the ID 0 , the display unit on the heating system has the ID 10 (or 0x0A in hexadecimal) and the standard room unit has the ID 6 . BSB-LAN has the ID 66 or 0x42 in hexadecimal. Room units that \"speak\" BSB are, for example, the QAA55 and the QAA75. The Local Process Bus (LPB) LPB was introduced more or less around the same time as PPS which it complemented in terms of communication with other heating devices: While PPS was used to communicate with the room unit, LPB was used to send commands from one main heating device to one or more auxilliary heating devices, for example in a cascade setup. At that time, most of the information transmitted via LPB was related to the internals of the heating system (such as sensor data or internal setpoint temperatures), whereas the parameters relevant for the user (such as comfort temperature setpoint etc.) were only available via PPS. Nowadays, heating devices that offer both LPB and BSB have the same kind of parameter data available on both bus systems. LPB uses a specific addressing scheme with segments and devices. Each segment from 0 to 15 can contain up to 15 devices (from 1 to 15). When writing these addresses, segment and device are separated by a colon: 00:01 or 04:03 . To convert the segment-based address into the destination ID required for BSB-LAN, the formula is as this: SEGMENT multiplied by 16 plus DEVICE minus one. Example: Device 3 in segment 4 equals to 4 * 16 + 3 - 1 = 66. The main heating unit is by definition 00:01 , so this equals to a destination ID 0. To learn more about the LPB system and how it should be deployed, you may refer to these two documents from the end of the 1990s, one covers the basic system data that covers the conceptualization of an LPB network, and the other one deals with the basic engineering data and provides details about cable lengths and diameters etc. Except for some Weishaut heaters, room units are not connected to the heating system via LPB. Newer models use BSB for this task while older models use either PPS or in some cases also OpenTherm. The Point-to-Point Interface (PPS) The Point-to-Point Interface (PPS deriving from the German term \"Punkt-zu-Punkt Schnittstelle\") is compatible to the other systems on a physical layer, but not in the way message telegrams are being exchanged. While BSB and LPB talk to each other by sending telegrams and acknowledging their receipt respectively, PPS is dominated by the heating unit. The heating unit constantly sends its data to the room unit and tells the room unit when and what kind of information it should send. So it may take up to a few minutes until a value that is set in BSB-LAN is actually requested by the heating system and shown there. It is also a very timing sensitive protocol, therefore long other tasks that BSB-LAN is told to do will lead to a temporary interruption and possible error message on the heating system. However, after a short while, this should be clearing by itself when the two components \"talk\" to each other again. Other than BSB and LPB, changes made in BSB-LAN do not take immediate effect. Changing values, for example like the room temperature comfort setpoint, will be stored internally in BSB-LAN first to be sent out to the heating system once it tells the room unit (i.e. BSB-LAN) to do so. This may take up to a minute or so, so one should not be confused that settings do not show up on the heater immediately, as is the case with BSB and LPB. With PPS, BSB-LAN can run in two modes: either listening passively or as a room unit. In passive mode, BSB-LAN can just listen to the data exchanged between the room unit and the heating device. It is not possible to send one's own data, for the simple fact that it would be overwritten in no time by the same type of data coming from the room unit. In order to send parameter data to the heating system, BSB-LAN mus run in \"room unit\" mode, and this means that any room unit will have to be removed from the heating system. In this case, it is especially important to regularly send a room temperature value to BSB-LAN which in turn will send this value to the heating device. Only if the heater runs solely on outside temperature then this value can be ignored. BSB-LAN stores some values in its non-volatile EEPROM, but some values need to be set anew after a reboot, such as the room temperature setpoint. This is to prevent to store a parameter value that has become invalid but is still sent as it is stored in the EEPROM. Room units commonly used with heating systems that support PPS are the QAA50 and the QAA70.","title":"The BSB/LPB/PPS Bus"},{"location":"bus_systems.html#the-bsblpbpps-bus","text":"Developed at the end of the last millenium based on the BatiBUS (more information can be found here and here ), many Siemens heating system controllers still use the same kind of physical bus to \"talk\" to room units as well as other heating devices. While a bus speed of a mere 4800 bits per second might sound anachronistic these days, it still provides for a stable and robust transmission protocol that is even today perfectly sufficient when it comes to transmitting short messages of a few dozen bytes over lines sometimes as long as one kilometer. The bus topology also allows you to connect BSB-LAN at any point: At the room unit, at the heating system or anywhere where the bus lines are available. You can even add the two wires for BSB-LAN in an already \"occupied\" slot, and it won't harm the other device (proper installation assumed). On top of the same physical layer, three bus systems, BSB, LPB and PPS, cater for different tasks, and while BSB and LPB should always be preferred if available, PPS nevertheless provides a set of parameters that is usually quite enough for the average user. BSB-LAN runs on any of these busses and swapping between them is just changing a few settings away.","title":"The BSB/LPB/PPS Bus"},{"location":"bus_systems.html#the-boiler-system-bus-bsb","text":"BSB is the most common bus system in Siemens controllers for the last 10-15 years. It is the successor of the PPS system with which it shares the same physical parameters, but is much more versatile: Instead of just a few dozen parameters, it can access hundreds of parameters and group them into various categories for easier navigation. It is a transaction-based protocol where most messages are being sent from one device to another and the recipient returning some kind of feedback, for example whether the task could be completed or whether it contained invalid data. While BSB is capable of addressing multiple devices on the bus, it is not used in systems with more than one heating device. The heating device always has the ID 0 , the display unit on the heating system has the ID 10 (or 0x0A in hexadecimal) and the standard room unit has the ID 6 . BSB-LAN has the ID 66 or 0x42 in hexadecimal. Room units that \"speak\" BSB are, for example, the QAA55 and the QAA75.","title":"The Boiler System Bus (BSB)"},{"location":"bus_systems.html#the-local-process-bus-lpb","text":"LPB was introduced more or less around the same time as PPS which it complemented in terms of communication with other heating devices: While PPS was used to communicate with the room unit, LPB was used to send commands from one main heating device to one or more auxilliary heating devices, for example in a cascade setup. At that time, most of the information transmitted via LPB was related to the internals of the heating system (such as sensor data or internal setpoint temperatures), whereas the parameters relevant for the user (such as comfort temperature setpoint etc.) were only available via PPS. Nowadays, heating devices that offer both LPB and BSB have the same kind of parameter data available on both bus systems. LPB uses a specific addressing scheme with segments and devices. Each segment from 0 to 15 can contain up to 15 devices (from 1 to 15). When writing these addresses, segment and device are separated by a colon: 00:01 or 04:03 . To convert the segment-based address into the destination ID required for BSB-LAN, the formula is as this: SEGMENT multiplied by 16 plus DEVICE minus one. Example: Device 3 in segment 4 equals to 4 * 16 + 3 - 1 = 66. The main heating unit is by definition 00:01 , so this equals to a destination ID 0. To learn more about the LPB system and how it should be deployed, you may refer to these two documents from the end of the 1990s, one covers the basic system data that covers the conceptualization of an LPB network, and the other one deals with the basic engineering data and provides details about cable lengths and diameters etc. Except for some Weishaut heaters, room units are not connected to the heating system via LPB. Newer models use BSB for this task while older models use either PPS or in some cases also OpenTherm.","title":"The Local Process Bus (LPB)"},{"location":"bus_systems.html#the-point-to-point-interface-pps","text":"The Point-to-Point Interface (PPS deriving from the German term \"Punkt-zu-Punkt Schnittstelle\") is compatible to the other systems on a physical layer, but not in the way message telegrams are being exchanged. While BSB and LPB talk to each other by sending telegrams and acknowledging their receipt respectively, PPS is dominated by the heating unit. The heating unit constantly sends its data to the room unit and tells the room unit when and what kind of information it should send. So it may take up to a few minutes until a value that is set in BSB-LAN is actually requested by the heating system and shown there. It is also a very timing sensitive protocol, therefore long other tasks that BSB-LAN is told to do will lead to a temporary interruption and possible error message on the heating system. However, after a short while, this should be clearing by itself when the two components \"talk\" to each other again. Other than BSB and LPB, changes made in BSB-LAN do not take immediate effect. Changing values, for example like the room temperature comfort setpoint, will be stored internally in BSB-LAN first to be sent out to the heating system once it tells the room unit (i.e. BSB-LAN) to do so. This may take up to a minute or so, so one should not be confused that settings do not show up on the heater immediately, as is the case with BSB and LPB. With PPS, BSB-LAN can run in two modes: either listening passively or as a room unit. In passive mode, BSB-LAN can just listen to the data exchanged between the room unit and the heating device. It is not possible to send one's own data, for the simple fact that it would be overwritten in no time by the same type of data coming from the room unit. In order to send parameter data to the heating system, BSB-LAN mus run in \"room unit\" mode, and this means that any room unit will have to be removed from the heating system. In this case, it is especially important to regularly send a room temperature value to BSB-LAN which in turn will send this value to the heating device. Only if the heater runs solely on outside temperature then this value can be ignored. BSB-LAN stores some values in its non-volatile EEPROM, but some values need to be set anew after a reboot, such as the room temperature setpoint. This is to prevent to store a parameter value that has become invalid but is still sent as it is stored in the EEPROM. Room units commonly used with heating systems that support PPS are the QAA50 and the QAA70.","title":"The Point-to-Point Interface (PPS)"},{"location":"configure.html","text":"Configuration There are two ways to configure BSB-LAN: Through the configuration file BSB_LAN_config.h Through the web-interface by calling http://bsb-lan.local/C (or the corresponding IP address) For the initial configuration, some settings have to be configured in the configuration file (such as language and network settings). Any further changes can be done also in the web-interface. It may, however, be useful to do the configuration (also) in the configuration file in case one needs to change the microcontroller. Almost all settings exist also in the web-interface and vice versa. On an ESP32-based microcontroller, BSB-LAN will set up its own wireless access point named BSB-LAN if it cannot connect to any network. So even without any further configuration, you can connect to this access point with the password BSB-LPB-PPS-LAN and access BSB-LAN via the IP address http://192.168.4.1 and proceed with the configuration via this way. Keep in mind that if you have set a passkey or HTTP username and password, these are still required if these details are stored in EEPROM or BSB_LAN_config.h . Configuration through `BSB_LAN_config.h`` The configuration file consists of variables that are used in other parts of BSB-LAN. It is therefore important to only change the contents of the variables (i.e. the settings) and not the type of the variables. So if there is for example the setting byte ip_addr[4] = {192,168,178,88}; you must not alter the byte ip_addr[4] = part, only the contents, in this case the comma-separated IP address. Configuration through the web-interface Configuring BSB-LAN through the web-interface is pretty straightforward, as you don't have to deal with variable names but clear descriptions. Initially, only a selected number of configuration options are displayed in the webinterface. To have access to all of them, you have to set the \"extended configuration\" option to \"on\". Overview of configuration options table th:first-of-type { width: 20%; } table th:nth-of-type(2) { width: 20%; } table th:nth-of-type(3) { width: 40%; } table th:nth-of-type(4) { width: 20%; } General Settings Web-Interface Configuration File Functionality Possible settings - #define LANG Set language DE , EN , FR and other ISO country codes Display extended configuration - Show all configuration options On Off Read config from EEPROM UseEEPROM Read configuration from EEPROM or file On ( 1 ) Off ( 0 ) Write access (level) - If DEFAULT_FLAG is set to FL_SW_CTL_RONLY , you can set the level of write access here. Off (read-only) On (Standard) On (Complete) Check for updates enable_version_check Query BSB-LAN server for new available version On ( true ) OTA Update enable_ota_update Enable over-the-air (OTA) update On ( true ) Energy saving esp32_save_energy Reduces speed, saves energy. Do not enable when using WiFi. On ( true ) Off ( false ) Webserver file system webserver Enables serving files from SD card On ( true ) Off ( false ) - #define DEFAULT_FLAG Set read/write access to heating system. FL_RONLY sets all parameters to read-only. FL_SW_CTL_RONLY allows setting read/write access via web-interface configuration setting. 0 makes all parameters that could be written writeable. Do not use this option unless instructed otherwise! FL_RONLY FL_SW_CTL_RONLY 0 Bus settings Web-Interface Configuration File Functionality Possible settings Bus type bus_type Bus type (BSB/LPB/PPS) BSB ( 0 ) LPB ( 1 ) PPS ( 2 ) PPS: mode pps_write BSB-LAN can act as a PPS room unit (only if no real room unit is connected) or just listen passively. passive ( 0 ) as room unit ( 1 ) PPS: QAA model QAA_TYPE Room unit that should be simulated for PPS bus QAA70 ( 0x53 ), QAA50 ( 0x52 ), QAA95 ( 0x37 ), QAW10 ( 0x4D ), QAW20 ( 0x4E ), MCBA/REA70/DC225 ( 0x58 ), QAA10 ( 0x5A ), QAA20 ( 0x5B ), QAA12/13 ( 0x5D ), BMU ( 0x66 ), RVD130 ( 0x43 ) Own address own_address Own bus address (default 66 should not be changed) 66 ( 66 ) Destination address dest_address Destination bus address. For BSB always 0 . For LPB 0 if destination device is in segment 1, device address 0. To convert from LPB segment and device address notation to destination address, multiply segment by 16, add the device address and subtract one. For example, to address a device in segment 4 with device address 3, the destination address is (4 * 16) + 3 - 1 = 66 . For PPS not relevant. 0 ( 0 ) RX pin number TX pin number bus_pins Define the RX/TX pins to communicate with the BSB-LAN adapter. Leave at 0 for auto-detection. 0 and 0 ( 0, 0 ) Network settings Web-Interface Configuration File Functionality Possible settings Network device network_type Choose between WLAN and LAN to connect BSB-LAN to the network. LAN ( 0 ) WLAN ( 1 ) WLAN SSID wifi_ssid Set the WLAN network name when using WLAN. Your_WLAN_name ( Your_WLAN_name ) WLAN password wifi_pass Set the WLAN password when using WLAN. YourWLANpassword ( YourWLANpassword ) DHCP usage use_dhcp Set whether or not to use DHCP to get an IP address from the router. On ( true ) Off ( false ) IP address (fixed) ip_addr When not using DHCP, you can set a fixed IP address here. Otherwise leave at 0.0.0.0 . In the web-interface, you may use dot notation. In the configuration file, you have to use comma as a separator. 192.168.178.88 ( 192,168,178,88 ) Subnet subnet_addr Subnet when using fixed IP address. Same notation as with IP address. 255.255.255.0 ( 255,255,255,0 ) Gateway gateway_addr Gateway address when using fixed IP address. Same notation as with IP address. 192.168.178.1 ( 192,168,178,1 ) DNS Server dns_addr DNS server address when using fixed IP address. Same notation as with IP address. 192.168.178.1 ( 192,168,178,1 ) TCP Port HTTPPort HTTP port number to access the web-interface. Defaults to 80 . 80 ( 80 ) MAC address mac Set a fixed MAC address. Only relevant on Arduino. 00:80:41:19:69:90 ( 0x00, 0x80, 0x41, 0x19, 0x69, 0x90 ) mDNS Hostname mDNS_hostname Hostname for mDNS discovery BSB-LAN ( BSB-LAN ) HTTP authentification USER_PASS If not empty, this setting contains the username and password for HTTP authentification, separated by a colon. Username:Password ( Username:Password ) URL Passkey PASSKEY Passkey adds a user-defined sequence that needs to be added to the URL after the hostname. For example, a passkey of 1234 requires every URL to be written as http://bsb-lan.local/1234/ instead of just http://bsb-lan.local/1234/ . Leave empty for no passkey. 1234 ( 1234 ) Trusted IP address trusted_ip_addr Access to BSB-LAN is only possible from this IP address. Same notation as with IP address. 192.168.178.89 ( 192,168,178,89 ) Trusted IP address trusted_ip_addr2 Access to BSB-LAN is only possible from this IP address. Same notation as with IP address. 192.168.178.90 ( 192,168,178,90 ) - bssid Enter a specific BSSID address here to ensure connecting to a specific access point. Set to all zeros under normal circumstances. ( 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 ) - ntp_server Set an NTP server here to acquire exact time for BSB-LAN. Set to empty string if you don't want to use NTP. ESP32-based microcontrollers only. ( pool.ntp.org ) - local_timezone Timezone to use for NTP. See here for a complete list. ( CET-1CEST,M3.5.0,M10.5.0/3 ) Logging Web-Interface Configuration File Functionality Possible settings Storage device LogDestination Select the destination for logging activities. SD card is highly recommended, as using the internal flash will wear out the internal flash eventually. SD card ( SDCARD ) Internal Flash Storage ( FLASH ) Logging mode LoggingMode Set the logging destinations/activities. Multiple selections are possible, for the configuration file, the values have to be added, for example, to send to MQTT broker and to UDP, set the value to 4 + 16 = 20 Write to SD card ( 1 ) Calculate 24h averages ( 2 ) Send to MQTT broker ( 4 ) Only send log parameters to MQTT ( 8 ) Send to UDP ( 16 ) Logging Interval log_interval Interval for logging activities (in seconds) 60 ( 60 ) Log Parameters log_parameters List of logging parameters. See addressing instructions below. 8700, 8743!2, 8314!2 ( {8700, -1}, {8743, 2}, {8314, 2} ) Log bus telegrams logTelegram Log raw bus telegrams, such as broadcast messages or unknown telegrams Off ( LOGTELEGRAM_OFF ) Log all bus telegrams ( LOGTELEGRAM_ON ) Log unknown bus telegrams only ( LOGTELEGRAM_UNKNOWN_ONLY ) Log broadcast bus telegrams only ( LOGTELEGRAM_BROADCAST_ONLY ) Log unknown broadcast bus telegrams only ( LOGTELEGRAM_UNKNOWN_ONLY + LOGTELEGRAM_BROADCAST_ONLY ) 24h averages parameters avg_parameters List of parameters for generating 24 hour averages. See addressing instructions below. 8700, 8743!2, 8314!2 ( {8700, -1}, {8743, 2}, {8314, 2} ) - #define DEFAULT_DAYS_TO_PLOT Define default number of days to plot logging data ( 3 ) MQTT Web-Interface Configuration File Functionality Possible settings MQTT Broker server mqtt_broker_addr Hostname/IP of the MQTT broker my-mqtt-broker.local ( my-mqtt-broker.local ) MQTT Username MQTTUsername Optional username for MQTT broker MyMQTTusername ( MyMQTTusername ) MQTT Password MQTTPassword Optional password for MQTT broker MyMQTTpassword ( MyMQTTpassword ) MQTT Device ID MQTTDeviceID Device identifier for MQTT BSB-LAN ( BSB-LAN ) MQTT Topic prefix MQTTTopicPrefix Topic prefix for MQTT BSB-LAN ( BSB-LAN ) MQTT Usage mqtt_mode Set the format for MQTT messages Plain text ( 1 ) - Send parameter number and value in plain text format JSON ( 2 ) - Send messages in JSON format (parameter number and value only) Rich JSON ( 3 ) - Send parameter number/name/value/unit/error in JSON format. Sensors and external devices Web-Interface Configuration File Functionality Possible settings OneWire Pins One_Wire_Pin Set the OneWire pin (use -1 in configuration file to disable) 10 ( 10 ) DHT Pins DHT_Pins Set the DHT22 sensor pins (use -1 in configuration file to disable) 11, 12, 13 ( 11, 12, 13, -1, -1, -1, -1, -1, -1, -1 ) BME280 sensors BME_Sensors Set number of BME280 sensors on the I2C bus. You need to have access to I2C pins. Fixed addresses 0x76 and 0x77 will be used. Use 0 to disable. 1 ( 1 ) MAX! Usage enable_max_cul Enable or disable connection to CUNO/CUNX/modified MAX!Cube On ( true ) Off ( false ) IP address cube max_cul_ip_addr IP address of the CUNO/CUNX/MAX!Cube 192.168.178.21 ( 192,168,178,21 ) MAX! Devices max_device_list IDs of MAX! devices to be polled. These IDs can be found on a sticker of the device. After entering them here, each device needs to be set into pairing mode. This has to be repeated every time the EEPROM layout of BSB-LAN is changed (see ChangeLog). KEQ0502326, KEQ0505080, KHA0002948 ( \"KEQ0502326\", \"KEQ0505080\", \"KHA0002948\" ) IPWE Usage enable_ipwe Enable IPWE extension ( /ipwe.cgi ) On ( true ) Off ( false ) IPWE Parameters ipwe_parameters List of parameters for display in IPWE extension. See addressing instructions below. 8700, 8743!2, 8314!2 ({8700, -1}, {8743, 2}, {8314, 2}) - #define CUSTOM_COMMANDS Enable custom functions Debugging Web-Interface Configuration File Functionality Possible settings Debugging Usage debug_mode Select debug output Off ( 0 ) Serial ( 1 ) Telnet ( 2 ) Verbosity mode verbose Enable or disable verbose debug messages (do not turn off unless advised) On ( 1 ) Off ( 0 ) Raw data mode monitor Enable or disable raw data mode (do not turn on unless advised!) On ( 1 ) Off ( 0 ) Display unknown parameters show_unknown Try and display also parameters not supported by destination device On ( true ) Off ( false ) Adressing different heating controllers In order to address parameters from devices other than the default destination device in the web-interface, you need to add an exclamation mark followed by the device address (see above for converting segment/device notation to device address). For example, parameter 8700 from device address 1 would be written as 8700!1 instead of just 8700 . For the configuration file, parameters are listed in the form {parameter number, destination address} . Parameter 8700 from device address 1 would thus be written as {8700, 1} . To address the default destination, you can do so by using -1 .","title":"Configuration"},{"location":"configure.html#configuration","text":"There are two ways to configure BSB-LAN: Through the configuration file BSB_LAN_config.h Through the web-interface by calling http://bsb-lan.local/C (or the corresponding IP address) For the initial configuration, some settings have to be configured in the configuration file (such as language and network settings). Any further changes can be done also in the web-interface. It may, however, be useful to do the configuration (also) in the configuration file in case one needs to change the microcontroller. Almost all settings exist also in the web-interface and vice versa. On an ESP32-based microcontroller, BSB-LAN will set up its own wireless access point named BSB-LAN if it cannot connect to any network. So even without any further configuration, you can connect to this access point with the password BSB-LPB-PPS-LAN and access BSB-LAN via the IP address http://192.168.4.1 and proceed with the configuration via this way. Keep in mind that if you have set a passkey or HTTP username and password, these are still required if these details are stored in EEPROM or BSB_LAN_config.h .","title":"Configuration"},{"location":"configure.html#configuration-through-bsb_lan_configh","text":"The configuration file consists of variables that are used in other parts of BSB-LAN. It is therefore important to only change the contents of the variables (i.e. the settings) and not the type of the variables. So if there is for example the setting byte ip_addr[4] = {192,168,178,88}; you must not alter the byte ip_addr[4] = part, only the contents, in this case the comma-separated IP address.","title":"Configuration through `BSB_LAN_config.h``"},{"location":"configure.html#configuration-through-the-web-interface","text":"Configuring BSB-LAN through the web-interface is pretty straightforward, as you don't have to deal with variable names but clear descriptions. Initially, only a selected number of configuration options are displayed in the webinterface. To have access to all of them, you have to set the \"extended configuration\" option to \"on\".","title":"Configuration through the web-interface"},{"location":"configure.html#overview-of-configuration-options","text":"table th:first-of-type { width: 20%; } table th:nth-of-type(2) { width: 20%; } table th:nth-of-type(3) { width: 40%; } table th:nth-of-type(4) { width: 20%; }","title":"Overview of configuration options"},{"location":"configure.html#general-settings","text":"Web-Interface Configuration File Functionality Possible settings - #define LANG Set language DE , EN , FR and other ISO country codes Display extended configuration - Show all configuration options On Off Read config from EEPROM UseEEPROM Read configuration from EEPROM or file On ( 1 ) Off ( 0 ) Write access (level) - If DEFAULT_FLAG is set to FL_SW_CTL_RONLY , you can set the level of write access here. Off (read-only) On (Standard) On (Complete) Check for updates enable_version_check Query BSB-LAN server for new available version On ( true ) OTA Update enable_ota_update Enable over-the-air (OTA) update On ( true ) Energy saving esp32_save_energy Reduces speed, saves energy. Do not enable when using WiFi. On ( true ) Off ( false ) Webserver file system webserver Enables serving files from SD card On ( true ) Off ( false ) - #define DEFAULT_FLAG Set read/write access to heating system. FL_RONLY sets all parameters to read-only. FL_SW_CTL_RONLY allows setting read/write access via web-interface configuration setting. 0 makes all parameters that could be written writeable. Do not use this option unless instructed otherwise! FL_RONLY FL_SW_CTL_RONLY 0","title":"General Settings"},{"location":"configure.html#bus-settings","text":"Web-Interface Configuration File Functionality Possible settings Bus type bus_type Bus type (BSB/LPB/PPS) BSB ( 0 ) LPB ( 1 ) PPS ( 2 ) PPS: mode pps_write BSB-LAN can act as a PPS room unit (only if no real room unit is connected) or just listen passively. passive ( 0 ) as room unit ( 1 ) PPS: QAA model QAA_TYPE Room unit that should be simulated for PPS bus QAA70 ( 0x53 ), QAA50 ( 0x52 ), QAA95 ( 0x37 ), QAW10 ( 0x4D ), QAW20 ( 0x4E ), MCBA/REA70/DC225 ( 0x58 ), QAA10 ( 0x5A ), QAA20 ( 0x5B ), QAA12/13 ( 0x5D ), BMU ( 0x66 ), RVD130 ( 0x43 ) Own address own_address Own bus address (default 66 should not be changed) 66 ( 66 ) Destination address dest_address Destination bus address. For BSB always 0 . For LPB 0 if destination device is in segment 1, device address 0. To convert from LPB segment and device address notation to destination address, multiply segment by 16, add the device address and subtract one. For example, to address a device in segment 4 with device address 3, the destination address is (4 * 16) + 3 - 1 = 66 . For PPS not relevant. 0 ( 0 ) RX pin number TX pin number bus_pins Define the RX/TX pins to communicate with the BSB-LAN adapter. Leave at 0 for auto-detection. 0 and 0 ( 0, 0 )","title":"Bus settings"},{"location":"configure.html#network-settings","text":"Web-Interface Configuration File Functionality Possible settings Network device network_type Choose between WLAN and LAN to connect BSB-LAN to the network. LAN ( 0 ) WLAN ( 1 ) WLAN SSID wifi_ssid Set the WLAN network name when using WLAN. Your_WLAN_name ( Your_WLAN_name ) WLAN password wifi_pass Set the WLAN password when using WLAN. YourWLANpassword ( YourWLANpassword ) DHCP usage use_dhcp Set whether or not to use DHCP to get an IP address from the router. On ( true ) Off ( false ) IP address (fixed) ip_addr When not using DHCP, you can set a fixed IP address here. Otherwise leave at 0.0.0.0 . In the web-interface, you may use dot notation. In the configuration file, you have to use comma as a separator. 192.168.178.88 ( 192,168,178,88 ) Subnet subnet_addr Subnet when using fixed IP address. Same notation as with IP address. 255.255.255.0 ( 255,255,255,0 ) Gateway gateway_addr Gateway address when using fixed IP address. Same notation as with IP address. 192.168.178.1 ( 192,168,178,1 ) DNS Server dns_addr DNS server address when using fixed IP address. Same notation as with IP address. 192.168.178.1 ( 192,168,178,1 ) TCP Port HTTPPort HTTP port number to access the web-interface. Defaults to 80 . 80 ( 80 ) MAC address mac Set a fixed MAC address. Only relevant on Arduino. 00:80:41:19:69:90 ( 0x00, 0x80, 0x41, 0x19, 0x69, 0x90 ) mDNS Hostname mDNS_hostname Hostname for mDNS discovery BSB-LAN ( BSB-LAN ) HTTP authentification USER_PASS If not empty, this setting contains the username and password for HTTP authentification, separated by a colon. Username:Password ( Username:Password ) URL Passkey PASSKEY Passkey adds a user-defined sequence that needs to be added to the URL after the hostname. For example, a passkey of 1234 requires every URL to be written as http://bsb-lan.local/1234/ instead of just http://bsb-lan.local/1234/ . Leave empty for no passkey. 1234 ( 1234 ) Trusted IP address trusted_ip_addr Access to BSB-LAN is only possible from this IP address. Same notation as with IP address. 192.168.178.89 ( 192,168,178,89 ) Trusted IP address trusted_ip_addr2 Access to BSB-LAN is only possible from this IP address. Same notation as with IP address. 192.168.178.90 ( 192,168,178,90 ) - bssid Enter a specific BSSID address here to ensure connecting to a specific access point. Set to all zeros under normal circumstances. ( 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 ) - ntp_server Set an NTP server here to acquire exact time for BSB-LAN. Set to empty string if you don't want to use NTP. ESP32-based microcontrollers only. ( pool.ntp.org ) - local_timezone Timezone to use for NTP. See here for a complete list. ( CET-1CEST,M3.5.0,M10.5.0/3 )","title":"Network settings"},{"location":"configure.html#logging","text":"Web-Interface Configuration File Functionality Possible settings Storage device LogDestination Select the destination for logging activities. SD card is highly recommended, as using the internal flash will wear out the internal flash eventually. SD card ( SDCARD ) Internal Flash Storage ( FLASH ) Logging mode LoggingMode Set the logging destinations/activities. Multiple selections are possible, for the configuration file, the values have to be added, for example, to send to MQTT broker and to UDP, set the value to 4 + 16 = 20 Write to SD card ( 1 ) Calculate 24h averages ( 2 ) Send to MQTT broker ( 4 ) Only send log parameters to MQTT ( 8 ) Send to UDP ( 16 ) Logging Interval log_interval Interval for logging activities (in seconds) 60 ( 60 ) Log Parameters log_parameters List of logging parameters. See addressing instructions below. 8700, 8743!2, 8314!2 ( {8700, -1}, {8743, 2}, {8314, 2} ) Log bus telegrams logTelegram Log raw bus telegrams, such as broadcast messages or unknown telegrams Off ( LOGTELEGRAM_OFF ) Log all bus telegrams ( LOGTELEGRAM_ON ) Log unknown bus telegrams only ( LOGTELEGRAM_UNKNOWN_ONLY ) Log broadcast bus telegrams only ( LOGTELEGRAM_BROADCAST_ONLY ) Log unknown broadcast bus telegrams only ( LOGTELEGRAM_UNKNOWN_ONLY + LOGTELEGRAM_BROADCAST_ONLY ) 24h averages parameters avg_parameters List of parameters for generating 24 hour averages. See addressing instructions below. 8700, 8743!2, 8314!2 ( {8700, -1}, {8743, 2}, {8314, 2} ) - #define DEFAULT_DAYS_TO_PLOT Define default number of days to plot logging data ( 3 )","title":"Logging"},{"location":"configure.html#mqtt","text":"Web-Interface Configuration File Functionality Possible settings MQTT Broker server mqtt_broker_addr Hostname/IP of the MQTT broker my-mqtt-broker.local ( my-mqtt-broker.local ) MQTT Username MQTTUsername Optional username for MQTT broker MyMQTTusername ( MyMQTTusername ) MQTT Password MQTTPassword Optional password for MQTT broker MyMQTTpassword ( MyMQTTpassword ) MQTT Device ID MQTTDeviceID Device identifier for MQTT BSB-LAN ( BSB-LAN ) MQTT Topic prefix MQTTTopicPrefix Topic prefix for MQTT BSB-LAN ( BSB-LAN ) MQTT Usage mqtt_mode Set the format for MQTT messages Plain text ( 1 ) - Send parameter number and value in plain text format JSON ( 2 ) - Send messages in JSON format (parameter number and value only) Rich JSON ( 3 ) - Send parameter number/name/value/unit/error in JSON format.","title":"MQTT"},{"location":"configure.html#sensors-and-external-devices","text":"Web-Interface Configuration File Functionality Possible settings OneWire Pins One_Wire_Pin Set the OneWire pin (use -1 in configuration file to disable) 10 ( 10 ) DHT Pins DHT_Pins Set the DHT22 sensor pins (use -1 in configuration file to disable) 11, 12, 13 ( 11, 12, 13, -1, -1, -1, -1, -1, -1, -1 ) BME280 sensors BME_Sensors Set number of BME280 sensors on the I2C bus. You need to have access to I2C pins. Fixed addresses 0x76 and 0x77 will be used. Use 0 to disable. 1 ( 1 ) MAX! Usage enable_max_cul Enable or disable connection to CUNO/CUNX/modified MAX!Cube On ( true ) Off ( false ) IP address cube max_cul_ip_addr IP address of the CUNO/CUNX/MAX!Cube 192.168.178.21 ( 192,168,178,21 ) MAX! Devices max_device_list IDs of MAX! devices to be polled. These IDs can be found on a sticker of the device. After entering them here, each device needs to be set into pairing mode. This has to be repeated every time the EEPROM layout of BSB-LAN is changed (see ChangeLog). KEQ0502326, KEQ0505080, KHA0002948 ( \"KEQ0502326\", \"KEQ0505080\", \"KHA0002948\" ) IPWE Usage enable_ipwe Enable IPWE extension ( /ipwe.cgi ) On ( true ) Off ( false ) IPWE Parameters ipwe_parameters List of parameters for display in IPWE extension. See addressing instructions below. 8700, 8743!2, 8314!2 ({8700, -1}, {8743, 2}, {8314, 2}) - #define CUSTOM_COMMANDS Enable custom functions","title":"Sensors and external devices"},{"location":"configure.html#debugging","text":"Web-Interface Configuration File Functionality Possible settings Debugging Usage debug_mode Select debug output Off ( 0 ) Serial ( 1 ) Telnet ( 2 ) Verbosity mode verbose Enable or disable verbose debug messages (do not turn off unless advised) On ( 1 ) Off ( 0 ) Raw data mode monitor Enable or disable raw data mode (do not turn on unless advised!) On ( 1 ) Off ( 0 ) Display unknown parameters show_unknown Try and display also parameters not supported by destination device On ( true ) Off ( false )","title":"Debugging"},{"location":"configure.html#adressing-different-heating-controllers","text":"In order to address parameters from devices other than the default destination device in the web-interface, you need to add an exclamation mark followed by the device address (see above for converting segment/device notation to device address). For example, parameter 8700 from device address 1 would be written as 8700!1 instead of just 8700 . For the configuration file, parameters are listed in the form {parameter number, destination address} . Parameter 8700 from device address 1 would thus be written as {8700, 1} . To address the default destination, you can do so by using -1 .","title":"Adressing different heating controllers"},{"location":"faq.html","text":"Frequently Asked Questions (FAQ) My heater has a OpenTherm/eBus/L-Bus/R-Bus connector, can I use BSB-LAN? No, these controllers are not compatible with BSB-LAN. Do not try and connect the adapter to your heating system! I'm missing function XYZ BSB-LAN offers the possibility to create own functions using the files BSB_LAN_custom_global.h , BSB_LAN_custom_setup.h and BSB_LAN_custom.h . Please see the folder custom_functions in the repository for more details and examples. Feel free to contribute your solutions to the public!","title":"FAQ"},{"location":"faq.html#frequently-asked-questions-faq","text":"","title":"Frequently Asked Questions (FAQ)"},{"location":"faq.html#my-heater-has-a-openthermebusl-busr-bus-connector-can-i-use-bsb-lan","text":"No, these controllers are not compatible with BSB-LAN. Do not try and connect the adapter to your heating system!","title":"My heater has a OpenTherm/eBus/L-Bus/R-Bus connector, can I use BSB-LAN?"},{"location":"faq.html#im-missing-function-xyz","text":"BSB-LAN offers the possibility to create own functions using the files BSB_LAN_custom_global.h , BSB_LAN_custom_setup.h and BSB_LAN_custom.h . Please see the folder custom_functions in the repository for more details and examples. Feel free to contribute your solutions to the public!","title":"I'm missing function XYZ"},{"location":"homeautomation.html","text":"Connecting BSB-LAN to home automation systems BSB-LAN provides four ways to connect to home automation systems: Using supported modules for specific home automation systems Exchanging data via MQTT Exchanging data via JSON Exchanging data via URL commands and screen scraping Using supported modules for specific home automation systems For some systems, specific modules exist that can be used to access BSB-LAN seamlessly: Home Assistant While the official plugin no longer works, the MQTT approach (see below) works well with Home Assistant, including the auto-discovery feature. Here is a link to a video in the BSB-LAN YouTube channel that shows how to set up BSB-LAN in Home Assistant using the auto-discovery feature of Home Assistant. For further details of the implementation, you may also refer to these tutorials: GitHub user @ryann72 wrote detailed instructions for BSB-LAN and HomeAssistant/Mosquitto . It is also available in French . YouTuber @StoneTime has created two videos (in German) where he shows the installation of BSB-LAN as well as setting it up in Home Assistant . Dankesch\u00f6n! YouTuber @ArminasTV has created two videos (in French) where he shows the installation of BSB-LAN as well as how to set it up with Home Assistant and MQTT . Merci beacoup! Homebridge BSB-LAN user Michael has written a plugin for Homebridge . Thank you! ioBroker GitHub user @hacki11 has developed an adapter for ioBroker . Thank you! Jeedom GitHub user @bernard-dandrea has written a plugin for Jeedom (with a French description). Thank you! Node-RED GitHub user @konne wrote a module for Node-RED . Thank you! FHEM FHEM forum user Luposoft has written a compact explanation of the configuration for using FHEM via MQTT. Thank you! openHAB Since version 2.5.4, there exists a binding that is officially part of OpenHAB. Homematic FHEM forum user PaulM has written a few scripts to showcase the integration of BSB-LAN into Homematic. Thank you! SmartHomeNG GitHub user @thensty wrote a plugin for SmartHomeNG . Thank you! Volkszaehler GitHub user @lapixo has contributed a script for the Volkszaehler project . Thank you! Bash script GitHub user @khfm has written Bash scripts to query data and display it using gnuplot. Thank you! Exchanging data via MQTT This is the recommended way to connect BSB-LAN to home automation systems because it allows seamless exchange of data. As a prerequisite, a MQTT broker (such as mosquitto ) is needed, either running locally or via making use of a public service. Some home automation systems such as Home Assistant offer the installation of mosquitto as part of their software. Attention: Currently, the mosquitto broker seems to have an issue with handling larger numbers of messages from versions 2.0.16 onwards ( see this bug report ). If you encounter the problem that your BSB-LAN entities become \"unavailable\", especially after using the auto-discovery feature below, please downgrade to mosquitto version 2.0.15. However, be aware that this version has security issues, so make sure that your broker runs at least in a firewalled environment. In BSB-LAN, you need to make or enable at least the following configurations: Set Logging mode (additionally) to Send to MQTT Broker . Set Log Interval to the time (in seconds) you want the log parameters to be published. Select up to 20 Log Parameters you want to be sent to your home automation system. Set MQTT Usage to plain text . Set MQTT Broker Server to the hostname of your MQTT broker (such as the mosquitto server). If your home automation system supports MQTT auto-discovery (as is the case with Home Assistant), you can call URL command /M1!<x> and BSB-LAN will send auto-discovery messages for all available parameters from device ID <x> to the MQTT broker and thus to the home automation system. You may have to clean up afterwards or send a removal message for all these parameters using URL command /M0!<x> if you don't want to use this feature anymore. Otherwise, if you want to set up your own connection details, the topic structure of BSB-LAN is as follows: <BSB-LAN MQTT Topic>/<device ID>/<category no.>/<parameter no.> whereas <BSB-LAN MQTT Topic> is defined in BSB-LAN's settings (defaults to BSB-LAN ), <device ID> is the ID of the heating controller (usually 0 for the main controller), <category no.> is the category number as it is used with URL-command /K , <parameter no.> is the parameter number, such as 501.1 . This structure is followed by one of these topics that determine the action to be performed: /status - contains the value of the parameter in the MQTT payload. /set - used to set a parameter with the value contained in the published MQTT payload using the SET telegram (default way of setting parameters). /inf - same as /set , but uses the INF telegram (used for sending room temperature parameter 10000, for example). /poll - ignores the published value and forces BSB-LAN to immediately update /status of the same parameter with a freshly retrieved parameter value. /poll can also be accessed directly below the main topic (e.g. BSB-LAN/poll ) where it accepts a list of parameters separated by comma. These parameters will then immediately have their respective /status topics updated in one go. Addressing parameters can either be done in topic-style (with leading slash) or similar to the list of logging parameters in BSB-LAN's settings (see examples below). At the same time, the legacy way of sending URL commands via MQTT directly to the main topic (as defined in the settings, defaulting to BSB-LAN ), is still supported for compatibility reasons, but deprecated. Responses will always be written to /status of the above mentioned topic structure. The /status topic is updated in four ways: via logging parameters to MQTT as explained above every time a URL query is made to BSB-LAN (can be disabled by activating Only send log parameters to MQTT in configuration) every time a parameter is changed through the room unit (can be disabled by activating Only send log parameters to MQTT in configuration) every time the parameter is updated via the /poll topic as explained above In these cases, the respective values of the parameters affected will be sent to the MQTT broker, so even changes made outside of BSB-LAN are sent to the home automation system, which is why the MQTT approach is the recommended way to connect to a home automation system. This also means that, as an alternative to the built-in logging feature of BSB-LAN, you can also just periodically call a URL with the parameters you want to see updated. Since these parameters will also be sent to the MQTT broker, your home automation system will receive them as well. For example, if you periodically call the URL http://bsb-lan.local/700/8700 , both the operating mode of heat circuit 1 (parameter 700) as well as the current outside temperature (parameter 8700) will be sent to the MQTT broker. Examples for querying or setting parameters via MQTT using mosquitto Query the outside temperature (device ID 0, category no. 51, parameter 8700): mosquitto_sub -h my.mosquitto-broker.local -u USER -P PASSWORD -t BSB-LAN/0/51/8700/status Set the comfort temperature setpoint (device ID 0, category no. 16, parameter 710) to 20 degrees: mosquitto_pub -h my.mosquitto-broker.local -u USER -P PASSWORD -m \"20\" -t BSB-LAN/0/16/710/set Force immediate update of outside temperature (device ID 0, category no. 51, parameter 8700): mosquitto_pub -h my.mosquitto-broker.local -u USER -P PASSWORD -m \"\" -t BSB-LAN/0/51/8700/poll Force immediate update of parameters 700 and 8700 from default device as well as parameter 8326 from device ID 1: mosquitto_pub -h my.mosquitto-broker.local -u USER -P PASSWORD -m \"700,8700,8326!1\" -t BSB-LAN/poll or mosquitto_pub -h my.mosquitto-broker.local -u USER -P PASSWORD -m \"/0/16/700,/0/51/8700,/1/50/8326\" -t BSB-LAN/poll Attention: Take note that the category number differs from system to system and has to be compared with your system first! Exchanging data via JSON BSB-LAN allows to query and set parameters via JSON structures and also provides numerous information about the parameters and category structures this way. The JSON API is accessd via URL commands and the openapi.yaml file provided in this repository can be used with Swagger to explore its possibilities and functionalitites. Exchanging data via URL commands and screen scraping For simpler solutions, using the URL commands to query and set parameters can be used to control BSB-LAN from other systems. Screen scraping is possible since the project tries not to break certain ways of displaying data, so that parsing with regular expressions remains feasible. Nevertheless, for most scenarios one of the other options will probably be preferrable.","title":"Connect to your Smart Home"},{"location":"homeautomation.html#connecting-bsb-lan-to-home-automation-systems","text":"BSB-LAN provides four ways to connect to home automation systems: Using supported modules for specific home automation systems Exchanging data via MQTT Exchanging data via JSON Exchanging data via URL commands and screen scraping","title":"Connecting BSB-LAN to home automation systems"},{"location":"homeautomation.html#using-supported-modules-for-specific-home-automation-systems","text":"For some systems, specific modules exist that can be used to access BSB-LAN seamlessly:","title":"Using supported modules for specific home automation systems"},{"location":"homeautomation.html#home-assistant","text":"While the official plugin no longer works, the MQTT approach (see below) works well with Home Assistant, including the auto-discovery feature. Here is a link to a video in the BSB-LAN YouTube channel that shows how to set up BSB-LAN in Home Assistant using the auto-discovery feature of Home Assistant. For further details of the implementation, you may also refer to these tutorials: GitHub user @ryann72 wrote detailed instructions for BSB-LAN and HomeAssistant/Mosquitto . It is also available in French . YouTuber @StoneTime has created two videos (in German) where he shows the installation of BSB-LAN as well as setting it up in Home Assistant . Dankesch\u00f6n! YouTuber @ArminasTV has created two videos (in French) where he shows the installation of BSB-LAN as well as how to set it up with Home Assistant and MQTT . Merci beacoup!","title":"Home Assistant"},{"location":"homeautomation.html#homebridge","text":"BSB-LAN user Michael has written a plugin for Homebridge . Thank you!","title":"Homebridge"},{"location":"homeautomation.html#iobroker","text":"GitHub user @hacki11 has developed an adapter for ioBroker . Thank you!","title":"ioBroker"},{"location":"homeautomation.html#jeedom","text":"GitHub user @bernard-dandrea has written a plugin for Jeedom (with a French description). Thank you!","title":"Jeedom"},{"location":"homeautomation.html#node-red","text":"GitHub user @konne wrote a module for Node-RED . Thank you!","title":"Node-RED"},{"location":"homeautomation.html#fhem","text":"FHEM forum user Luposoft has written a compact explanation of the configuration for using FHEM via MQTT. Thank you!","title":"FHEM"},{"location":"homeautomation.html#openhab","text":"Since version 2.5.4, there exists a binding that is officially part of OpenHAB.","title":"openHAB"},{"location":"homeautomation.html#homematic","text":"FHEM forum user PaulM has written a few scripts to showcase the integration of BSB-LAN into Homematic. Thank you!","title":"Homematic"},{"location":"homeautomation.html#smarthomeng","text":"GitHub user @thensty wrote a plugin for SmartHomeNG . Thank you!","title":"SmartHomeNG"},{"location":"homeautomation.html#volkszaehler","text":"GitHub user @lapixo has contributed a script for the Volkszaehler project . Thank you!","title":"Volkszaehler"},{"location":"homeautomation.html#bash-script","text":"GitHub user @khfm has written Bash scripts to query data and display it using gnuplot. Thank you!","title":"Bash script"},{"location":"homeautomation.html#exchanging-data-via-mqtt","text":"This is the recommended way to connect BSB-LAN to home automation systems because it allows seamless exchange of data. As a prerequisite, a MQTT broker (such as mosquitto ) is needed, either running locally or via making use of a public service. Some home automation systems such as Home Assistant offer the installation of mosquitto as part of their software. Attention: Currently, the mosquitto broker seems to have an issue with handling larger numbers of messages from versions 2.0.16 onwards ( see this bug report ). If you encounter the problem that your BSB-LAN entities become \"unavailable\", especially after using the auto-discovery feature below, please downgrade to mosquitto version 2.0.15. However, be aware that this version has security issues, so make sure that your broker runs at least in a firewalled environment. In BSB-LAN, you need to make or enable at least the following configurations: Set Logging mode (additionally) to Send to MQTT Broker . Set Log Interval to the time (in seconds) you want the log parameters to be published. Select up to 20 Log Parameters you want to be sent to your home automation system. Set MQTT Usage to plain text . Set MQTT Broker Server to the hostname of your MQTT broker (such as the mosquitto server). If your home automation system supports MQTT auto-discovery (as is the case with Home Assistant), you can call URL command /M1!<x> and BSB-LAN will send auto-discovery messages for all available parameters from device ID <x> to the MQTT broker and thus to the home automation system. You may have to clean up afterwards or send a removal message for all these parameters using URL command /M0!<x> if you don't want to use this feature anymore. Otherwise, if you want to set up your own connection details, the topic structure of BSB-LAN is as follows: <BSB-LAN MQTT Topic>/<device ID>/<category no.>/<parameter no.> whereas <BSB-LAN MQTT Topic> is defined in BSB-LAN's settings (defaults to BSB-LAN ), <device ID> is the ID of the heating controller (usually 0 for the main controller), <category no.> is the category number as it is used with URL-command /K , <parameter no.> is the parameter number, such as 501.1 . This structure is followed by one of these topics that determine the action to be performed: /status - contains the value of the parameter in the MQTT payload. /set - used to set a parameter with the value contained in the published MQTT payload using the SET telegram (default way of setting parameters). /inf - same as /set , but uses the INF telegram (used for sending room temperature parameter 10000, for example). /poll - ignores the published value and forces BSB-LAN to immediately update /status of the same parameter with a freshly retrieved parameter value. /poll can also be accessed directly below the main topic (e.g. BSB-LAN/poll ) where it accepts a list of parameters separated by comma. These parameters will then immediately have their respective /status topics updated in one go. Addressing parameters can either be done in topic-style (with leading slash) or similar to the list of logging parameters in BSB-LAN's settings (see examples below). At the same time, the legacy way of sending URL commands via MQTT directly to the main topic (as defined in the settings, defaulting to BSB-LAN ), is still supported for compatibility reasons, but deprecated. Responses will always be written to /status of the above mentioned topic structure. The /status topic is updated in four ways: via logging parameters to MQTT as explained above every time a URL query is made to BSB-LAN (can be disabled by activating Only send log parameters to MQTT in configuration) every time a parameter is changed through the room unit (can be disabled by activating Only send log parameters to MQTT in configuration) every time the parameter is updated via the /poll topic as explained above In these cases, the respective values of the parameters affected will be sent to the MQTT broker, so even changes made outside of BSB-LAN are sent to the home automation system, which is why the MQTT approach is the recommended way to connect to a home automation system. This also means that, as an alternative to the built-in logging feature of BSB-LAN, you can also just periodically call a URL with the parameters you want to see updated. Since these parameters will also be sent to the MQTT broker, your home automation system will receive them as well. For example, if you periodically call the URL http://bsb-lan.local/700/8700 , both the operating mode of heat circuit 1 (parameter 700) as well as the current outside temperature (parameter 8700) will be sent to the MQTT broker.","title":"Exchanging data via MQTT"},{"location":"homeautomation.html#examples-for-querying-or-setting-parameters-via-mqtt-using-mosquitto","text":"Query the outside temperature (device ID 0, category no. 51, parameter 8700): mosquitto_sub -h my.mosquitto-broker.local -u USER -P PASSWORD -t BSB-LAN/0/51/8700/status Set the comfort temperature setpoint (device ID 0, category no. 16, parameter 710) to 20 degrees: mosquitto_pub -h my.mosquitto-broker.local -u USER -P PASSWORD -m \"20\" -t BSB-LAN/0/16/710/set Force immediate update of outside temperature (device ID 0, category no. 51, parameter 8700): mosquitto_pub -h my.mosquitto-broker.local -u USER -P PASSWORD -m \"\" -t BSB-LAN/0/51/8700/poll Force immediate update of parameters 700 and 8700 from default device as well as parameter 8326 from device ID 1: mosquitto_pub -h my.mosquitto-broker.local -u USER -P PASSWORD -m \"700,8700,8326!1\" -t BSB-LAN/poll or mosquitto_pub -h my.mosquitto-broker.local -u USER -P PASSWORD -m \"/0/16/700,/0/51/8700,/1/50/8326\" -t BSB-LAN/poll Attention: Take note that the category number differs from system to system and has to be compared with your system first!","title":"Examples for querying or setting parameters via MQTT using mosquitto"},{"location":"homeautomation.html#exchanging-data-via-json","text":"BSB-LAN allows to query and set parameters via JSON structures and also provides numerous information about the parameters and category structures this way. The JSON API is accessd via URL commands and the openapi.yaml file provided in this repository can be used with Swagger to explore its possibilities and functionalitites.","title":"Exchanging data via JSON"},{"location":"homeautomation.html#exchanging-data-via-url-commands-and-screen-scraping","text":"For simpler solutions, using the URL commands to query and set parameters can be used to control BSB-LAN from other systems. Screen scraping is possible since the project tries not to break certain ways of displaying data, so that parsing with regular expressions remains feasible. Nevertheless, for most scenarios one of the other options will probably be preferrable.","title":"Exchanging data via URL commands and screen scraping"},{"location":"install.html","text":"Installation Installing BSB-LAN requires three steps: Installing the Arduino IDE in order to flash the BSB-LAN software onto the microcontroller Assembling the hardware parts Connecting BSB-LAN to the heating system Installing the Arduino IDE and flashing BSB-LAN Download and unpack the current BSB-LAN version from the master repository or use git to clone the repository. Navigate to the BSB_LAN folder and rename the following files: BSB_LAN_custom_defs.h.default to BSB_LAN_custom_defs.h BSB_LAN_config.h.default to BSB_LAN_config.h . Download and install the Arduino IDE for your system. Connect your microcontroller (ESP32 or Arduino Due) to your computer and start the Arduino IDE. Go to Tools/Board/Board Manager and make sure that the framework for your board is installed (\"esp32 by Espressif Systems\" for ESP32 microcontroller, \"Arduino SAM Boards (32-bits ARM Cortex-M3) by Arduino\" for Arduino Due microcontroller) Again, go to Tools/Board and select your microcontroller: ESP32 Dev Module for the Joy-It ESP32 NodeMCU. Olimex ESP32-EVB for the ESP32-based Olimex EVB . Olimex ESP32-POE-ISO for the ESP32-based Olimex POE ISO Arduino Due (Programming Port) for the Arduino Due. Do not use the Native USB Port here ! Again, go to Tools/Board and select the proper upload speed (up to 460800 for ESP32, 115200 for Arduino Due). For ESP32-based microcontrollers, again, go to Tools/Board and select \"Minimal SPIFFS\" for partition scheme ( do not confuse this with the similar \"Minimal\" partition scheme which is different and not working in our case). If you don't set the correct parition scheme, the firmware will not fit into the ESP32! Go to File/Open and navigate to the BSB_LAN folder and double-click on BSB_LAN.ino . The project will open. You may now proceed to configure BSB-LAN. When you are done configuring, go to Sketch/Upload and upload the BSB-LAN software to the microcontroller. Subsequent updates on ESP32-based microcontrollers \"over the air\" (OTA) If you are running BSB-LAN on an ESP32-based microcontroller and have enabled Over-the-Air Updates in the settings , you can perform future updates of BSB-LAN using your browser. To do that, instead of using Sketch/Upload , you need to select Sketch/Export Compiled Binary . This will create a build folder in your BSB-LAN folder in which you will find among others the file BSB_LAN.ino.bin . Now open http://bsb-lan.local:8080 and select and upload that file. Do not interrupt the upload process. You may try to access BSB-LAN from a different browser window to see if the process is completed. Please take note that this only applies to ESP32-based microcontrollers. Arduinos do not support this functionality. Assembling the BSB-LAN adapter You can either get a fully assembled adapter from Frederik (bsb(\u00e4t)code-it.de) or build one on your own (see the folder schematics for the schematics). Once you have the BSB-LAN adapter ready, you just need to plug it into the microcontroller. If you are using an Olimex microcontroller, double-check that the adapter really sits in the center of the connector, because it still fits even if it is moved by one pin row to the left or right. Connecting BSB-LAN to the heating system Once the microcontroller and the BSB-LAN adapter are ready, perform the following steps to connect BSB-LAN to the heating system: Unplug the microcontroller from your computer and turn off your heating system. Locate the BSB/LPB/PPS connectors. You may have to open your heating system for that. Have a look at the list of supported heating systems to get an idea where the pins are located. Do all this at your own risk! If you are not careful, you may damage your equipment! Especially take care to prevent electrostatic discharge (ESD) which can destroy both BSB-LAN and the heating controller! Now plug the BSB-LAN adapter onto the microcontroller and connect the + screw connector to the CL+ (BSB), DB (LPB) or A6 (PPS, different connector names are possible) connector, and the - screw connector to the CL- (BSB), MB (LPB) or M (PPS) connector. If there is no empty connector, there is no problem adding the wires for BSB-LAN to an already \"used\" connector, provided the wires are inserted carefully. Regarding the cables, an (ideally screened/shielded) twisted two-core cable is recommended by Siemens . However, a number of users have also been successful with plain bell wire if the distances are not too long. Now you need to power on the microcontroller. Take note that the heating system does not power the microcontroller, even if the BSB-LAN adapter's LED turns on when you connect it to the heating system. You need to supply power to the microcontroller via its USB port (or via PoE on the Olimex POE-ISO). Make sure to use a stable power supply with at least 2 amperes. Once the microcontroller is powered on, turn on the heating system. The red LED of the BSB-LAN adapter should alight. It should flicker occasionally. Now open your webbrowser and open the IP address of BSB-LAN. If MDNS is enabled, you can directly go to http://bsb-lan.local . Otherwise, you can find the IP address of BSB-LAN either in your router, or you connect the microcontroller to your PC and open the Arduino IDE and go to Tools/Serial Monitor and set the serial monitor speed to 115200. Restart the microcontroller, and the IP address will be displayed upon connecting to the network. Generating the device-specific parameter list Once you access BSB-LAN for the first time, you will see that only very few parameters are shown on the device\u2019s web interface. This is because each model of the Siemens controller built into your heating system supports a different set of parameters. Previously, I provided a list of parameters collected from all different kinds of heating systems, but it turned out that this list was ambiguous or even contained errors that we couldn\u2019t fix reliably. This list is still available in release version 2.2.x of BSB-LAN and can be copied from there if needed. However, it is not advisable to do so because the said ambiguities and errors pose too great a risk of misconfiguring the heating system. Instead, it is recommended to click on the \" Device-specific parameter list \" button in BSB-LAN's menu and send the generated list to Frederik (bsb(\u00e4t)code-it.de). From this file, a parameter list can be generated that fits exactly the controller of your heating system. Unfortunately, this process cannot be automated yet, but at least it has to be done just once. These raw data do not contain any settings or other kinds of personal data, just the parameter structure of the heating system. It\u2019s in my own interest to create and return these parameter lists without any delay, but I ask for your understanding if it takes a bit longer due to work or family matters. Once you have received the parameter list (or taken the one from version 2.2.x), you have to replace the existing BSB_LAN_custom_defs.h file with the one sent to you, compile it and flash it again. Now you are ready to access all parameters.","title":"Installation"},{"location":"install.html#installation","text":"Installing BSB-LAN requires three steps: Installing the Arduino IDE in order to flash the BSB-LAN software onto the microcontroller Assembling the hardware parts Connecting BSB-LAN to the heating system","title":"Installation"},{"location":"install.html#installing-the-arduino-ide-and-flashing-bsb-lan","text":"Download and unpack the current BSB-LAN version from the master repository or use git to clone the repository. Navigate to the BSB_LAN folder and rename the following files: BSB_LAN_custom_defs.h.default to BSB_LAN_custom_defs.h BSB_LAN_config.h.default to BSB_LAN_config.h . Download and install the Arduino IDE for your system. Connect your microcontroller (ESP32 or Arduino Due) to your computer and start the Arduino IDE. Go to Tools/Board/Board Manager and make sure that the framework for your board is installed (\"esp32 by Espressif Systems\" for ESP32 microcontroller, \"Arduino SAM Boards (32-bits ARM Cortex-M3) by Arduino\" for Arduino Due microcontroller) Again, go to Tools/Board and select your microcontroller: ESP32 Dev Module for the Joy-It ESP32 NodeMCU. Olimex ESP32-EVB for the ESP32-based Olimex EVB . Olimex ESP32-POE-ISO for the ESP32-based Olimex POE ISO Arduino Due (Programming Port) for the Arduino Due. Do not use the Native USB Port here ! Again, go to Tools/Board and select the proper upload speed (up to 460800 for ESP32, 115200 for Arduino Due). For ESP32-based microcontrollers, again, go to Tools/Board and select \"Minimal SPIFFS\" for partition scheme ( do not confuse this with the similar \"Minimal\" partition scheme which is different and not working in our case). If you don't set the correct parition scheme, the firmware will not fit into the ESP32! Go to File/Open and navigate to the BSB_LAN folder and double-click on BSB_LAN.ino . The project will open. You may now proceed to configure BSB-LAN. When you are done configuring, go to Sketch/Upload and upload the BSB-LAN software to the microcontroller.","title":"Installing the Arduino IDE and flashing BSB-LAN"},{"location":"install.html#subsequent-updates-on-esp32-based-microcontrollers-over-the-air-ota","text":"If you are running BSB-LAN on an ESP32-based microcontroller and have enabled Over-the-Air Updates in the settings , you can perform future updates of BSB-LAN using your browser. To do that, instead of using Sketch/Upload , you need to select Sketch/Export Compiled Binary . This will create a build folder in your BSB-LAN folder in which you will find among others the file BSB_LAN.ino.bin . Now open http://bsb-lan.local:8080 and select and upload that file. Do not interrupt the upload process. You may try to access BSB-LAN from a different browser window to see if the process is completed. Please take note that this only applies to ESP32-based microcontrollers. Arduinos do not support this functionality.","title":"Subsequent updates on ESP32-based microcontrollers \"over the air\" (OTA)"},{"location":"install.html#assembling-the-bsb-lan-adapter","text":"You can either get a fully assembled adapter from Frederik (bsb(\u00e4t)code-it.de) or build one on your own (see the folder schematics for the schematics). Once you have the BSB-LAN adapter ready, you just need to plug it into the microcontroller. If you are using an Olimex microcontroller, double-check that the adapter really sits in the center of the connector, because it still fits even if it is moved by one pin row to the left or right.","title":"Assembling the BSB-LAN adapter"},{"location":"install.html#connecting-bsb-lan-to-the-heating-system","text":"Once the microcontroller and the BSB-LAN adapter are ready, perform the following steps to connect BSB-LAN to the heating system: Unplug the microcontroller from your computer and turn off your heating system. Locate the BSB/LPB/PPS connectors. You may have to open your heating system for that. Have a look at the list of supported heating systems to get an idea where the pins are located. Do all this at your own risk! If you are not careful, you may damage your equipment! Especially take care to prevent electrostatic discharge (ESD) which can destroy both BSB-LAN and the heating controller! Now plug the BSB-LAN adapter onto the microcontroller and connect the + screw connector to the CL+ (BSB), DB (LPB) or A6 (PPS, different connector names are possible) connector, and the - screw connector to the CL- (BSB), MB (LPB) or M (PPS) connector. If there is no empty connector, there is no problem adding the wires for BSB-LAN to an already \"used\" connector, provided the wires are inserted carefully. Regarding the cables, an (ideally screened/shielded) twisted two-core cable is recommended by Siemens . However, a number of users have also been successful with plain bell wire if the distances are not too long. Now you need to power on the microcontroller. Take note that the heating system does not power the microcontroller, even if the BSB-LAN adapter's LED turns on when you connect it to the heating system. You need to supply power to the microcontroller via its USB port (or via PoE on the Olimex POE-ISO). Make sure to use a stable power supply with at least 2 amperes. Once the microcontroller is powered on, turn on the heating system. The red LED of the BSB-LAN adapter should alight. It should flicker occasionally. Now open your webbrowser and open the IP address of BSB-LAN. If MDNS is enabled, you can directly go to http://bsb-lan.local . Otherwise, you can find the IP address of BSB-LAN either in your router, or you connect the microcontroller to your PC and open the Arduino IDE and go to Tools/Serial Monitor and set the serial monitor speed to 115200. Restart the microcontroller, and the IP address will be displayed upon connecting to the network.","title":"Connecting BSB-LAN to the heating system"},{"location":"install.html#generating-the-device-specific-parameter-list","text":"Once you access BSB-LAN for the first time, you will see that only very few parameters are shown on the device\u2019s web interface. This is because each model of the Siemens controller built into your heating system supports a different set of parameters. Previously, I provided a list of parameters collected from all different kinds of heating systems, but it turned out that this list was ambiguous or even contained errors that we couldn\u2019t fix reliably. This list is still available in release version 2.2.x of BSB-LAN and can be copied from there if needed. However, it is not advisable to do so because the said ambiguities and errors pose too great a risk of misconfiguring the heating system. Instead, it is recommended to click on the \" Device-specific parameter list \" button in BSB-LAN's menu and send the generated list to Frederik (bsb(\u00e4t)code-it.de). From this file, a parameter list can be generated that fits exactly the controller of your heating system. Unfortunately, this process cannot be automated yet, but at least it has to be done just once. These raw data do not contain any settings or other kinds of personal data, just the parameter structure of the heating system. It\u2019s in my own interest to create and return these parameter lists without any delay, but I ask for your understanding if it takes a bit longer due to work or family matters. Once you have received the parameter list (or taken the one from version 2.2.x), you have to replace the existing BSB_LAN_custom_defs.h file with the one sent to you, compile it and flash it again. Now you are ready to access all parameters.","title":"Generating the device-specific parameter list"},{"location":"list_of_controllers.html","text":"AVS37, AVS55 , AVS71, AVS74, AVS75, AVS77, AVS79, LMS14 , LMS15 , LMU54 , LMU64 , LMU74 , LMU75 , RVA33, RVA36, RVA43, RVA46, RVA47, RVA53 , RVA60, RVA61, RVA63 , RVA65, RVA66, RVC32, RVD110, RVD115, RVD120, RVD125, RVD130, RVD135, RVD139, RVD140, RVD144, RVD145, RVD230, RVD235, RVD240, RVD245, RVD250, RVD255, RVD260, RVD265, RVL469, RVL470, RVL471, RVL472, RVL479, RVL480, RVL481, RVL482, RVP340, RVP350, RVP351, RVP360, RVP361, RVP54 , RVP5xx, RVS13 , RVS21 , RVS23 , RVS26, RVS41 , RVS43 , RVS46 , RVS47, RVS51 , RVS53 , RVS61 , RVS63 , RVS65 , RVS68, RWI65, WRI80","title":"List of controllers"},{"location":"quickstart.html","text":"Quickstart instructions These quickstart instructions are for users who are familiar with installing and configuring software on their computer. If you need more detailed instructions, please head to the install instructions ! Make sure that your heating system is compatible with BSB-LAN! Download and unpack the current BSB-LAN version from the master repository or use git to clone the repository. Navigate to the BSB_LAN folder and rename the following files: BSB_LAN_custom_defs.h.default to BSB_LAN_custom_defs.h BSB_LAN_config.h.default to BSB_LAN_config.h . Download and install the Arduino IDE for your system. Connect your microcontroller (ESP32 or Arduino Due) to your computer and start the Arduino IDE. Go to Tools/Board/Board Manager and make sure that the framework for your board is installed (\"esp32 by Espressif Systems\" for ESP32 microcontroller, \"Arduino SAM Boards (32-bits ARM Cortex-M3) by Arduino\" for Arduino Due microcontroller) Again, go to Tools/Board and select your microcontroller: ESP32 Dev Module for the Joy-It ESP32 NodeMCU. Olimex ESP32-EVB for the ESP32-based Olimex EVB . Olimex ESP32-POE-ISO for the ESP32-based Olimex POE ISO Arduino Due (Programming Port) for the Arduino Due. Do not use the Native USB Port here ! Again, go to Tools/Board and select the proper upload speed (up to 460800 for ESP32, 115200 for Arduino Due). For ESP32-based microcontrollers, again, go to Tools/Partition Scheme and select \"Minimal SPIFFS\" or for partition scheme ( do not confuse this with the similar \"Minimal\" partition scheme which is different and not working in our case). If you don't set the correct parition scheme, the firmware will not fit into the ESP32! Go to File/Open and navigate to the BSB_LAN folder and double-click on BSB_LAN.ino . The project will open. Click on the tab with the filename BSB_LAN_config.h and configure at least the following: Search for #define LANG DE : Change DE to EN for English, FR for French etc. Search for uint8_t network_type : Set this to LAN if you are using Ethernet/LAN connection. Set this to WLAN if you are using WiFi/WLAN. If you are not using DHCP, configure the following options according to your network (make sure to use a comma, not a dot for IP addresses!): byte ip_addr[4] = {192,168,178,88}; byte gateway_addr[4] = {192,168,178,1}; byte dns_addr[4] = {192,168,178,1}; byte subnet_addr[4] = {255,255,255,0}; char wifi_ssid[32] = \"Your_Wifi_network_name\"; char wifi_pass[32] = \"Your_WiFi_network_password\"; Now go to Sketch/Upload and upload the BSB-LAN software to the microcontroller. Unplug the microcontroller and turn off your heating system. Locate the BSB/LPB/PPS connectors. You may have to open your heating system for that. Do all this at your own risk! Now plug the BSB-LAN adapter onto the microcontroller and connect the + screw connector to the CL+ (BSB), DB (LPB) or A6 (PPS, different connector names are possible) connector, and the - screw connector to the CL- (BSB), MB (LPB) or M (PPS) connector. Power on the microcontroller via the USB port or via PoE (Olimex POE-ISO only). Then power on the heating system. The red LED of the BSB-LAN adapter should turn on. It should flicker occasionally. Now open your webbrowser and open the IP address of BSB-LAN. If MDNS is enabled, you can directly go to http://bsb-lan.local . You can find the IP address of BSB-LAN either in your router, or you connect the microcontroller to your PC and open the Arduino IDE and go to Tools/Serial Monitor . Restart the microcontroller, and the IP address will be displayed upon connecting to the network. Done :-) It's not working! Please make sure you check every entry in the Troubleshooting-Section first before getting in touch with us! Why do I only see so few parameters? Once you access BSB-LAN for the first time, you will see that only very few parameters are shown on the device\u2019s web interface. This is because each model of the Siemens controller built into your heating system supports a different set of parameters. Previously, I provided a list of parameters collected from all different kinds of heating systems, but it turned out that this list was ambiguous or even contained errors that we couldn\u2019t fix reliably. This list is still available in release version 2.2.x of BSB-LAN and can be copied from there if needed. However, it is not advisable to do so because the said ambiguities and errors pose too great a risk of misconfiguring the heating system. Instead, it is recommended to click on the \" Device-specific parameter list \" button in BSB-LAN's menu and send the generated list to Frederik (bsb(\u00e4t)code-it.de). From this file, a parameter list can be generated that fits exactly the controller of your heating system. Unfortunately, this process cannot be automated yet, but at least it has to be done just once. These raw data do not contain any settings or other kinds of personal data, just the parameter structure of the heating system. It\u2019s in my own interest to create and return these parameter lists without any delay, but I ask for your understanding if it takes a bit longer due to work or family matters.","title":"Quickstart"},{"location":"quickstart.html#quickstart-instructions","text":"These quickstart instructions are for users who are familiar with installing and configuring software on their computer. If you need more detailed instructions, please head to the install instructions ! Make sure that your heating system is compatible with BSB-LAN! Download and unpack the current BSB-LAN version from the master repository or use git to clone the repository. Navigate to the BSB_LAN folder and rename the following files: BSB_LAN_custom_defs.h.default to BSB_LAN_custom_defs.h BSB_LAN_config.h.default to BSB_LAN_config.h . Download and install the Arduino IDE for your system. Connect your microcontroller (ESP32 or Arduino Due) to your computer and start the Arduino IDE. Go to Tools/Board/Board Manager and make sure that the framework for your board is installed (\"esp32 by Espressif Systems\" for ESP32 microcontroller, \"Arduino SAM Boards (32-bits ARM Cortex-M3) by Arduino\" for Arduino Due microcontroller) Again, go to Tools/Board and select your microcontroller: ESP32 Dev Module for the Joy-It ESP32 NodeMCU. Olimex ESP32-EVB for the ESP32-based Olimex EVB . Olimex ESP32-POE-ISO for the ESP32-based Olimex POE ISO Arduino Due (Programming Port) for the Arduino Due. Do not use the Native USB Port here ! Again, go to Tools/Board and select the proper upload speed (up to 460800 for ESP32, 115200 for Arduino Due). For ESP32-based microcontrollers, again, go to Tools/Partition Scheme and select \"Minimal SPIFFS\" or for partition scheme ( do not confuse this with the similar \"Minimal\" partition scheme which is different and not working in our case). If you don't set the correct parition scheme, the firmware will not fit into the ESP32! Go to File/Open and navigate to the BSB_LAN folder and double-click on BSB_LAN.ino . The project will open. Click on the tab with the filename BSB_LAN_config.h and configure at least the following: Search for #define LANG DE : Change DE to EN for English, FR for French etc. Search for uint8_t network_type : Set this to LAN if you are using Ethernet/LAN connection. Set this to WLAN if you are using WiFi/WLAN. If you are not using DHCP, configure the following options according to your network (make sure to use a comma, not a dot for IP addresses!): byte ip_addr[4] = {192,168,178,88}; byte gateway_addr[4] = {192,168,178,1}; byte dns_addr[4] = {192,168,178,1}; byte subnet_addr[4] = {255,255,255,0}; char wifi_ssid[32] = \"Your_Wifi_network_name\"; char wifi_pass[32] = \"Your_WiFi_network_password\"; Now go to Sketch/Upload and upload the BSB-LAN software to the microcontroller. Unplug the microcontroller and turn off your heating system. Locate the BSB/LPB/PPS connectors. You may have to open your heating system for that. Do all this at your own risk! Now plug the BSB-LAN adapter onto the microcontroller and connect the + screw connector to the CL+ (BSB), DB (LPB) or A6 (PPS, different connector names are possible) connector, and the - screw connector to the CL- (BSB), MB (LPB) or M (PPS) connector. Power on the microcontroller via the USB port or via PoE (Olimex POE-ISO only). Then power on the heating system. The red LED of the BSB-LAN adapter should turn on. It should flicker occasionally. Now open your webbrowser and open the IP address of BSB-LAN. If MDNS is enabled, you can directly go to http://bsb-lan.local . You can find the IP address of BSB-LAN either in your router, or you connect the microcontroller to your PC and open the Arduino IDE and go to Tools/Serial Monitor . Restart the microcontroller, and the IP address will be displayed upon connecting to the network. Done :-)","title":"Quickstart instructions"},{"location":"quickstart.html#its-not-working","text":"Please make sure you check every entry in the Troubleshooting-Section first before getting in touch with us!","title":"It's not working!"},{"location":"quickstart.html#why-do-i-only-see-so-few-parameters","text":"Once you access BSB-LAN for the first time, you will see that only very few parameters are shown on the device\u2019s web interface. This is because each model of the Siemens controller built into your heating system supports a different set of parameters. Previously, I provided a list of parameters collected from all different kinds of heating systems, but it turned out that this list was ambiguous or even contained errors that we couldn\u2019t fix reliably. This list is still available in release version 2.2.x of BSB-LAN and can be copied from there if needed. However, it is not advisable to do so because the said ambiguities and errors pose too great a risk of misconfiguring the heating system. Instead, it is recommended to click on the \" Device-specific parameter list \" button in BSB-LAN's menu and send the generated list to Frederik (bsb(\u00e4t)code-it.de). From this file, a parameter list can be generated that fits exactly the controller of your heating system. Unfortunately, this process cannot be automated yet, but at least it has to be done just once. These raw data do not contain any settings or other kinds of personal data, just the parameter structure of the heating system. It\u2019s in my own interest to create and return these parameter lists without any delay, but I ask for your understanding if it takes a bit longer due to work or family matters.","title":"Why do I only see so few parameters?"},{"location":"supported_heating_systems.html","text":"Supported heating systems BSB-LAN supports heating systems that communicate using either the BSB (Boiler System Bus) , the LPB (Local Process Bus) or the PPS (Punkt-zu-Punkt-Schnittstelle) . These controllers are usually manufactured by Siemens, older controllers might still bear the company name \"Landis & Stafea\" or \"Landis & Gyr\". We have compiled a list of working models from various heating system manufacturers who have been confirmed working with BSB-LAN, although there is no 100% guarantee that the manufacturers keep the model name but change the controller to a different system. So always make sure to double-check that the right connectors are available. Here are a few examples from heating controllers and the connectors that are used to connect to BSB-LAN. Some connectors have three pins, some have two pins. If there are three pins, make sure you choose the correct two (CL+ and CL-) as the third von (G+) is to provide background lighting for the room unit. It won't harm BSB-LAN, but it might be misleading because BSB-LAN's LED will be on even though it's not connected to the right pin. By the way: If you only have one connector and it is already occupied with a room unit, it's no problem to add BSB-LAN to the same connector. Just be careful when adding the wires for BSB-LAN. Controller Image Remarks LMS14 LMS15 BSB connection: + = Left - = Center LMS14 LMS15 BSB connection: CL+/CL- LMS14 LMS15 Baxi Luna Platinum, Chappee Klista BSB connection: Terminal block M2 Pin 2: CL- Pin 3: CL+ See detailed instructions here for Baxi Luna Platinum . LMU54 LMU64 LPB connection: via additional OCI420 plugin, see details below . LMU74 LMU75 BSB connection: + = Top - = Center LPB connection: via additional OCI420 plugin RVA53 PPS connection: A6/MD RVA63 LPB connection: MB/DB PPS connection: A6/MD RVP54 PPS connection: A6/M RVS13 BSB connection: CL+/CL- RVS21 BSB connection via connector X86 + = rightmost pin - = second pin from right RVS21 with AVS55 AVS55 extension module, sitting on top of RVS21. BSB connection either via connector X86: + = rightmost pin - = second pin from right or via connector X150: + = topmost pin - = second pin from top RVS23 LPB connection: LPB/M RVS41 BSB connection: CL+/CL- LPB connection: MB/DB RVS43 LOGON B BSB connection: CL+/CL- LPB connection: MB/DB RVS46 ISR-ZR1 BSB connection: CL+/CL- LPB connection: MB/DB RVS46 BSB connection: CL+/CL- LPB connection: MB/DB RVS51 BSB connection: CL+/CL- RVS53 BSB connection: CL+/CL- RVS61 BSB connection: CL+/CL- LPB connection: MB/DB RVS63 BSB connection: CL+/CL- LPB connection: MB/DB RVS65 BSB connection: CL+/CL- LPB connection: MB/DB Configuration settings for OCI420 Getting the OCI420 to work properly can be a bit challenging if it is not already part of an existing LPB network. If you connect the OCI420 for the first time to your heater and have no other LPB heating device, you will most likely get \"error 81\" which indicates that there is a bus error. But don't worry, most likely it's just a matter of configuring a few parameters to get it going. For the LMU64, the corresponding parameter is 604 ( LPBKonfig0 ). It needs to be set as follows for using BSB-LAN as the only device connected to the OCI420: 604.0 = 0 604.1 = 1 604.2 = 1 604.3 = 1 604.4 = 1 604.5 = 0 604.6 = 0 604.7 = 0 Then you need to set the LPB address of the OCI420 in parameters 605 (needs to be set to 1) and 606 (needs to be set to 0). Afterwards, there should be no more error message and the red LED of the OCI420 should blink in regular intervals and you are ready to connect and use BSB-LAN. Attention: If the OCI420 is already connected to another LPB device, do not make any changes here and rather connect BSB-LAN to the other LPB device. It should work without any adjustments. List of working controller models There are a many more controllers that are likely to work with BSB-LAN. Look out for these Siemens controller models in your heating system: AVS37, AVS55 , AVS71, AVS74, AVS75, AVS77, AVS79, LMS14 , LMS15 , LMU54 , LMU64 , LMU74 , LMU75 , RVA33, RVA36, RVA43, RVA46, RVA47, RVA53 , RVA60, RVA61, RVA63 , RVA65, RVA66, RVC32, RVD110, RVD115, RVD120, RVD125, RVD130, RVD135, RVD139, RVD140, RVD144, RVD145, RVD230, RVD235, RVD240, RVD245, RVD250, RVD255, RVD260, RVD265, RVL469, RVL470, RVL471, RVL472, RVL479, RVL480, RVL481, RVL482, RVP340, RVP350, RVP351, RVP360, RVP361, RVP54 , RVP5xx, RVS13 , RVS21 , RVS23 , RVS26, RVS41 , RVS43 , RVS46 , RVS47, RVS51 , RVS53 , RVS61 , RVS63 , RVS65 , RVS68, RWI65, WRI80","title":"Supported Heating Systems"},{"location":"supported_heating_systems.html#supported-heating-systems","text":"BSB-LAN supports heating systems that communicate using either the BSB (Boiler System Bus) , the LPB (Local Process Bus) or the PPS (Punkt-zu-Punkt-Schnittstelle) . These controllers are usually manufactured by Siemens, older controllers might still bear the company name \"Landis & Stafea\" or \"Landis & Gyr\". We have compiled a list of working models from various heating system manufacturers who have been confirmed working with BSB-LAN, although there is no 100% guarantee that the manufacturers keep the model name but change the controller to a different system. So always make sure to double-check that the right connectors are available. Here are a few examples from heating controllers and the connectors that are used to connect to BSB-LAN. Some connectors have three pins, some have two pins. If there are three pins, make sure you choose the correct two (CL+ and CL-) as the third von (G+) is to provide background lighting for the room unit. It won't harm BSB-LAN, but it might be misleading because BSB-LAN's LED will be on even though it's not connected to the right pin. By the way: If you only have one connector and it is already occupied with a room unit, it's no problem to add BSB-LAN to the same connector. Just be careful when adding the wires for BSB-LAN. Controller Image Remarks LMS14 LMS15 BSB connection: + = Left - = Center LMS14 LMS15 BSB connection: CL+/CL- LMS14 LMS15 Baxi Luna Platinum, Chappee Klista BSB connection: Terminal block M2 Pin 2: CL- Pin 3: CL+ See detailed instructions here for Baxi Luna Platinum . LMU54 LMU64 LPB connection: via additional OCI420 plugin, see details below . LMU74 LMU75 BSB connection: + = Top - = Center LPB connection: via additional OCI420 plugin RVA53 PPS connection: A6/MD RVA63 LPB connection: MB/DB PPS connection: A6/MD RVP54 PPS connection: A6/M RVS13 BSB connection: CL+/CL- RVS21 BSB connection via connector X86 + = rightmost pin - = second pin from right RVS21 with AVS55 AVS55 extension module, sitting on top of RVS21. BSB connection either via connector X86: + = rightmost pin - = second pin from right or via connector X150: + = topmost pin - = second pin from top RVS23 LPB connection: LPB/M RVS41 BSB connection: CL+/CL- LPB connection: MB/DB RVS43 LOGON B BSB connection: CL+/CL- LPB connection: MB/DB RVS46 ISR-ZR1 BSB connection: CL+/CL- LPB connection: MB/DB RVS46 BSB connection: CL+/CL- LPB connection: MB/DB RVS51 BSB connection: CL+/CL- RVS53 BSB connection: CL+/CL- RVS61 BSB connection: CL+/CL- LPB connection: MB/DB RVS63 BSB connection: CL+/CL- LPB connection: MB/DB RVS65 BSB connection: CL+/CL- LPB connection: MB/DB","title":"Supported heating systems"},{"location":"supported_heating_systems.html#configuration-settings-for-oci420","text":"Getting the OCI420 to work properly can be a bit challenging if it is not already part of an existing LPB network. If you connect the OCI420 for the first time to your heater and have no other LPB heating device, you will most likely get \"error 81\" which indicates that there is a bus error. But don't worry, most likely it's just a matter of configuring a few parameters to get it going. For the LMU64, the corresponding parameter is 604 ( LPBKonfig0 ). It needs to be set as follows for using BSB-LAN as the only device connected to the OCI420: 604.0 = 0 604.1 = 1 604.2 = 1 604.3 = 1 604.4 = 1 604.5 = 0 604.6 = 0 604.7 = 0 Then you need to set the LPB address of the OCI420 in parameters 605 (needs to be set to 1) and 606 (needs to be set to 0). Afterwards, there should be no more error message and the red LED of the OCI420 should blink in regular intervals and you are ready to connect and use BSB-LAN. Attention: If the OCI420 is already connected to another LPB device, do not make any changes here and rather connect BSB-LAN to the other LPB device. It should work without any adjustments.","title":"Configuration settings for OCI420"},{"location":"supported_heating_systems.html#list-of-working-controller-models","text":"There are a many more controllers that are likely to work with BSB-LAN. Look out for these Siemens controller models in your heating system: AVS37, AVS55 , AVS71, AVS74, AVS75, AVS77, AVS79, LMS14 , LMS15 , LMU54 , LMU64 , LMU74 , LMU75 , RVA33, RVA36, RVA43, RVA46, RVA47, RVA53 , RVA60, RVA61, RVA63 , RVA65, RVA66, RVC32, RVD110, RVD115, RVD120, RVD125, RVD130, RVD135, RVD139, RVD140, RVD144, RVD145, RVD230, RVD235, RVD240, RVD245, RVD250, RVD255, RVD260, RVD265, RVL469, RVL470, RVL471, RVL472, RVL479, RVL480, RVL481, RVL482, RVP340, RVP350, RVP351, RVP360, RVP361, RVP54 , RVP5xx, RVS13 , RVS21 , RVS23 , RVS26, RVS41 , RVS43 , RVS46 , RVS47, RVS51 , RVS53 , RVS61 , RVS63 , RVS65 , RVS68, RWI65, WRI80","title":"List of working controller models"},{"location":"supported_models.html","text":"Supported models from various manufacturers This is a list of models from various manufacturers that have in the past been tested with BSB-LAN. Please take note that manufacturers may at any time change the technical specifications, including the controller, without changing the model name (or just a very minor part of it). Where we get to know about such a change, we will list it here, but obviously this list is not complete, in both ways. So in any case, please do a final check yourself if your heating system has the necessary connectors to use BSB-LAN. Br\u00f6tje: BBK, BBS, BGB, BLW ( see exceptions below! ), BMK, BMR, BOB, BSK, BSW, Eurocontrol, ISR, LogoBloc, SGB, SOB, SPK, WBC, WBS, WGB ( see exceptions below! ), WMC, WMS, WOB Not working Br\u00f6tje models: BOK, BLW Neo, BLW Split-P, BLW Split C, BLW Split-K C, WGB-K, WGB 14.1/22.1/28.1/38.1, WHC, WHS, WLC, WLS B\u00f6sch: heat pumps with RVS controller type Elco: Aerotop, Aquatop, Rendamax, Straton, Thision ( not Thision Mini! ), Thision S, Thision S Plus, Trigon S Plus ATAG: QR Atlantic: Alf\u00e9a, Axeo, Excellia, Extensa, Hynea hybrid duo gaz, Navistem, Perfinox, Varmax Austria Email: LWP, LWPK Baxi: Luna Platinum, Luna Duo, Block Kondens Boesch: SLS Chapp\u00e9e: Luna, Klista CitrinSolar: proClima CTA: Optiheat CTC: 380 IC Deville: 9942, 9981 Eco: AiWA, AW, BW, DW, heatLite, Star, TBW, WW, WWi, TWW Ecostar: Ecodense WT-S 45 EVI Heat: Combi-7 Fernw\u00e4rme: RVD230 Froeling: Rendagas Plus Fujitsu Waterstage: Comfort, Duo, WOHA, WSHA, WSYA, WSYK, WSYP Geminox: Thrs General: (aka Fujitsu Waterstage) WC13F / WOC13RIYF / WGHA 100DG Gruenenwald: Greenheat GS: UnoTec Hansa: SND Herz: Commotherm 5 DeLuxe Interdomo: Domostar GBK 25H/SH MAN/MHG: Ecostar 200 MHG: ecoWP Xe, Procon E Oilon: SH, SHx Olymp: SHS, WHS Palazzetti: Choro Sistema Calore Sieger: TG11 \u0160ildymo Technologij\u0173 Centras (\u0160TC): STC9 Sixmadun: TG11BE SSP: Proburner Sunex: Nexus Termomax: Termo \u00d6V Thermics: Energie Thermital: TBox Clima TOP Tifell: Biofell Viessmann: Vitotwin 300-W Wamak: AiWa, DB Weishaupt: WTU","title":"Supported models from various manufacturers"},{"location":"supported_models.html#supported-models-from-various-manufacturers","text":"This is a list of models from various manufacturers that have in the past been tested with BSB-LAN. Please take note that manufacturers may at any time change the technical specifications, including the controller, without changing the model name (or just a very minor part of it). Where we get to know about such a change, we will list it here, but obviously this list is not complete, in both ways. So in any case, please do a final check yourself if your heating system has the necessary connectors to use BSB-LAN. Br\u00f6tje: BBK, BBS, BGB, BLW ( see exceptions below! ), BMK, BMR, BOB, BSK, BSW, Eurocontrol, ISR, LogoBloc, SGB, SOB, SPK, WBC, WBS, WGB ( see exceptions below! ), WMC, WMS, WOB Not working Br\u00f6tje models: BOK, BLW Neo, BLW Split-P, BLW Split C, BLW Split-K C, WGB-K, WGB 14.1/22.1/28.1/38.1, WHC, WHS, WLC, WLS B\u00f6sch: heat pumps with RVS controller type Elco: Aerotop, Aquatop, Rendamax, Straton, Thision ( not Thision Mini! ), Thision S, Thision S Plus, Trigon S Plus ATAG: QR Atlantic: Alf\u00e9a, Axeo, Excellia, Extensa, Hynea hybrid duo gaz, Navistem, Perfinox, Varmax Austria Email: LWP, LWPK Baxi: Luna Platinum, Luna Duo, Block Kondens Boesch: SLS Chapp\u00e9e: Luna, Klista CitrinSolar: proClima CTA: Optiheat CTC: 380 IC Deville: 9942, 9981 Eco: AiWA, AW, BW, DW, heatLite, Star, TBW, WW, WWi, TWW Ecostar: Ecodense WT-S 45 EVI Heat: Combi-7 Fernw\u00e4rme: RVD230 Froeling: Rendagas Plus Fujitsu Waterstage: Comfort, Duo, WOHA, WSHA, WSYA, WSYK, WSYP Geminox: Thrs General: (aka Fujitsu Waterstage) WC13F / WOC13RIYF / WGHA 100DG Gruenenwald: Greenheat GS: UnoTec Hansa: SND Herz: Commotherm 5 DeLuxe Interdomo: Domostar GBK 25H/SH MAN/MHG: Ecostar 200 MHG: ecoWP Xe, Procon E Oilon: SH, SHx Olymp: SHS, WHS Palazzetti: Choro Sistema Calore Sieger: TG11 \u0160ildymo Technologij\u0173 Centras (\u0160TC): STC9 Sixmadun: TG11BE SSP: Proburner Sunex: Nexus Termomax: Termo \u00d6V Thermics: Energie Thermital: TBox Clima TOP Tifell: Biofell Viessmann: Vitotwin 300-W Wamak: AiWa, DB Weishaupt: WTU","title":"Supported models from various manufacturers"},{"location":"troubleshooting.html","text":"Troubleshooting BSB-LAN tries to make accessing your heating system as easy as possible, but there are always things that can go wrong. If you still have a problem after reading this document as well as the FAQ , please open up a bug report on the project's GitHub page and make sure that you provide us with all the necessary log files and further required details, especially from the Serial Monitor (or SerMo in short). Before doing so, however, make sure that you install the most recent version of BSB-LAN from the master repository (not the release version), even if yours is \"just\" a few days old. Still, a lot could have happned since then :)! Using the Serial Monitor Access the Serial Monitor by going to Tools/Serial Monitor in the Arduino IDE. Set the transmission speed to 115200 at the top right corner of the serial monitor window. Make sure you copy the messages right from the moment your microcontroller boots (indicated by the READY message) until the moment you encounter the problem. Please do not send screenshots, only plain text files. The Serial Monitor in the Arduino IDE currently has a bug that allows you to only copy those parts of the Serial Monitor messages that you can see on the screen. Although this means that copying larger portions of log messages is tedious, you still have to provide the complete log in order to get support. Increasing the size of the Serial Monitor window helps a little. Compiling fails: \"Sketch too big\" Select the Minimal SPIFFS partition scheme in the Arduino IDE under Tools/Partition Scheme . Attention: This setting is reset to default when updating the ESP32 framework! If you are using over-the-air updates, you have to flash the software once via USB after changing the partition scheme before OTA updates will work again. No access to web-interface anymore If you have changed the settings in such a way that you cannot access the web-interface anymore, there are two ways to restore the system: If you can flash the device: Configure BSB_LAN_config.h with correct, working settings. Set UseEEPROM to 0 . Flash BSB-LAN onto the microcontroller. You can now access BSB-LAN. Go to \"Settings\" and save the settings. This will store the working settings to the EEPROM. Now edit BSB_LAN_config.h again (!) and set UseEEPROM to 1 and flash BSB-LAN again to the microcontroller. Only now will BSB-LAN read and use the settings from the EEPROM, so you can make further changes in the web-interface. If you cannot flash the device: If you cannot flash the device on site, you can reset BSB-LAN to the last BSB_LAN_config.h setting by connecting two pins before and during booting the microcontroller : ESP32-Olimex: Connect pins 34 and 3V3. ESP32-NodeMCU: Connect pins 21 and 3V3. Arduino Due: Connect pins 31 and 33. If the pins were successfully connected, the built-in LED of the microcontroller will flash slowly for four seconds. Afterwards open the configuration in the web-interface, check all settings in the configuration and save them. This will store the working settings to the EEPROM. Temporary access point on an ESP32-based microcontroller On an ESP32-based microcontroller, BSB-LAN will set up its own wireless access point named BSB-LAN if it cannot connect to any network. In this casee, you can connect to this access point with the password BSB-LPB-PPS-LAN and access BSB-LAN via the IP address http://192.168.4.1 and see if you can fix the configuration this way. Keep in mind that if you have set a passkey or HTTP username and password, these are still required if these details are stored in EEPROM or BSB_LAN_config.h . I can only access very few parameters via BSB/LPB! Initially, BSB-LAN only comes with a small set of parameters that work on (almost) every heating system. You need to get a device specific parameter list . Category list suddenly so small BSB-LAN needs to detect the heating system's controller to determine the categories to display. If BSB-LAN is not connected to the controller or the detection otherwise fails, only a few universal categories are displayed. Cannot read any parameters / device family is 0 Wrong bus type (BSB instead of LPB or vice versa). If the red LED of the adapter is not on (and ideally slightly flickering), there is a problem with the wiring between the adapter and the heating system. The red LED will come one once the adapter is connected correctly, even if the BSB-LAN adapter isn't even connected to the microcontroller! No data even though the adapter's red LED is on Make sure the adapter is connected to CL+/CL- and not to the third (G+) pin: G+ will drive the LED, but it's not a data line. Make sure you have powered on the microcontroller . You may think that the heating system powers the microcontroller because the LED on the BSB-LAN adapter is on, but it doesn't. You need to power it separately. With the adapter for the Olimex microcontrollers: Make sure that the BSB-LAN adapter board sits exactly in the center of the UEXT connector. It will still fit in, if it's shifted one pin left or right, but it won't work. Make sure the RX/TX pins are set/detected correctly. The startup sequence in the Serial Monitor will show you what pins have are used or have been auto-detected. No or unreliable network connection Try powering the microcontroller via USB from a laptop. We have had many cases where power supplies were unreliable despite having sufficient ratings. Look at the Serial Monitor log to check if the microcontroller could acquire an IP address. If not, then your network settings or physical connection may be faulty. No connection to hidden WiFi network possible Yes, that is a known restriction. The only way to do that is to set the BSSID explicitly in BSB_LAN_config.h . Room temperature (or any other parameter) cannot be set Check BSB-LAN's settings and make sure that write access is enabled and set to standard or complete . Web-interface freezes when making new connection BSB-LAN is not a multi-tasking system. This means it can attend to one task at a time. So even if a URL command is aborted (by closing the browser window), BSB-LAN might not detect this and only start serving new requests once the previous one is finished. The Serial Monitor is not showing readable data Make sure the speed is set correctly to 115200 bps. Make sure the correct port is selected.","title":"Troubleshooting"},{"location":"troubleshooting.html#troubleshooting","text":"BSB-LAN tries to make accessing your heating system as easy as possible, but there are always things that can go wrong. If you still have a problem after reading this document as well as the FAQ , please open up a bug report on the project's GitHub page and make sure that you provide us with all the necessary log files and further required details, especially from the Serial Monitor (or SerMo in short). Before doing so, however, make sure that you install the most recent version of BSB-LAN from the master repository (not the release version), even if yours is \"just\" a few days old. Still, a lot could have happned since then :)!","title":"Troubleshooting"},{"location":"troubleshooting.html#using-the-serial-monitor","text":"Access the Serial Monitor by going to Tools/Serial Monitor in the Arduino IDE. Set the transmission speed to 115200 at the top right corner of the serial monitor window. Make sure you copy the messages right from the moment your microcontroller boots (indicated by the READY message) until the moment you encounter the problem. Please do not send screenshots, only plain text files. The Serial Monitor in the Arduino IDE currently has a bug that allows you to only copy those parts of the Serial Monitor messages that you can see on the screen. Although this means that copying larger portions of log messages is tedious, you still have to provide the complete log in order to get support. Increasing the size of the Serial Monitor window helps a little.","title":"Using the Serial Monitor"},{"location":"troubleshooting.html#compiling-fails-sketch-too-big","text":"Select the Minimal SPIFFS partition scheme in the Arduino IDE under Tools/Partition Scheme . Attention: This setting is reset to default when updating the ESP32 framework! If you are using over-the-air updates, you have to flash the software once via USB after changing the partition scheme before OTA updates will work again.","title":"Compiling fails: \"Sketch too big\""},{"location":"troubleshooting.html#no-access-to-web-interface-anymore","text":"If you have changed the settings in such a way that you cannot access the web-interface anymore, there are two ways to restore the system: If you can flash the device: Configure BSB_LAN_config.h with correct, working settings. Set UseEEPROM to 0 . Flash BSB-LAN onto the microcontroller. You can now access BSB-LAN. Go to \"Settings\" and save the settings. This will store the working settings to the EEPROM. Now edit BSB_LAN_config.h again (!) and set UseEEPROM to 1 and flash BSB-LAN again to the microcontroller. Only now will BSB-LAN read and use the settings from the EEPROM, so you can make further changes in the web-interface. If you cannot flash the device: If you cannot flash the device on site, you can reset BSB-LAN to the last BSB_LAN_config.h setting by connecting two pins before and during booting the microcontroller : ESP32-Olimex: Connect pins 34 and 3V3. ESP32-NodeMCU: Connect pins 21 and 3V3. Arduino Due: Connect pins 31 and 33. If the pins were successfully connected, the built-in LED of the microcontroller will flash slowly for four seconds. Afterwards open the configuration in the web-interface, check all settings in the configuration and save them. This will store the working settings to the EEPROM. Temporary access point on an ESP32-based microcontroller On an ESP32-based microcontroller, BSB-LAN will set up its own wireless access point named BSB-LAN if it cannot connect to any network. In this casee, you can connect to this access point with the password BSB-LPB-PPS-LAN and access BSB-LAN via the IP address http://192.168.4.1 and see if you can fix the configuration this way. Keep in mind that if you have set a passkey or HTTP username and password, these are still required if these details are stored in EEPROM or BSB_LAN_config.h .","title":"No access to web-interface anymore"},{"location":"troubleshooting.html#i-can-only-access-very-few-parameters-via-bsblpb","text":"Initially, BSB-LAN only comes with a small set of parameters that work on (almost) every heating system. You need to get a device specific parameter list .","title":"I can only access very few parameters via BSB/LPB!"},{"location":"troubleshooting.html#category-list-suddenly-so-small","text":"BSB-LAN needs to detect the heating system's controller to determine the categories to display. If BSB-LAN is not connected to the controller or the detection otherwise fails, only a few universal categories are displayed.","title":"Category list suddenly so small"},{"location":"troubleshooting.html#cannot-read-any-parameters-device-family-is-0","text":"Wrong bus type (BSB instead of LPB or vice versa). If the red LED of the adapter is not on (and ideally slightly flickering), there is a problem with the wiring between the adapter and the heating system. The red LED will come one once the adapter is connected correctly, even if the BSB-LAN adapter isn't even connected to the microcontroller!","title":"Cannot read any parameters / device family is 0"},{"location":"troubleshooting.html#no-data-even-though-the-adapters-red-led-is-on","text":"Make sure the adapter is connected to CL+/CL- and not to the third (G+) pin: G+ will drive the LED, but it's not a data line. Make sure you have powered on the microcontroller . You may think that the heating system powers the microcontroller because the LED on the BSB-LAN adapter is on, but it doesn't. You need to power it separately. With the adapter for the Olimex microcontrollers: Make sure that the BSB-LAN adapter board sits exactly in the center of the UEXT connector. It will still fit in, if it's shifted one pin left or right, but it won't work. Make sure the RX/TX pins are set/detected correctly. The startup sequence in the Serial Monitor will show you what pins have are used or have been auto-detected.","title":"No data even though the adapter's red LED is on"},{"location":"troubleshooting.html#no-or-unreliable-network-connection","text":"Try powering the microcontroller via USB from a laptop. We have had many cases where power supplies were unreliable despite having sufficient ratings. Look at the Serial Monitor log to check if the microcontroller could acquire an IP address. If not, then your network settings or physical connection may be faulty.","title":"No or unreliable network connection"},{"location":"troubleshooting.html#no-connection-to-hidden-wifi-network-possible","text":"Yes, that is a known restriction. The only way to do that is to set the BSSID explicitly in BSB_LAN_config.h .","title":"No connection to hidden WiFi network possible"},{"location":"troubleshooting.html#room-temperature-or-any-other-parameter-cannot-be-set","text":"Check BSB-LAN's settings and make sure that write access is enabled and set to standard or complete .","title":"Room temperature (or any other parameter) cannot be set"},{"location":"troubleshooting.html#web-interface-freezes-when-making-new-connection","text":"BSB-LAN is not a multi-tasking system. This means it can attend to one task at a time. So even if a URL command is aborted (by closing the browser window), BSB-LAN might not detect this and only start serving new requests once the previous one is finished.","title":"Web-interface freezes when making new connection"},{"location":"troubleshooting.html#the-serial-monitor-is-not-showing-readable-data","text":"Make sure the speed is set correctly to 115200 bps. Make sure the correct port is selected.","title":"The Serial Monitor is not showing readable data"},{"location":"using.html","text":"Using BSB-LAN Controlling the heating system via the web-interface As a first step \u2013 or if you just want to turn your heating system on or off \u2013 you can simply open the BSB-LAN web-interface and go to the Settings menu. This will display a list of categories from your heating controller. You can click on each category and will get a list of corresponding parameters. If you see a Set button, it means the parameter can be changed, and clicking on the button will send the new value to the heater. If there is no Set button, the parameter is read-only and there is no way to change the parameter. Using BSB-LAN's URL commands Most of BSB-LAN's functionality can be controlled using URL commands. These are useful or even necessary when connecting BSB-LAN to a home automation system , but also provide access to functions not directly accessible via the web-interface. URL commands are called right after BSB-LAN's hostname and an (optional) passkey. So to get a list of categories, one would have to open the URL http://bsb-lan.local/K (or http://bsb-lan.local/1234/K if the passkey 1234 is in use). Querying and setting parameters table th:first-of-type { width: 20%; } table th:nth-of-type(2) { width: 80%; } URL command Functionality /<x> Query setting of parameter <x> /<x>!<addr> Query setting of parameter <x> from controller at destination address <addr> /<x>/<y>/<z> Query settings of parameters <x> , <y> and <z> . Parameters can include ! to address different controllers. /<x>-<y> Query settings of parameters <x> to <y> /<x>!<addr>-<y> Query settings of parameters to from controller at destination address <addr> /K List all parameter categories from controller at default destination address /K!<addr> List all parameter categories from controller at destination address <addr> /K<x> Query all parameters of category <x> from controller at default destination address /K<x>!<addr> Query all parameters of category <x> from controller at destination address <addr> /S<x>=<y> Set parameter <x> from controller at default destination address to value . To set a parameter to --- (off/deactivated), just send an empty value: S<x>= /S<x>!<addy>=<y> Set parameter <x> from controller at destination address <addr> to value <y> . /I<x>=<y> Send value y as INF telegram to parameter <x> . So far only required with setting room temperature (parameters 10000 ff.). Configuration URL command Functionality /C Configuration /CO Dump BSB-LAN's configuration /P<x>,<y>,<z> Temporarily set bus type to <x> , own address to <y> and target address to <z> . /V<x> Enable ( 1 ) or disable ( 0 ) verbose output mode. Should remain enabled unless specifically instructed. Logging URL command Functionality /DG Graphical display (graph plot) of an active log file /D or /DD Dumps log file datalog.txt from storage. Contains the logged parameters and values when logging to SD card is active. /D<n> Dumps the most recent <n> calender days of the log file /D<a>,<b> Dumps data from log file between <a> and <b> . <a> and <b> have to be set in the format yyyy-mm-dd (e.g. /D2024-04-01,2024-04-30 ) /D0 Reset both log files datalog.txt and journal.txt and create new headers. Should be executed before first logging. /DK<n> Purges data older than <n> days from the log file /LN Forces logging irrespective of current interval and restarts the configured interval at this point of time /L=<x>,<y>,<z> Set logging interval to <x> seconds and (optionally) reset logging parameters to <y> , <z> etc. until reboot /L=0,0 Deactivate logging to storage until reboot /LB=<x> Log only broadcast telegrams ( 1 ) or all telegrams ( 0 ). Setting active until reboot. /LU=<x> Log only unknown bus telegrams ( 1 ) or all telegrams ( 0 ). Setting active until reboot. /A=0 Disable 24h average calculation until reboot /A=<x>,<y>,<z> Change 24h average value calculation to parameters <x> , <y> and <z> until reboot /B0 Reset stats for accumulated burner-runtime and -cycles /DD0 Remove log file datalog.txt only /DJ Dumps log file journal.txt from storage /DJ0 Remove log file journal.txt only /LD Disable logging of telegrams to journal.txt until reboot /LE Enable logging of telegrams to journal.txt Parameter information URL command Functionality /E<x> Displays parameter options of parameter <x> . Only available for option-type parameters such as data types VT_ENUM , VT_CUSTOM_ENUM , VT_BITS and VT_CUSTOM_BITS . /R<x> Query default setting of parameter <x> GPIO control URL command Functionality /G<x> Displays the actual state of GPIO pin <x> /G<x>=<y> Set GPIO pin <x> to HIGH ( <y> = 1 ) or LOW ( <y> = 0 ) JSON interface URL command Functionality /JQ=<x>,<y>,<z> Query parameters <x> , <y> and <z> and return a JSON structure /JQ Query parameters based on a received JSON structure via HTTP POST /JK=<x> Query all parameters of category <x> /JS Set parameters based on a received JSON structure via HTTP /JR<x> Query default value of parameter <x> and return a JSON structure /JK=ALL Dump ranges for all available categories as JSON structure /JC=<x>,<y>,<z> Dump possible values for parameters <x> , <y> and <z> for option-type parameters. Same JSON structure as /JK=<x> . /JB Backup of all writeable parameters in a JSON structure that can be used to write back using /JS . /JB!<addr> Backup of all writeable parameters from controller at destination address <addr> in a JSON structure that can be used to write back using /JS . /JL Creates a JSON structure of BSB-LAN's configuration settings` /JW Writes configuration settings based on a JSON structure created by /JL /JI Dump runtime information of BSB-LAN as JSON structure` /JV Return the version of BSB-LAN's JSON-API as a JSON structure Misceallaneous URL command Functionality /M<x>!<y> Send ( <x>=1 ) or revoke ( <x>=0 ) MQTT auto-discovery messages for all parameters from controller at destination address <y> . /N Reset and reboot microcontroller (takes approx. 15 seconds) /NE Erase EEPROM and reboot the microcontroller. All configuration settings will subsequently be read from configuration file until set and saved again in the web-interface to be written to EEPROM. /QD Dump parameter structure from heating system /W With a preceding /W the URL commands C , S and Q return data without HTML header and footer (e.g.: /WC or /WS<x>=<y!z> ). Using the graphical plot functionality If logged data on storage (either SD card or internal flash) is available, the Display log file becomes clickable. By default, it will display the logged data in the browser. To access the logged data itself (in the file datalog.txt ), use the /D URL command mentioned above. By default, \"Display log file\" displays the log data of the most recent n calendar days ( n=DEFAULT_DAYS_TO_PLOT , configurable in BSB_LAN_config.h ). Subsequently, controls on the web page can be used to select a different range, depending on the data contained in the log file. Mouseover, click and mouse wheel actions within the graphical display provide various control options: Better legibility for value numbers with plot lines close to each other (mouseover on plot) Users can interactively highlight plot lines for improved overview (mouseover on legend entries) Users can interactively disable plot lines for improved overview and vertical scaling (click on legend entries) Zoom (mousewheel/pinch on plot) and pan capability (drag zoomed-in plot) For further processing, you can use this Python script that takes BSB-LAN's log output to create pivoted CSV files that can be used for more insightful diagrams.","title":"BSB-LAN's functions"},{"location":"using.html#using-bsb-lan","text":"","title":"Using BSB-LAN"},{"location":"using.html#controlling-the-heating-system-via-the-web-interface","text":"As a first step \u2013 or if you just want to turn your heating system on or off \u2013 you can simply open the BSB-LAN web-interface and go to the Settings menu. This will display a list of categories from your heating controller. You can click on each category and will get a list of corresponding parameters. If you see a Set button, it means the parameter can be changed, and clicking on the button will send the new value to the heater. If there is no Set button, the parameter is read-only and there is no way to change the parameter.","title":"Controlling the heating system via the web-interface"},{"location":"using.html#using-bsb-lans-url-commands","text":"Most of BSB-LAN's functionality can be controlled using URL commands. These are useful or even necessary when connecting BSB-LAN to a home automation system , but also provide access to functions not directly accessible via the web-interface. URL commands are called right after BSB-LAN's hostname and an (optional) passkey. So to get a list of categories, one would have to open the URL http://bsb-lan.local/K (or http://bsb-lan.local/1234/K if the passkey 1234 is in use).","title":"Using BSB-LAN's URL commands"},{"location":"using.html#querying-and-setting-parameters","text":"table th:first-of-type { width: 20%; } table th:nth-of-type(2) { width: 80%; } URL command Functionality /<x> Query setting of parameter <x> /<x>!<addr> Query setting of parameter <x> from controller at destination address <addr> /<x>/<y>/<z> Query settings of parameters <x> , <y> and <z> . Parameters can include ! to address different controllers. /<x>-<y> Query settings of parameters <x> to <y> /<x>!<addr>-<y> Query settings of parameters to from controller at destination address <addr> /K List all parameter categories from controller at default destination address /K!<addr> List all parameter categories from controller at destination address <addr> /K<x> Query all parameters of category <x> from controller at default destination address /K<x>!<addr> Query all parameters of category <x> from controller at destination address <addr> /S<x>=<y> Set parameter <x> from controller at default destination address to value . To set a parameter to --- (off/deactivated), just send an empty value: S<x>= /S<x>!<addy>=<y> Set parameter <x> from controller at destination address <addr> to value <y> . /I<x>=<y> Send value y as INF telegram to parameter <x> . So far only required with setting room temperature (parameters 10000 ff.).","title":"Querying and setting parameters"},{"location":"using.html#configuration","text":"URL command Functionality /C Configuration /CO Dump BSB-LAN's configuration /P<x>,<y>,<z> Temporarily set bus type to <x> , own address to <y> and target address to <z> . /V<x> Enable ( 1 ) or disable ( 0 ) verbose output mode. Should remain enabled unless specifically instructed.","title":"Configuration"},{"location":"using.html#logging","text":"URL command Functionality /DG Graphical display (graph plot) of an active log file /D or /DD Dumps log file datalog.txt from storage. Contains the logged parameters and values when logging to SD card is active. /D<n> Dumps the most recent <n> calender days of the log file /D<a>,<b> Dumps data from log file between <a> and <b> . <a> and <b> have to be set in the format yyyy-mm-dd (e.g. /D2024-04-01,2024-04-30 ) /D0 Reset both log files datalog.txt and journal.txt and create new headers. Should be executed before first logging. /DK<n> Purges data older than <n> days from the log file /LN Forces logging irrespective of current interval and restarts the configured interval at this point of time /L=<x>,<y>,<z> Set logging interval to <x> seconds and (optionally) reset logging parameters to <y> , <z> etc. until reboot /L=0,0 Deactivate logging to storage until reboot /LB=<x> Log only broadcast telegrams ( 1 ) or all telegrams ( 0 ). Setting active until reboot. /LU=<x> Log only unknown bus telegrams ( 1 ) or all telegrams ( 0 ). Setting active until reboot. /A=0 Disable 24h average calculation until reboot /A=<x>,<y>,<z> Change 24h average value calculation to parameters <x> , <y> and <z> until reboot /B0 Reset stats for accumulated burner-runtime and -cycles /DD0 Remove log file datalog.txt only /DJ Dumps log file journal.txt from storage /DJ0 Remove log file journal.txt only /LD Disable logging of telegrams to journal.txt until reboot /LE Enable logging of telegrams to journal.txt","title":"Logging"},{"location":"using.html#parameter-information","text":"URL command Functionality /E<x> Displays parameter options of parameter <x> . Only available for option-type parameters such as data types VT_ENUM , VT_CUSTOM_ENUM , VT_BITS and VT_CUSTOM_BITS . /R<x> Query default setting of parameter <x>","title":"Parameter information"},{"location":"using.html#gpio-control","text":"URL command Functionality /G<x> Displays the actual state of GPIO pin <x> /G<x>=<y> Set GPIO pin <x> to HIGH ( <y> = 1 ) or LOW ( <y> = 0 )","title":"GPIO control"},{"location":"using.html#json-interface","text":"URL command Functionality /JQ=<x>,<y>,<z> Query parameters <x> , <y> and <z> and return a JSON structure /JQ Query parameters based on a received JSON structure via HTTP POST /JK=<x> Query all parameters of category <x> /JS Set parameters based on a received JSON structure via HTTP /JR<x> Query default value of parameter <x> and return a JSON structure /JK=ALL Dump ranges for all available categories as JSON structure /JC=<x>,<y>,<z> Dump possible values for parameters <x> , <y> and <z> for option-type parameters. Same JSON structure as /JK=<x> . /JB Backup of all writeable parameters in a JSON structure that can be used to write back using /JS . /JB!<addr> Backup of all writeable parameters from controller at destination address <addr> in a JSON structure that can be used to write back using /JS . /JL Creates a JSON structure of BSB-LAN's configuration settings` /JW Writes configuration settings based on a JSON structure created by /JL /JI Dump runtime information of BSB-LAN as JSON structure` /JV Return the version of BSB-LAN's JSON-API as a JSON structure","title":"JSON interface"},{"location":"using.html#misceallaneous","text":"URL command Functionality /M<x>!<y> Send ( <x>=1 ) or revoke ( <x>=0 ) MQTT auto-discovery messages for all parameters from controller at destination address <y> . /N Reset and reboot microcontroller (takes approx. 15 seconds) /NE Erase EEPROM and reboot the microcontroller. All configuration settings will subsequently be read from configuration file until set and saved again in the web-interface to be written to EEPROM. /QD Dump parameter structure from heating system /W With a preceding /W the URL commands C , S and Q return data without HTML header and footer (e.g.: /WC or /WS<x>=<y!z> ).","title":"Misceallaneous"},{"location":"using.html#using-the-graphical-plot-functionality","text":"If logged data on storage (either SD card or internal flash) is available, the Display log file becomes clickable. By default, it will display the logged data in the browser. To access the logged data itself (in the file datalog.txt ), use the /D URL command mentioned above. By default, \"Display log file\" displays the log data of the most recent n calendar days ( n=DEFAULT_DAYS_TO_PLOT , configurable in BSB_LAN_config.h ). Subsequently, controls on the web page can be used to select a different range, depending on the data contained in the log file. Mouseover, click and mouse wheel actions within the graphical display provide various control options: Better legibility for value numbers with plot lines close to each other (mouseover on plot) Users can interactively highlight plot lines for improved overview (mouseover on legend entries) Users can interactively disable plot lines for improved overview and vertical scaling (click on legend entries) Zoom (mousewheel/pinch on plot) and pan capability (drag zoomed-in plot) For further processing, you can use this Python script that takes BSB-LAN's log output to create pivoted CSV files that can be used for more insightful diagrams.","title":"Using the graphical plot functionality"},{"location":"de/faq.html","text":"H\u00e4ufig gestellte Fragen (FAQ) Meine Heizung hat einen OpenTherm/eBus/L-Bus/R-Bus Anschluss, kann ich damit BSB-LAN benutzen? Nein, diese Regler sind nicht mit BSB-LAN kompatibel. Bitte auf keinen Fall versuchen, den Adapter mit diesen Systemen zu verbinden! Ich vermisse die Funktion XYZ BSB-LAN erm\u00f6glicht es, eigene Funktionen hinzuzuf\u00fcgen, daf\u00fcr gibt es die Dateien BSB_LAN_custom_global.h , BSB_LAN_custom_setup.h und BSB_LAN_custom.h . Bitte schau' Dir das Verzeichnis custom_functions im Repository an, um weitere Details und Beispiele zu bekommen. Wir freuen uns \u00fcber weitere Beitr\u00e4ge!","title":"FAQ"},{"location":"de/faq.html#haufig-gestellte-fragen-faq","text":"","title":"H\u00e4ufig gestellte Fragen (FAQ)"},{"location":"de/faq.html#meine-heizung-hat-einen-openthermebusl-busr-bus-anschluss-kann-ich-damit-bsb-lan-benutzen","text":"Nein, diese Regler sind nicht mit BSB-LAN kompatibel. Bitte auf keinen Fall versuchen, den Adapter mit diesen Systemen zu verbinden!","title":"Meine Heizung hat einen OpenTherm/eBus/L-Bus/R-Bus Anschluss, kann ich damit BSB-LAN benutzen?"},{"location":"de/faq.html#ich-vermisse-die-funktion-xyz","text":"BSB-LAN erm\u00f6glicht es, eigene Funktionen hinzuzuf\u00fcgen, daf\u00fcr gibt es die Dateien BSB_LAN_custom_global.h , BSB_LAN_custom_setup.h und BSB_LAN_custom.h . Bitte schau' Dir das Verzeichnis custom_functions im Repository an, um weitere Details und Beispiele zu bekommen. Wir freuen uns \u00fcber weitere Beitr\u00e4ge!","title":"Ich vermisse die Funktion XYZ"},{"location":"de/index.html","text":"What is BSB-LAN? BSB-LAN is a software /hardware solution for accessing the \u201cBoiler-System-Bus\u201d (BSB) , the \u201cLocal-Process-Bus (LPB)\u201d and the \u201cPunkt-zu-Punkt-Schnittstelle\u201d (PPS) . The BSB-LAN hardware is available for various ESP32 -based microcontrollers (ESP32 NodeMCU, Olimex EVB, Olimex POE-ISO) as well as for an Arduino Due with Ethernet shield. It allows accessing the heating systems from Atlantic, Br\u00f6tje, Elco and many other manufacturers via LAN/WLAN, provided that they use one of the Siemens controllers listed below. BSB-LAN makes it possible to monitor and control the heating system and log any given values. This project supports almost all parameters available on the heating systems and can be a more comprehensive and cost-effective alternative to the OZW 672, OCI 700 or Remocon Net B. Optional integration into existing smart home systems such as Home Assistant , ioBroker , openHAB , Node-RED , Homebridge , Jeedom , SmartHomeNG , Volksz\u00e4hler , FHEM , HomeMatic , Loxone, IP-Symcon or EDOMI is possible via MQTT , JSON or HTTP access . The adapter can also be used as a standalone logger without LAN or Internet connection when using a microSD card. Temperature and humidity sensors can also be connected and their data can also be logged and analyzed. The option of integrating your own code into the BSB-LAN software also offers a wide range of expansion options. Where and how do I begin? You are an experienced user? Head on to the quickstart instructions . Otherwise (or if you run into problems), please read on! Is my heating system supported by BSB-LAN? Please go to the list of supported heating systems . If you already know that your system is supported, find out more about the BSB-LAN adapter and where to get it. If you already have the adapter, you may want to know how to install the adapter . If you have installed the adapter, you will need to configure BSB-LAN . Once you have everything up and running, find out about how to use BSB-LAN or learn more about the ways to ingetrate BSB-LAN into home automation systems . If you want to update BSB-LAN and would like to know what has changed since your last installation, please check the ChangeLog . Our wiki pages are continuously growing and provide background knowledge as well as more specialized topics on BSB-LAN and heating systems in general. If you run into troubles, have a look at the troubleshooting page . And before you ask anyone else any questions, have a look at our Frequently Asked Questions (FAQ) first!","title":"\u00dcberblick"},{"location":"de/bsb-lan_adapter.html","text":"The BSB-LAN adapter Adapter boards available - contact Frederik at bsb(\u00e4t)code-it.de (German or English) for more details. In order to connect to your heating system with a microcontroller, you need to have an adapter board that does the necessary logic-level conversion: The adapter is then plugged right onto the microcontroller, either underneath the pins of the ESP32-NodeMCU or onto the UEXT connector of the Olimex: The two different types of ESP32 adapters (Olimex and ESP32-NoceMCU) only vary in the location of their connectors, the other parts of the board are identical. The Arduino Due board contains an EEPROM chip because the Due does not come with on-board EEPROM. Therefore, you can re-use the Arduino Due board on an ESP32 microcontroller (if you connect the correct pins with wires), but you cannot use an adapter for the ESP32 on an Arduino Due. Suitable microcontrollers BSB-LAN can be installed on three different types of microcontrollers: ESP32-Olimex ESP32-NodeMCU (30 pin version only!) and Arduino Due. Olimex produces several kinds of boards: We recommend either the Olimex ESP32-EVB or the Olimex ESP32-POE-ISO . The simple POE version (without the \"ISO\") is not recommended because it does not allow to be connected to PoE Ethernet and USB at the same time. The Arduino Due requires an Ethernet Shield in order to access the local network. Each of the different controllers have their advantages and disadvantages: Functionality ESP32-Olimex ESP32-POE-ISO ESP32-NodeMCU Arduino Due Ethernet/LAN X X - X WiFi/WLAN X X X - Over-the-air updateable X X X - Built-in micro-SD card X X - - Accessible GPIOs 2 (GPIO13/16) some some many","title":"Der BSB-LAN Adapter"},{"location":"de/bus_systems.html","text":"The BSB/LPB/PPS Bus Developed at the end of the last millenium based on the BatiBUS (more information can be found here and here ), many Siemens heating system controllers still use the same kind of physical bus to \"talk\" to room units as well as other heating devices. While a bus speed of a mere 4800 bits per second might sound anachronistic these days, it still provides for a stable and robust transmission protocol that is even today perfectly sufficient when it comes to transmitting short messages of a few dozen bytes over lines sometimes as long as one kilometer. The bus topology also allows you to connect BSB-LAN at any point: At the room unit, at the heating system or anywhere where the bus lines are available. You can even add the two wires for BSB-LAN in an already \"occupied\" slot, and it won't harm the other device (proper installation assumed). On top of the same physical layer, three bus systems, BSB, LPB and PPS, cater for different tasks, and while BSB and LPB should always be preferred if available, PPS nevertheless provides a set of parameters that is usually quite enough for the average user. BSB-LAN runs on any of these busses and swapping between them is just changing a few settings away. The Boiler System Bus (BSB) BSB is the most common bus system in Siemens controllers for the last 10-15 years. It is the successor of the PPS system with which it shares the same physical parameters, but is much more versatile: Instead of just a few dozen parameters, it can access hundreds of parameters and group them into various categories for easier navigation. It is a transaction-based protocol where most messages are being sent from one device to another and the recipient returning some kind of feedback, for example whether the task could be completed or whether it contained invalid data. While BSB is capable of addressing multiple devices on the bus, it is not used in systems with more than one heating device. The heating device always has the ID 0 , the display unit on the heating system has the ID 10 (or 0x0A in hexadecimal) and the standard room unit has the ID 6 . BSB-LAN has the ID 66 or 0x42 in hexadecimal. Room units that \"speak\" BSB are, for example, the QAA55 and the QAA75. The Local Process Bus (LPB) LPB was introduced more or less around the same time as PPS which it complemented in terms of communication with other heating devices: While PPS was used to communicate with the room unit, LPB was used to send commands from one main heating device to one or more auxilliary heating devices, for example in a cascade setup. At that time, most of the information transmitted via LPB was related to the internals of the heating system (such as sensor data or internal setpoint temperatures), whereas the parameters relevant for the user (such as comfort temperature setpoint etc.) were only available via PPS. Nowadays, heating devices that offer both LPB and BSB have the same kind of parameter data available on both bus systems. LPB uses a specific addressing scheme with segments and devices. Each segment from 0 to 15 can contain up to 15 devices (from 1 to 15). When writing these addresses, segment and device are separated by a colon: 00:01 or 04:03 . To convert the segment-based address into the destination ID required for BSB-LAN, the formula is as this: SEGMENT multiplied by 16 plus DEVICE minus one. Example: Device 3 in segment 4 equals to 4 * 16 + 3 - 1 = 66. The main heating unit is by definition 00:01 , so this equals to a destination ID 0. To learn more about the LPB system and how it should be deployed, you may refer to these two documents from the end of the 1990s, one covers the basic system data that covers the conceptualization of an LPB network, and the other one deals with the basic engineering data and provides details about cable lengths and diameters etc. Except for some Weishaut heaters, room units are not connected to the heating system via LPB. Newer models use BSB for this task while older models use either PPS or in some cases also OpenTherm. The Point-to-Point Interface (PPS) The Point-to-Point Interface (PPS deriving from the German term \"Punkt-zu-Punkt Schnittstelle\") is compatible to the other systems on a physical layer, but not in the way message telegrams are being exchanged. While BSB and LPB talk to each other by sending telegrams and acknowledging their receipt respectively, PPS is dominated by the heating unit. The heating unit constantly sends its data to the room unit and tells the room unit when and what kind of information it should send. So it may take up to a few minutes until a value that is set in BSB-LAN is actually requested by the heating system and shown there. It is also a very timing sensitive protocol, therefore long other tasks that BSB-LAN is told to do will lead to a temporary interruption and possible error message on the heating system. However, after a short while, this should be clearing by itself when the two components \"talk\" to each other again. Other than BSB and LPB, changes made in BSB-LAN do not take immediate effect. Changing values, for example like the room temperature comfort setpoint, will be stored internally in BSB-LAN first to be sent out to the heating system once it tells the room unit (i.e. BSB-LAN) to do so. This may take up to a minute or so, so one should not be confused that settings do not show up on the heater immediately, as is the case with BSB and LPB. With PPS, BSB-LAN can run in two modes: either listening passively or as a room unit. In passive mode, BSB-LAN can just listen to the data exchanged between the room unit and the heating device. It is not possible to send one's own data, for the simple fact that it would be overwritten in no time by the same type of data coming from the room unit. In order to send parameter data to the heating system, BSB-LAN mus run in \"room unit\" mode, and this means that any room unit will have to be removed from the heating system. In this case, it is especially important to regularly send a room temperature value to BSB-LAN which in turn will send this value to the heating device. Only if the heater runs solely on outside temperature then this value can be ignored. BSB-LAN stores some values in its non-volatile EEPROM, but some values need to be set anew after a reboot, such as the room temperature setpoint. This is to prevent to store a parameter value that has become invalid but is still sent as it is stored in the EEPROM. Room units commonly used with heating systems that support PPS are the QAA50 and the QAA70.","title":"Der BSB/LPB/PPS Bus"},{"location":"de/configure.html","text":"Configuration There are two ways to configure BSB-LAN: Through the configuration file BSB_LAN_config.h Through the web-interface by calling http://bsb-lan.local/C (or the corresponding IP address) For the initial configuration, some settings have to be configured in the configuration file (such as language and network settings). Any further changes can be done also in the web-interface. It may, however, be useful to do the configuration (also) in the configuration file in case one needs to change the microcontroller. Almost all settings exist also in the web-interface and vice versa. On an ESP32-based microcontroller, BSB-LAN will set up its own wireless access point named BSB-LAN if it cannot connect to any network. So even without any further configuration, you can connect to this access point with the password BSB-LPB-PPS-LAN and access BSB-LAN via the IP address http://192.168.4.1 and proceed with the configuration via this way. Keep in mind that if you have set a passkey or HTTP username and password, these are still required if these details are stored in EEPROM or BSB_LAN_config.h . Configuration through `BSB_LAN_config.h`` The configuration file consists of variables that are used in other parts of BSB-LAN. It is therefore important to only change the contents of the variables (i.e. the settings) and not the type of the variables. So if there is for example the setting byte ip_addr[4] = {192,168,178,88}; you must not alter the byte ip_addr[4] = part, only the contents, in this case the comma-separated IP address. Configuration through the web-interface Configuring BSB-LAN through the web-interface is pretty straightforward, as you don't have to deal with variable names but clear descriptions. Initially, only a selected number of configuration options are displayed in the webinterface. To have access to all of them, you have to set the \"extended configuration\" option to \"on\". Overview of configuration options table th:first-of-type { width: 20%; } table th:nth-of-type(2) { width: 20%; } table th:nth-of-type(3) { width: 40%; } table th:nth-of-type(4) { width: 20%; } General Settings Web-Interface Configuration File Functionality Possible settings - #define LANG Set language DE , EN , FR and other ISO country codes Display extended configuration - Show all configuration options On Off Read config from EEPROM UseEEPROM Read configuration from EEPROM or file On ( 1 ) Off ( 0 ) Write access (level) - If DEFAULT_FLAG is set to FL_SW_CTL_RONLY , you can set the level of write access here. Off (read-only) On (Standard) On (Complete) Check for updates enable_version_check Query BSB-LAN server for new available version On ( true ) OTA Update enable_ota_update Enable over-the-air (OTA) update On ( true ) Energy saving esp32_save_energy Reduces speed, saves energy. Do not enable when using WiFi. On ( true ) Off ( false ) Webserver file system webserver Enables serving files from SD card On ( true ) Off ( false ) - #define DEFAULT_FLAG Set read/write access to heating system. FL_RONLY sets all parameters to read-only. FL_SW_CTL_RONLY allows setting read/write access via web-interface configuration setting. 0 makes all parameters that could be written writeable. Do not use this option unless instructed otherwise! FL_RONLY FL_SW_CTL_RONLY 0 Bus settings Web-Interface Configuration File Functionality Possible settings Bus type bus_type Bus type (BSB/LPB/PPS) BSB ( 0 ) LPB ( 1 ) PPS ( 2 ) PPS: mode pps_write BSB-LAN can act as a PPS room unit (only if no real room unit is connected) or just listen passively. passive ( 0 ) as room unit ( 1 ) PPS: QAA model QAA_TYPE Room unit that should be simulated for PPS bus QAA70 ( 0x53 ), QAA50 ( 0x52 ), QAA95 ( 0x37 ), QAW10 ( 0x4D ), QAW20 ( 0x4E ), MCBA/REA70/DC225 ( 0x58 ), QAA10 ( 0x5A ), QAA20 ( 0x5B ), QAA12/13 ( 0x5D ), BMU ( 0x66 ), RVD130 ( 0x43 ) Own address own_address Own bus address (default 66 should not be changed) 66 ( 66 ) Destination address dest_address Destination bus address. For BSB always 0 . For LPB 0 if destination device is in segment 1, device address 0. To convert from LPB segment and device address notation to destination address, multiply segment by 16, add the device address and subtract one. For example, to address a device in segment 4 with device address 3, the destination address is (4 * 16) + 3 - 1 = 66 . For PPS not relevant. 0 ( 0 ) RX pin number TX pin number bus_pins Define the RX/TX pins to communicate with the BSB-LAN adapter. Leave at 0 for auto-detection. 0 and 0 ( 0, 0 ) Network settings Web-Interface Configuration File Functionality Possible settings Network device network_type Choose between WLAN and LAN to connect BSB-LAN to the network. LAN ( 0 ) WLAN ( 1 ) WLAN SSID wifi_ssid Set the WLAN network name when using WLAN. Your_WLAN_name ( Your_WLAN_name ) WLAN password wifi_pass Set the WLAN password when using WLAN. YourWLANpassword ( YourWLANpassword ) DHCP usage use_dhcp Set whether or not to use DHCP to get an IP address from the router. On ( true ) Off ( false ) IP address (fixed) ip_addr When not using DHCP, you can set a fixed IP address here. Otherwise leave at 0.0.0.0 . In the web-interface, you may use dot notation. In the configuration file, you have to use comma as a separator. 192.168.178.88 ( 192,168,178,88 ) Subnet subnet_addr Subnet when using fixed IP address. Same notation as with IP address. 255.255.255.0 ( 255,255,255,0 ) Gateway gateway_addr Gateway address when using fixed IP address. Same notation as with IP address. 192.168.178.1 ( 192,168,178,1 ) DNS Server dns_addr DNS server address when using fixed IP address. Same notation as with IP address. 192.168.178.1 ( 192,168,178,1 ) TCP Port HTTPPort HTTP port number to access the web-interface. Defaults to 80 . 80 ( 80 ) MAC address mac Set a fixed MAC address. Only relevant on Arduino. 00:80:41:19:69:90 ( 0x00, 0x80, 0x41, 0x19, 0x69, 0x90 ) mDNS Hostname mDNS_hostname Hostname for mDNS discovery BSB-LAN ( BSB-LAN ) HTTP authentification USER_PASS If not empty, this setting contains the username and password for HTTP authentification, separated by a colon. Username:Password ( Username:Password ) URL Passkey PASSKEY Passkey adds a user-defined sequence that needs to be added to the URL after the hostname. For example, a passkey of 1234 requires every URL to be written as http://bsb-lan.local/1234/ instead of just http://bsb-lan.local/1234/ . Leave empty for no passkey. 1234 ( 1234 ) Trusted IP address trusted_ip_addr Access to BSB-LAN is only possible from this IP address. Same notation as with IP address. 192.168.178.89 ( 192,168,178,89 ) Trusted IP address trusted_ip_addr2 Access to BSB-LAN is only possible from this IP address. Same notation as with IP address. 192.168.178.90 ( 192,168,178,90 ) - bssid Enter a specific BSSID address here to ensure connecting to a specific access point. Set to all zeros under normal circumstances. ( 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 ) - ntp_server Set an NTP server here to acquire exact time for BSB-LAN. Set to empty string if you don't want to use NTP. ESP32-based microcontrollers only. ( pool.ntp.org ) - local_timezone Timezone to use for NTP. See here for a complete list. ( CET-1CEST,M3.5.0,M10.5.0/3 ) Logging Web-Interface Configuration File Functionality Possible settings Storage device LogDestination Select the destination for logging activities. SD card is highly recommended, as using the internal flash will wear out the internal flash eventually. SD card ( SDCARD ) Internal Flash Storage ( FLASH ) Logging mode LoggingMode Set the logging destinations/activities. Multiple selections are possible, for the configuration file, the values have to be added, for example, to send to MQTT broker and to UDP, set the value to 4 + 16 = 20 Write to SD card ( 1 ) Calculate 24h averages ( 2 ) Send to MQTT broker ( 4 ) Only send log parameters to MQTT ( 8 ) Send to UDP ( 16 ) Logging Interval log_interval Interval for logging activities (in seconds) 60 ( 60 ) Log Parameters log_parameters List of logging parameters. See addressing instructions below. 8700, 8743!2, 8314!2 ( {8700, -1}, {8743, 2}, {8314, 2} ) Log bus telegrams logTelegram Log raw bus telegrams, such as broadcast messages or unknown telegrams Off ( LOGTELEGRAM_OFF ) Log all bus telegrams ( LOGTELEGRAM_ON ) Log unknown bus telegrams only ( LOGTELEGRAM_UNKNOWN_ONLY ) Log broadcast bus telegrams only ( LOGTELEGRAM_BROADCAST_ONLY ) Log unknown broadcast bus telegrams only ( LOGTELEGRAM_UNKNOWN_ONLY + LOGTELEGRAM_BROADCAST_ONLY ) 24h averages parameters avg_parameters List of parameters for generating 24 hour averages. See addressing instructions below. 8700, 8743!2, 8314!2 ( {8700, -1}, {8743, 2}, {8314, 2} ) - #define DEFAULT_DAYS_TO_PLOT Define default number of days to plot logging data ( 3 ) MQTT Web-Interface Configuration File Functionality Possible settings MQTT Broker server mqtt_broker_addr Hostname/IP of the MQTT broker my-mqtt-broker.local ( my-mqtt-broker.local ) MQTT Username MQTTUsername Optional username for MQTT broker MyMQTTusername ( MyMQTTusername ) MQTT Password MQTTPassword Optional password for MQTT broker MyMQTTpassword ( MyMQTTpassword ) MQTT Device ID MQTTDeviceID Device identifier for MQTT BSB-LAN ( BSB-LAN ) MQTT Topic prefix MQTTTopicPrefix Topic prefix for MQTT BSB-LAN ( BSB-LAN ) MQTT Usage mqtt_mode Set the format for MQTT messages Plain text ( 1 ) - Send parameter number and value in plain text format JSON ( 2 ) - Send messages in JSON format (parameter number and value only) Rich JSON ( 3 ) - Send parameter number/name/value/unit/error in JSON format. Sensors and external devices Web-Interface Configuration File Functionality Possible settings OneWire Pins One_Wire_Pin Set the OneWire pin (use -1 in configuration file to disable) 10 ( 10 ) DHT Pins DHT_Pins Set the DHT22 sensor pins (use -1 in configuration file to disable) 11, 12, 13 ( 11, 12, 13, -1, -1, -1, -1, -1, -1, -1 ) BME280 sensors BME_Sensors Set number of BME280 sensors on the I2C bus. You need to have access to I2C pins. Fixed addresses 0x76 and 0x77 will be used. Use 0 to disable. 1 ( 1 ) MAX! Usage enable_max_cul Enable or disable connection to CUNO/CUNX/modified MAX!Cube On ( true ) Off ( false ) IP address cube max_cul_ip_addr IP address of the CUNO/CUNX/MAX!Cube 192.168.178.21 ( 192,168,178,21 ) MAX! Devices max_device_list IDs of MAX! devices to be polled. These IDs can be found on a sticker of the device. After entering them here, each device needs to be set into pairing mode. This has to be repeated every time the EEPROM layout of BSB-LAN is changed (see ChangeLog). KEQ0502326, KEQ0505080, KHA0002948 ( \"KEQ0502326\", \"KEQ0505080\", \"KHA0002948\" ) IPWE Usage enable_ipwe Enable IPWE extension ( /ipwe.cgi ) On ( true ) Off ( false ) IPWE Parameters ipwe_parameters List of parameters for display in IPWE extension. See addressing instructions below. 8700, 8743!2, 8314!2 ({8700, -1}, {8743, 2}, {8314, 2}) - #define CUSTOM_COMMANDS Enable custom functions Debugging Web-Interface Configuration File Functionality Possible settings Debugging Usage debug_mode Select debug output Off ( 0 ) Serial ( 1 ) Telnet ( 2 ) Verbosity mode verbose Enable or disable verbose debug messages (do not turn off unless advised) On ( 1 ) Off ( 0 ) Raw data mode monitor Enable or disable raw data mode (do not turn on unless advised!) On ( 1 ) Off ( 0 ) Display unknown parameters show_unknown Try and display also parameters not supported by destination device On ( true ) Off ( false ) Adressing different heating controllers In order to address parameters from devices other than the default destination device in the web-interface, you need to add an exclamation mark followed by the device address (see above for converting segment/device notation to device address). For example, parameter 8700 from device address 1 would be written as 8700!1 instead of just 8700 . For the configuration file, parameters are listed in the form {parameter number, destination address} . Parameter 8700 from device address 1 would thus be written as {8700, 1} . To address the default destination, you can do so by using -1 .","title":"Konfiguration"},{"location":"de/homeautomation.html","text":"Connecting BSB-LAN to home automation systems BSB-LAN provides four ways to connect to home automation systems: Using supported modules for specific home automation systems Exchanging data via MQTT Exchanging data via JSON Exchanging data via URL commands and screen scraping Using supported modules for specific home automation systems For some systems, specific modules exist that can be used to access BSB-LAN seamlessly: Home Assistant While the official plugin no longer works, the MQTT approach (see below) works well with Home Assistant, including the auto-discovery feature. Here is a link to a video in the BSB-LAN YouTube channel that shows how to set up BSB-LAN in Home Assistant using the auto-discovery feature of Home Assistant. For further details of the implementation, you may also refer to these tutorials: GitHub user @ryann72 wrote detailed instructions for BSB-LAN and HomeAssistant/Mosquitto . It is also available in French . YouTuber @StoneTime has created two videos (in German) where he shows the installation of BSB-LAN as well as setting it up in Home Assistant . Dankesch\u00f6n! YouTuber @ArminasTV has created two videos (in French) where he shows the installation of BSB-LAN as well as how to set it up with Home Assistant and MQTT . Merci beacoup! Homebridge BSB-LAN user Michael has written a plugin for Homebridge . Thank you! ioBroker GitHub user @hacki11 has developed an adapter for ioBroker . Thank you! Jeedom GitHub user @bernard-dandrea has written a plugin for Jeedom (with a French description). Thank you! Node-RED GitHub user @konne wrote a module for Node-RED . Thank you! FHEM FHEM forum user Luposoft has written a compact explanation of the configuration for using FHEM via MQTT. Thank you! openHAB Since version 2.5.4, there exists a binding that is officially part of OpenHAB. Homematic FHEM forum user PaulM has written a few scripts to showcase the integration of BSB-LAN into Homematic. Thank you! SmartHomeNG GitHub user @thensty wrote a plugin for SmartHomeNG . Thank you! Volkszaehler GitHub user @lapixo has contributed a script for the Volkszaehler project . Thank you! Bash script GitHub user @khfm has written Bash scripts to query data and display it using gnuplot. Thank you! Exchanging data via MQTT This is the recommended way to connect BSB-LAN to home automation systems because it allows seamless exchange of data. As a prerequisite, a MQTT broker (such as mosquitto ) is needed, either running locally or via making use of a public service. Some home automation systems such as Home Assistant offer the installation of mosquitto as part of their software. Attention: Currently, the mosquitto broker seems to have an issue with handling larger numbers of messages from versions 2.0.16 onwards ( see this bug report ). If you encounter the problem that your BSB-LAN entities become \"unavailable\", especially after using the auto-discovery feature below, please downgrade to mosquitto version 2.0.15. However, be aware that this version has security issues, so make sure that your broker runs at least in a firewalled environment. In BSB-LAN, you need to make or enable at least the following configurations: Set Logging mode (additionally) to Send to MQTT Broker . Set Log Interval to the time (in seconds) you want the log parameters to be published. Select up to 20 Log Parameters you want to be sent to your home automation system. Set MQTT Usage to plain text . Set MQTT Broker Server to the hostname of your MQTT broker (such as the mosquitto server). If your home automation system supports MQTT auto-discovery (as is the case with Home Assistant), you can call URL command /M1!<x> and BSB-LAN will send auto-discovery messages for all available parameters from device ID <x> to the MQTT broker and thus to the home automation system. You may have to clean up afterwards or send a removal message for all these parameters using URL command /M0!<x> if you don't want to use this feature anymore. Otherwise, if you want to set up your own connection details, the topic structure of BSB-LAN is as follows: <BSB-LAN MQTT Topic>/<device ID>/<category no.>/<parameter no.> whereas <BSB-LAN MQTT Topic> is defined in BSB-LAN's settings (defaults to BSB-LAN ), <device ID> is the ID of the heating controller (usually 0 for the main controller), <category no.> is the category number as it is used with URL-command /K , <parameter no.> is the parameter number, such as 501.1 . This structure is followed by one of these topics that determine the action to be performed: /status - contains the value of the parameter in the MQTT payload. /set - used to set a parameter with the value contained in the published MQTT payload using the SET telegram (default way of setting parameters). /inf - same as /set , but uses the INF telegram (used for sending room temperature parameter 10000, for example). /poll - ignores the published value and forces BSB-LAN to immediately update /status of the same parameter with a freshly retrieved parameter value. /poll can also be accessed directly below the main topic (e.g. BSB-LAN/poll ) where it accepts a list of parameters separated by comma. These parameters will then immediately have their respective /status topics updated in one go. Addressing parameters can either be done in topic-style (with leading slash) or similar to the list of logging parameters in BSB-LAN's settings (see examples below). At the same time, the legacy way of sending URL commands via MQTT directly to the main topic (as defined in the settings, defaulting to BSB-LAN ), is still supported for compatibility reasons, but deprecated. Responses will always be written to /status of the above mentioned topic structure. The /status topic is updated in four ways: via logging parameters to MQTT as explained above every time a URL query is made to BSB-LAN (can be disabled by activating Only send log parameters to MQTT in configuration) every time a parameter is changed through the room unit (can be disabled by activating Only send log parameters to MQTT in configuration) every time the parameter is updated via the /poll topic as explained above In these cases, the respective values of the parameters affected will be sent to the MQTT broker, so even changes made outside of BSB-LAN are sent to the home automation system, which is why the MQTT approach is the recommended way to connect to a home automation system. This also means that, as an alternative to the built-in logging feature of BSB-LAN, you can also just periodically call a URL with the parameters you want to see updated. Since these parameters will also be sent to the MQTT broker, your home automation system will receive them as well. For example, if you periodically call the URL http://bsb-lan.local/700/8700 , both the operating mode of heat circuit 1 (parameter 700) as well as the current outside temperature (parameter 8700) will be sent to the MQTT broker. Examples for querying or setting parameters via MQTT using mosquitto Query the outside temperature (device ID 0, category no. 51, parameter 8700): mosquitto_sub -h my.mosquitto-broker.local -u USER -P PASSWORD -t BSB-LAN/0/51/8700/status Set the comfort temperature setpoint (device ID 0, category no. 16, parameter 710) to 20 degrees: mosquitto_pub -h my.mosquitto-broker.local -u USER -P PASSWORD -m \"20\" -t BSB-LAN/0/16/710/set Force immediate update of outside temperature (device ID 0, category no. 51, parameter 8700): mosquitto_pub -h my.mosquitto-broker.local -u USER -P PASSWORD -m \"\" -t BSB-LAN/0/51/8700/poll Force immediate update of parameters 700 and 8700 from default device as well as parameter 8326 from device ID 1: mosquitto_pub -h my.mosquitto-broker.local -u USER -P PASSWORD -m \"700,8700,8326!1\" -t BSB-LAN/poll or mosquitto_pub -h my.mosquitto-broker.local -u USER -P PASSWORD -m \"/0/16/700,/0/51/8700,/1/50/8326\" -t BSB-LAN/poll Attention: Take note that the category number differs from system to system and has to be compared with your system first! Exchanging data via JSON BSB-LAN allows to query and set parameters via JSON structures and also provides numerous information about the parameters and category structures this way. The JSON API is accessd via URL commands and the openapi.yaml file provided in this repository can be used with Swagger to explore its possibilities and functionalitites. Exchanging data via URL commands and screen scraping For simpler solutions, using the URL commands to query and set parameters can be used to control BSB-LAN from other systems. Screen scraping is possible since the project tries not to break certain ways of displaying data, so that parsing with regular expressions remains feasible. Nevertheless, for most scenarios one of the other options will probably be preferrable.","title":"Mit dem Smart Home verbinden"},{"location":"de/install.html","text":"Installation Installing BSB-LAN requires three steps: Installing the Arduino IDE in order to flash the BSB-LAN software onto the microcontroller Assembling the hardware parts Connecting BSB-LAN to the heating system Installing the Arduino IDE and flashing BSB-LAN Download and unpack the current BSB-LAN version from the master repository or use git to clone the repository. Navigate to the BSB_LAN folder and rename the following files: BSB_LAN_custom_defs.h.default to BSB_LAN_custom_defs.h BSB_LAN_config.h.default to BSB_LAN_config.h . Download and install the Arduino IDE for your system. Connect your microcontroller (ESP32 or Arduino Due) to your computer and start the Arduino IDE. Go to Tools/Board/Board Manager and make sure that the framework for your board is installed (\"esp32 by Espressif Systems\" for ESP32 microcontroller, \"Arduino SAM Boards (32-bits ARM Cortex-M3) by Arduino\" for Arduino Due microcontroller) Again, go to Tools/Board and select your microcontroller: ESP32 Dev Module for the Joy-It ESP32 NodeMCU. Olimex ESP32-EVB for the ESP32-based Olimex EVB . Olimex ESP32-POE-ISO for the ESP32-based Olimex POE ISO Arduino Due (Programming Port) for the Arduino Due. Do not use the Native USB Port here ! Again, go to Tools/Board and select the proper upload speed (up to 460800 for ESP32, 115200 for Arduino Due). For ESP32-based microcontrollers, again, go to Tools/Board and select \"Minimal SPIFFS\" for partition scheme ( do not confuse this with the similar \"Minimal\" partition scheme which is different and not working in our case). If you don't set the correct parition scheme, the firmware will not fit into the ESP32! Go to File/Open and navigate to the BSB_LAN folder and double-click on BSB_LAN.ino . The project will open. You may now proceed to configure BSB-LAN. When you are done configuring, go to Sketch/Upload and upload the BSB-LAN software to the microcontroller. Subsequent updates on ESP32-based microcontrollers \"over the air\" (OTA) If you are running BSB-LAN on an ESP32-based microcontroller and have enabled Over-the-Air Updates in the settings , you can perform future updates of BSB-LAN using your browser. To do that, instead of using Sketch/Upload , you need to select Sketch/Export Compiled Binary . This will create a build folder in your BSB-LAN folder in which you will find among others the file BSB_LAN.ino.bin . Now open http://bsb-lan.local:8080 and select and upload that file. Do not interrupt the upload process. You may try to access BSB-LAN from a different browser window to see if the process is completed. Please take note that this only applies to ESP32-based microcontrollers. Arduinos do not support this functionality. Assembling the BSB-LAN adapter You can either get a fully assembled adapter from Frederik (bsb(\u00e4t)code-it.de) or build one on your own (see the folder schematics for the schematics). Once you have the BSB-LAN adapter ready, you just need to plug it into the microcontroller. If you are using an Olimex microcontroller, double-check that the adapter really sits in the center of the connector, because it still fits even if it is moved by one pin row to the left or right. Connecting BSB-LAN to the heating system Once the microcontroller and the BSB-LAN adapter are ready, perform the following steps to connect BSB-LAN to the heating system: Unplug the microcontroller from your computer and turn off your heating system. Locate the BSB/LPB/PPS connectors. You may have to open your heating system for that. Have a look at the list of supported heating systems to get an idea where the pins are located. Do all this at your own risk! If you are not careful, you may damage your equipment! Especially take care to prevent electrostatic discharge (ESD) which can destroy both BSB-LAN and the heating controller! Now plug the BSB-LAN adapter onto the microcontroller and connect the + screw connector to the CL+ (BSB), DB (LPB) or A6 (PPS, different connector names are possible) connector, and the - screw connector to the CL- (BSB), MB (LPB) or M (PPS) connector. If there is no empty connector, there is no problem adding the wires for BSB-LAN to an already \"used\" connector, provided the wires are inserted carefully. Regarding the cables, an (ideally screened/shielded) twisted two-core cable is recommended by Siemens . However, a number of users have also been successful with plain bell wire if the distances are not too long. Now you need to power on the microcontroller. Take note that the heating system does not power the microcontroller, even if the BSB-LAN adapter's LED turns on when you connect it to the heating system. You need to supply power to the microcontroller via its USB port (or via PoE on the Olimex POE-ISO). Make sure to use a stable power supply with at least 2 amperes. Once the microcontroller is powered on, turn on the heating system. The red LED of the BSB-LAN adapter should alight. It should flicker occasionally. Now open your webbrowser and open the IP address of BSB-LAN. If MDNS is enabled, you can directly go to http://bsb-lan.local . Otherwise, you can find the IP address of BSB-LAN either in your router, or you connect the microcontroller to your PC and open the Arduino IDE and go to Tools/Serial Monitor and set the serial monitor speed to 115200. Restart the microcontroller, and the IP address will be displayed upon connecting to the network. Generating the device-specific parameter list Once you access BSB-LAN for the first time, you will see that only very few parameters are shown on the device\u2019s web interface. This is because each model of the Siemens controller built into your heating system supports a different set of parameters. Previously, I provided a list of parameters collected from all different kinds of heating systems, but it turned out that this list was ambiguous or even contained errors that we couldn\u2019t fix reliably. This list is still available in release version 2.2.x of BSB-LAN and can be copied from there if needed. However, it is not advisable to do so because the said ambiguities and errors pose too great a risk of misconfiguring the heating system. Instead, it is recommended to click on the \" Device-specific parameter list \" button in BSB-LAN's menu and send the generated list to Frederik (bsb(\u00e4t)code-it.de). From this file, a parameter list can be generated that fits exactly the controller of your heating system. Unfortunately, this process cannot be automated yet, but at least it has to be done just once. These raw data do not contain any settings or other kinds of personal data, just the parameter structure of the heating system. It\u2019s in my own interest to create and return these parameter lists without any delay, but I ask for your understanding if it takes a bit longer due to work or family matters. Once you have received the parameter list (or taken the one from version 2.2.x), you have to replace the existing BSB_LAN_custom_defs.h file with the one sent to you, compile it and flash it again. Now you are ready to access all parameters.","title":"Zusammenbauen"},{"location":"de/quickstart.html","text":"Quickstart instructions These quickstart instructions are for users who are familiar with installing and configuring software on their computer. If you need more detailed instructions, please head to the install instructions ! Make sure that your heating system is compatible with BSB-LAN! Download and unpack the current BSB-LAN version from the master repository or use git to clone the repository. Navigate to the BSB_LAN folder and rename the following files: BSB_LAN_custom_defs.h.default to BSB_LAN_custom_defs.h BSB_LAN_config.h.default to BSB_LAN_config.h . Download and install the Arduino IDE for your system. Connect your microcontroller (ESP32 or Arduino Due) to your computer and start the Arduino IDE. Go to Tools/Board/Board Manager and make sure that the framework for your board is installed (\"esp32 by Espressif Systems\" for ESP32 microcontroller, \"Arduino SAM Boards (32-bits ARM Cortex-M3) by Arduino\" for Arduino Due microcontroller) Again, go to Tools/Board and select your microcontroller: ESP32 Dev Module for the Joy-It ESP32 NodeMCU. Olimex ESP32-EVB for the ESP32-based Olimex EVB . Olimex ESP32-POE-ISO for the ESP32-based Olimex POE ISO Arduino Due (Programming Port) for the Arduino Due. Do not use the Native USB Port here ! Again, go to Tools/Board and select the proper upload speed (up to 460800 for ESP32, 115200 for Arduino Due). For ESP32-based microcontrollers, again, go to Tools/Partition Scheme and select \"Minimal SPIFFS\" or for partition scheme ( do not confuse this with the similar \"Minimal\" partition scheme which is different and not working in our case). If you don't set the correct parition scheme, the firmware will not fit into the ESP32! Go to File/Open and navigate to the BSB_LAN folder and double-click on BSB_LAN.ino . The project will open. Click on the tab with the filename BSB_LAN_config.h and configure at least the following: Search for #define LANG DE : Change DE to EN for English, FR for French etc. Search for uint8_t network_type : Set this to LAN if you are using Ethernet/LAN connection. Set this to WLAN if you are using WiFi/WLAN. If you are not using DHCP, configure the following options according to your network (make sure to use a comma, not a dot for IP addresses!): byte ip_addr[4] = {192,168,178,88}; byte gateway_addr[4] = {192,168,178,1}; byte dns_addr[4] = {192,168,178,1}; byte subnet_addr[4] = {255,255,255,0}; char wifi_ssid[32] = \"Your_Wifi_network_name\"; char wifi_pass[32] = \"Your_WiFi_network_password\"; Now go to Sketch/Upload and upload the BSB-LAN software to the microcontroller. Unplug the microcontroller and turn off your heating system. Locate the BSB/LPB/PPS connectors. You may have to open your heating system for that. Do all this at your own risk! Now plug the BSB-LAN adapter onto the microcontroller and connect the + screw connector to the CL+ (BSB), DB (LPB) or A6 (PPS, different connector names are possible) connector, and the - screw connector to the CL- (BSB), MB (LPB) or M (PPS) connector. Power on the microcontroller via the USB port or via PoE (Olimex POE-ISO only). Then power on the heating system. The red LED of the BSB-LAN adapter should turn on. It should flicker occasionally. Now open your webbrowser and open the IP address of BSB-LAN. If MDNS is enabled, you can directly go to http://bsb-lan.local . You can find the IP address of BSB-LAN either in your router, or you connect the microcontroller to your PC and open the Arduino IDE and go to Tools/Serial Monitor . Restart the microcontroller, and the IP address will be displayed upon connecting to the network. Done :-) It's not working! Please make sure you check every entry in the Troubleshooting-Section first before getting in touch with us! Why do I only see so few parameters? Once you access BSB-LAN for the first time, you will see that only very few parameters are shown on the device\u2019s web interface. This is because each model of the Siemens controller built into your heating system supports a different set of parameters. Previously, I provided a list of parameters collected from all different kinds of heating systems, but it turned out that this list was ambiguous or even contained errors that we couldn\u2019t fix reliably. This list is still available in release version 2.2.x of BSB-LAN and can be copied from there if needed. However, it is not advisable to do so because the said ambiguities and errors pose too great a risk of misconfiguring the heating system. Instead, it is recommended to click on the \" Device-specific parameter list \" button in BSB-LAN's menu and send the generated list to Frederik (bsb(\u00e4t)code-it.de). From this file, a parameter list can be generated that fits exactly the controller of your heating system. Unfortunately, this process cannot be automated yet, but at least it has to be done just once. These raw data do not contain any settings or other kinds of personal data, just the parameter structure of the heating system. It\u2019s in my own interest to create and return these parameter lists without any delay, but I ask for your understanding if it takes a bit longer due to work or family matters.","title":"Schnellstart"},{"location":"de/supported_heating_systems.html","text":"Supported heating systems BSB-LAN supports heating systems that communicate using either the BSB (Boiler System Bus) , the LPB (Local Process Bus) or the PPS (Punkt-zu-Punkt-Schnittstelle) . These controllers are usually manufactured by Siemens, older controllers might still bear the company name \"Landis & Stafea\" or \"Landis & Gyr\". We have compiled a list of working models from various heating system manufacturers who have been confirmed working with BSB-LAN, although there is no 100% guarantee that the manufacturers keep the model name but change the controller to a different system. So always make sure to double-check that the right connectors are available. Here are a few examples from heating controllers and the connectors that are used to connect to BSB-LAN. Some connectors have three pins, some have two pins. If there are three pins, make sure you choose the correct two (CL+ and CL-) as the third von (G+) is to provide background lighting for the room unit. It won't harm BSB-LAN, but it might be misleading because BSB-LAN's LED will be on even though it's not connected to the right pin. By the way: If you only have one connector and it is already occupied with a room unit, it's no problem to add BSB-LAN to the same connector. Just be careful when adding the wires for BSB-LAN. Controller Image Remarks LMS14 LMS15 BSB connection: + = Left - = Center LMS14 LMS15 BSB connection: CL+/CL- LMS14 LMS15 Baxi Luna Platinum, Chappee Klista BSB connection: Terminal block M2 Pin 2: CL- Pin 3: CL+ See detailed instructions here for Baxi Luna Platinum . LMU54 LMU64 LPB connection: via additional OCI420 plugin, see details below . LMU74 LMU75 BSB connection: + = Top - = Center LPB connection: via additional OCI420 plugin RVA53 PPS connection: A6/MD RVA63 LPB connection: MB/DB PPS connection: A6/MD RVP54 PPS connection: A6/M RVS13 BSB connection: CL+/CL- RVS21 BSB connection via connector X86 + = rightmost pin - = second pin from right RVS21 with AVS55 AVS55 extension module, sitting on top of RVS21. BSB connection either via connector X86: + = rightmost pin - = second pin from right or via connector X150: + = topmost pin - = second pin from top RVS23 LPB connection: LPB/M RVS41 BSB connection: CL+/CL- LPB connection: MB/DB RVS43 LOGON B BSB connection: CL+/CL- LPB connection: MB/DB RVS46 ISR-ZR1 BSB connection: CL+/CL- LPB connection: MB/DB RVS46 BSB connection: CL+/CL- LPB connection: MB/DB RVS51 BSB connection: CL+/CL- RVS53 BSB connection: CL+/CL- RVS61 BSB connection: CL+/CL- LPB connection: MB/DB RVS63 BSB connection: CL+/CL- LPB connection: MB/DB RVS65 BSB connection: CL+/CL- LPB connection: MB/DB Configuration settings for OCI420 Getting the OCI420 to work properly can be a bit challenging if it is not already part of an existing LPB network. If you connect the OCI420 for the first time to your heater and have no other LPB heating device, you will most likely get \"error 81\" which indicates that there is a bus error. But don't worry, most likely it's just a matter of configuring a few parameters to get it going. For the LMU64, the corresponding parameter is 604 ( LPBKonfig0 ). It needs to be set as follows for using BSB-LAN as the only device connected to the OCI420: 604.0 = 0 604.1 = 1 604.2 = 1 604.3 = 1 604.4 = 1 604.5 = 0 604.6 = 0 604.7 = 0 Then you need to set the LPB address of the OCI420 in parameters 605 (needs to be set to 1) and 606 (needs to be set to 0). Afterwards, there should be no more error message and the red LED of the OCI420 should blink in regular intervals and you are ready to connect and use BSB-LAN. Attention: If the OCI420 is already connected to another LPB device, do not make any changes here and rather connect BSB-LAN to the other LPB device. It should work without any adjustments. List of working controller models There are a many more controllers that are likely to work with BSB-LAN. Look out for these Siemens controller models in your heating system: AVS37, AVS55 , AVS71, AVS74, AVS75, AVS77, AVS79, LMS14 , LMS15 , LMU54 , LMU64 , LMU74 , LMU75 , RVA33, RVA36, RVA43, RVA46, RVA47, RVA53 , RVA60, RVA61, RVA63 , RVA65, RVA66, RVC32, RVD110, RVD115, RVD120, RVD125, RVD130, RVD135, RVD139, RVD140, RVD144, RVD145, RVD230, RVD235, RVD240, RVD245, RVD250, RVD255, RVD260, RVD265, RVL469, RVL470, RVL471, RVL472, RVL479, RVL480, RVL481, RVL482, RVP340, RVP350, RVP351, RVP360, RVP361, RVP54 , RVP5xx, RVS13 , RVS21 , RVS23 , RVS26, RVS41 , RVS43 , RVS46 , RVS47, RVS51 , RVS53 , RVS61 , RVS63 , RVS65 , RVS68, RWI65, WRI80","title":"Unterst\u00fctzte Heizungssysteme"},{"location":"de/troubleshooting.html","text":"Troubleshooting BSB-LAN tries to make accessing your heating system as easy as possible, but there are always things that can go wrong. If you still have a problem after reading this document as well as the FAQ , please open up a bug report on the project's GitHub page and make sure that you provide us with all the necessary log files and further required details, especially from the Serial Monitor (or SerMo in short). Before doing so, however, make sure that you install the most recent version of BSB-LAN from the master repository (not the release version), even if yours is \"just\" a few days old. Still, a lot could have happned since then :)! Using the Serial Monitor Access the Serial Monitor by going to Tools/Serial Monitor in the Arduino IDE. Set the transmission speed to 115200 at the top right corner of the serial monitor window. Make sure you copy the messages right from the moment your microcontroller boots (indicated by the READY message) until the moment you encounter the problem. Please do not send screenshots, only plain text files. The Serial Monitor in the Arduino IDE currently has a bug that allows you to only copy those parts of the Serial Monitor messages that you can see on the screen. Although this means that copying larger portions of log messages is tedious, you still have to provide the complete log in order to get support. Increasing the size of the Serial Monitor window helps a little. Compiling fails: \"Sketch too big\" Select the Minimal SPIFFS partition scheme in the Arduino IDE under Tools/Partition Scheme . Attention: This setting is reset to default when updating the ESP32 framework! If you are using over-the-air updates, you have to flash the software once via USB after changing the partition scheme before OTA updates will work again. No access to web-interface anymore If you have changed the settings in such a way that you cannot access the web-interface anymore, there are two ways to restore the system: If you can flash the device: Configure BSB_LAN_config.h with correct, working settings. Set UseEEPROM to 0 . Flash BSB-LAN onto the microcontroller. You can now access BSB-LAN. Go to \"Settings\" and save the settings. This will store the working settings to the EEPROM. Now edit BSB_LAN_config.h again (!) and set UseEEPROM to 1 and flash BSB-LAN again to the microcontroller. Only now will BSB-LAN read and use the settings from the EEPROM, so you can make further changes in the web-interface. If you cannot flash the device: If you cannot flash the device on site, you can reset BSB-LAN to the last BSB_LAN_config.h setting by connecting two pins before and during booting the microcontroller : ESP32-Olimex: Connect pins 34 and 3V3. ESP32-NodeMCU: Connect pins 21 and 3V3. Arduino Due: Connect pins 31 and 33. If the pins were successfully connected, the built-in LED of the microcontroller will flash slowly for four seconds. Afterwards open the configuration in the web-interface, check all settings in the configuration and save them. This will store the working settings to the EEPROM. Temporary access point on an ESP32-based microcontroller On an ESP32-based microcontroller, BSB-LAN will set up its own wireless access point named BSB-LAN if it cannot connect to any network. In this casee, you can connect to this access point with the password BSB-LPB-PPS-LAN and access BSB-LAN via the IP address http://192.168.4.1 and see if you can fix the configuration this way. Keep in mind that if you have set a passkey or HTTP username and password, these are still required if these details are stored in EEPROM or BSB_LAN_config.h . I can only access very few parameters via BSB/LPB! Initially, BSB-LAN only comes with a small set of parameters that work on (almost) every heating system. You need to get a device specific parameter list . Category list suddenly so small BSB-LAN needs to detect the heating system's controller to determine the categories to display. If BSB-LAN is not connected to the controller or the detection otherwise fails, only a few universal categories are displayed. Cannot read any parameters / device family is 0 Wrong bus type (BSB instead of LPB or vice versa). If the red LED of the adapter is not on (and ideally slightly flickering), there is a problem with the wiring between the adapter and the heating system. The red LED will come one once the adapter is connected correctly, even if the BSB-LAN adapter isn't even connected to the microcontroller! No data even though the adapter's red LED is on Make sure the adapter is connected to CL+/CL- and not to the third (G+) pin: G+ will drive the LED, but it's not a data line. Make sure you have powered on the microcontroller . You may think that the heating system powers the microcontroller because the LED on the BSB-LAN adapter is on, but it doesn't. You need to power it separately. With the adapter for the Olimex microcontrollers: Make sure that the BSB-LAN adapter board sits exactly in the center of the UEXT connector. It will still fit in, if it's shifted one pin left or right, but it won't work. Make sure the RX/TX pins are set/detected correctly. The startup sequence in the Serial Monitor will show you what pins have are used or have been auto-detected. No or unreliable network connection Try powering the microcontroller via USB from a laptop. We have had many cases where power supplies were unreliable despite having sufficient ratings. Look at the Serial Monitor log to check if the microcontroller could acquire an IP address. If not, then your network settings or physical connection may be faulty. No connection to hidden WiFi network possible Yes, that is a known restriction. The only way to do that is to set the BSSID explicitly in BSB_LAN_config.h . Room temperature (or any other parameter) cannot be set Check BSB-LAN's settings and make sure that write access is enabled and set to standard or complete . Web-interface freezes when making new connection BSB-LAN is not a multi-tasking system. This means it can attend to one task at a time. So even if a URL command is aborted (by closing the browser window), BSB-LAN might not detect this and only start serving new requests once the previous one is finished. The Serial Monitor is not showing readable data Make sure the speed is set correctly to 115200 bps. Make sure the correct port is selected.","title":"Fehlersuche"},{"location":"de/using.html","text":"Using BSB-LAN Controlling the heating system via the web-interface As a first step \u2013 or if you just want to turn your heating system on or off \u2013 you can simply open the BSB-LAN web-interface and go to the Settings menu. This will display a list of categories from your heating controller. You can click on each category and will get a list of corresponding parameters. If you see a Set button, it means the parameter can be changed, and clicking on the button will send the new value to the heater. If there is no Set button, the parameter is read-only and there is no way to change the parameter. Using BSB-LAN's URL commands Most of BSB-LAN's functionality can be controlled using URL commands. These are useful or even necessary when connecting BSB-LAN to a home automation system , but also provide access to functions not directly accessible via the web-interface. URL commands are called right after BSB-LAN's hostname and an (optional) passkey. So to get a list of categories, one would have to open the URL http://bsb-lan.local/K (or http://bsb-lan.local/1234/K if the passkey 1234 is in use). Querying and setting parameters table th:first-of-type { width: 20%; } table th:nth-of-type(2) { width: 80%; } URL command Functionality /<x> Query setting of parameter <x> /<x>!<addr> Query setting of parameter <x> from controller at destination address <addr> /<x>/<y>/<z> Query settings of parameters <x> , <y> and <z> . Parameters can include ! to address different controllers. /<x>-<y> Query settings of parameters <x> to <y> /<x>!<addr>-<y> Query settings of parameters to from controller at destination address <addr> /K List all parameter categories from controller at default destination address /K!<addr> List all parameter categories from controller at destination address <addr> /K<x> Query all parameters of category <x> from controller at default destination address /K<x>!<addr> Query all parameters of category <x> from controller at destination address <addr> /S<x>=<y> Set parameter <x> from controller at default destination address to value . To set a parameter to --- (off/deactivated), just send an empty value: S<x>= /S<x>!<addy>=<y> Set parameter <x> from controller at destination address <addr> to value <y> . /I<x>=<y> Send value y as INF telegram to parameter <x> . So far only required with setting room temperature (parameters 10000 ff.). Configuration URL command Functionality /C Configuration /CO Dump BSB-LAN's configuration /P<x>,<y>,<z> Temporarily set bus type to <x> , own address to <y> and target address to <z> . /V<x> Enable ( 1 ) or disable ( 0 ) verbose output mode. Should remain enabled unless specifically instructed. Logging URL command Functionality /DG Graphical display (graph plot) of an active log file /D or /DD Dumps log file datalog.txt from storage. Contains the logged parameters and values when logging to SD card is active. /D<n> Dumps the most recent <n> calender days of the log file /D<a>,<b> Dumps data from log file between <a> and <b> . <a> and <b> have to be set in the format yyyy-mm-dd (e.g. /D2024-04-01,2024-04-30 ) /D0 Reset both log files datalog.txt and journal.txt and create new headers. Should be executed before first logging. /DK<n> Purges data older than <n> days from the log file /LN Forces logging irrespective of current interval and restarts the configured interval at this point of time /L=<x>,<y>,<z> Set logging interval to <x> seconds and (optionally) reset logging parameters to <y> , <z> etc. until reboot /L=0,0 Deactivate logging to storage until reboot /LB=<x> Log only broadcast telegrams ( 1 ) or all telegrams ( 0 ). Setting active until reboot. /LU=<x> Log only unknown bus telegrams ( 1 ) or all telegrams ( 0 ). Setting active until reboot. /A=0 Disable 24h average calculation until reboot /A=<x>,<y>,<z> Change 24h average value calculation to parameters <x> , <y> and <z> until reboot /B0 Reset stats for accumulated burner-runtime and -cycles /DD0 Remove log file datalog.txt only /DJ Dumps log file journal.txt from storage /DJ0 Remove log file journal.txt only /LD Disable logging of telegrams to journal.txt until reboot /LE Enable logging of telegrams to journal.txt Parameter information URL command Functionality /E<x> Displays parameter options of parameter <x> . Only available for option-type parameters such as data types VT_ENUM , VT_CUSTOM_ENUM , VT_BITS and VT_CUSTOM_BITS . /R<x> Query default setting of parameter <x> GPIO control URL command Functionality /G<x> Displays the actual state of GPIO pin <x> /G<x>=<y> Set GPIO pin <x> to HIGH ( <y> = 1 ) or LOW ( <y> = 0 ) JSON interface URL command Functionality /JQ=<x>,<y>,<z> Query parameters <x> , <y> and <z> and return a JSON structure /JQ Query parameters based on a received JSON structure via HTTP POST /JK=<x> Query all parameters of category <x> /JS Set parameters based on a received JSON structure via HTTP /JR<x> Query default value of parameter <x> and return a JSON structure /JK=ALL Dump ranges for all available categories as JSON structure /JC=<x>,<y>,<z> Dump possible values for parameters <x> , <y> and <z> for option-type parameters. Same JSON structure as /JK=<x> . /JB Backup of all writeable parameters in a JSON structure that can be used to write back using /JS . /JB!<addr> Backup of all writeable parameters from controller at destination address <addr> in a JSON structure that can be used to write back using /JS . /JL Creates a JSON structure of BSB-LAN's configuration settings` /JW Writes configuration settings based on a JSON structure created by /JL /JI Dump runtime information of BSB-LAN as JSON structure` /JV Return the version of BSB-LAN's JSON-API as a JSON structure Misceallaneous URL command Functionality /M<x>!<y> Send ( <x>=1 ) or revoke ( <x>=0 ) MQTT auto-discovery messages for all parameters from controller at destination address <y> . /N Reset and reboot microcontroller (takes approx. 15 seconds) /NE Erase EEPROM and reboot the microcontroller. All configuration settings will subsequently be read from configuration file until set and saved again in the web-interface to be written to EEPROM. /QD Dump parameter structure from heating system /W With a preceding /W the URL commands C , S and Q return data without HTML header and footer (e.g.: /WC or /WS<x>=<y!z> ). Using the graphical plot functionality If logged data on storage (either SD card or internal flash) is available, the Display log file becomes clickable. By default, it will display the logged data in the browser. To access the logged data itself (in the file datalog.txt ), use the /D URL command mentioned above. By default, \"Display log file\" displays the log data of the most recent n calendar days ( n=DEFAULT_DAYS_TO_PLOT , configurable in BSB_LAN_config.h ). Subsequently, controls on the web page can be used to select a different range, depending on the data contained in the log file. Mouseover, click and mouse wheel actions within the graphical display provide various control options: Better legibility for value numbers with plot lines close to each other (mouseover on plot) Users can interactively highlight plot lines for improved overview (mouseover on legend entries) Users can interactively disable plot lines for improved overview and vertical scaling (click on legend entries) Zoom (mousewheel/pinch on plot) and pan capability (drag zoomed-in plot) For further processing, you can use this Python script that takes BSB-LAN's log output to create pivoted CSV files that can be used for more insightful diagrams.","title":"BSB-LAN Funktionen"},{"location":"fr/index.html","text":"Qu'est-ce que BSB-LAN ? BSB-LAN est une solution logicielle /mat\u00e9rielle pour acc\u00e9der au \u00ab Boiler-System-Bus \u00bb (BSB) , au \u00ab Local-Process-Bus (LPB) \u00bb et \u00e0 la \u00ab Punkt-zu-Punkt-Schnittstelle \u00bb (PPS) . Le mat\u00e9riel BSB-LAN est disponible pour divers microcontr\u00f4leurs bas\u00e9s sur ESP32 (ESP32 NodeMCU, Olimex EVB, Olime\u00e9 POE-ISO) ainsi que pour un Arduino Due avec un shield Ethernet. Il permet d'acc\u00e9der aux syst\u00e8mes de chauffage Atlantic, Br\u00f6tje, Elco et de nombreux autres fabricants via Ethernet/WiFi, \u00e0 condition qu'ils utilisent l'une des cartes \u00e9lectroniques Siemens r\u00e9pertori\u00e9s ci-dessous. BSB-LAN permet de surveiller et de contr\u00f4ler le syst\u00e8me de chauffage et d'enregistrer toutes les valeurs re\u00e7ues. Ce projet prend en charge presque tous les param\u00e8tres disponibles sur les syst\u00e8mes de chauffage et peut \u00eatre une alternative plus compl\u00e8te et plus \u00e9conomique \u00e0 l'OZW 672, \u00e0 l'OCI 700 ou au Remocon Net B. L' int\u00e9gration facultative dans les syst\u00e8mes domotiques existants tels que Home Assistant , ioBroker , openHAB , Node-RED , Homebridge , Jeedom , SmartHomeNG , Volksz\u00e4hler , FHEM , HomeMatic , Loxone, IP-Symcon ou EDOMI est possible via MQTT , JSON ou HTTP access . L'adaptateur peut \u00e9galement \u00eatre utilis\u00e9 comme carte d'acquisition sans connexion \u00e0 Internet gr\u00e2ce \u00e0 une carte microSD. Les capteurs de temp\u00e9rature et d'humidit\u00e9 peuvent \u00e9galement \u00eatre connect\u00e9s et leurs donn\u00e9es peuvent \u00e9galement \u00eatre enregistr\u00e9es et analys\u00e9es. Vous avez aussi la possibilit\u00e9 d'int\u00e9grer votre propre code dans le logiciel BSB-LAN, pour rajouter autant de fonctionnalit\u00e9s que vous le souhaitez. O\u00f9 et comment commencer ? Vous \u00eates un utilisateur exp\u00e9riment\u00e9 ? Consultez les instructions de d\u00e9marrage rapide . Sinon (ou si vous rencontrez des probl\u00e8mes), veuillez continuer \u00e0 lire ! Mon syst\u00e8me de chauffage est-il pris en charge par BSB-LAN ? Veuillez consulter la liste des syst\u00e8mes de chauffage pris en charge . Si vous savez d\u00e9j\u00e0 que votre syst\u00e8me est pris en charge, en savoir plus sur l'adaptateur BSB-LAN et o\u00f9 l'obtenir. Si vous avez d\u00e9j\u00e0 l'adaptateur, vous voudrez peut-\u00eatre savoir comment l'installer . Si vous avez install\u00e9 l'adaptateur, vous devrez configurer BSB-LAN . Une fois que vous avez tout configur\u00e9, d\u00e9couvrez comment utiliser BSB-LAN ou en savoir plus sur les fa\u00e7ons de l'int\u00e9grer dans les syst\u00e8mes de domotique . Si vous souhaitez mettre \u00e0 jour BSB-LAN et que vous souhaitez savoir ce qui a chang\u00e9 depuis votre derni\u00e8re installation, veuillez consulter le ChangeLog . Nos pages wiki sont en constante \u00e9volution et fournissent des connaissances de base ainsi que des sujets plus sp\u00e9cialis\u00e9s sur BSB-LAN et les syst\u00e8mes de chauffage en g\u00e9n\u00e9ral. Si vous rencontrez des probl\u00e8mes, consultez la page de d\u00e9pannage . Et avant de poser des questions \u00e0 qui que ce soit, consultez d'abord nos Foire aux questions (FAQ) !","title":"Aper\u00e7u"},{"location":"fr/index.html#quest-ce-que-bsb-lan","text":"BSB-LAN est une solution logicielle /mat\u00e9rielle pour acc\u00e9der au \u00ab Boiler-System-Bus \u00bb (BSB) , au \u00ab Local-Process-Bus (LPB) \u00bb et \u00e0 la \u00ab Punkt-zu-Punkt-Schnittstelle \u00bb (PPS) . Le mat\u00e9riel BSB-LAN est disponible pour divers microcontr\u00f4leurs bas\u00e9s sur ESP32 (ESP32 NodeMCU, Olimex EVB, Olime\u00e9 POE-ISO) ainsi que pour un Arduino Due avec un shield Ethernet. Il permet d'acc\u00e9der aux syst\u00e8mes de chauffage Atlantic, Br\u00f6tje, Elco et de nombreux autres fabricants via Ethernet/WiFi, \u00e0 condition qu'ils utilisent l'une des cartes \u00e9lectroniques Siemens r\u00e9pertori\u00e9s ci-dessous. BSB-LAN permet de surveiller et de contr\u00f4ler le syst\u00e8me de chauffage et d'enregistrer toutes les valeurs re\u00e7ues. Ce projet prend en charge presque tous les param\u00e8tres disponibles sur les syst\u00e8mes de chauffage et peut \u00eatre une alternative plus compl\u00e8te et plus \u00e9conomique \u00e0 l'OZW 672, \u00e0 l'OCI 700 ou au Remocon Net B. L' int\u00e9gration facultative dans les syst\u00e8mes domotiques existants tels que Home Assistant , ioBroker , openHAB , Node-RED , Homebridge , Jeedom , SmartHomeNG , Volksz\u00e4hler , FHEM , HomeMatic , Loxone, IP-Symcon ou EDOMI est possible via MQTT , JSON ou HTTP access . L'adaptateur peut \u00e9galement \u00eatre utilis\u00e9 comme carte d'acquisition sans connexion \u00e0 Internet gr\u00e2ce \u00e0 une carte microSD. Les capteurs de temp\u00e9rature et d'humidit\u00e9 peuvent \u00e9galement \u00eatre connect\u00e9s et leurs donn\u00e9es peuvent \u00e9galement \u00eatre enregistr\u00e9es et analys\u00e9es. Vous avez aussi la possibilit\u00e9 d'int\u00e9grer votre propre code dans le logiciel BSB-LAN, pour rajouter autant de fonctionnalit\u00e9s que vous le souhaitez.","title":"Qu'est-ce que BSB-LAN ?"},{"location":"fr/index.html#ou-et-comment-commencer","text":"Vous \u00eates un utilisateur exp\u00e9riment\u00e9 ? Consultez les instructions de d\u00e9marrage rapide . Sinon (ou si vous rencontrez des probl\u00e8mes), veuillez continuer \u00e0 lire ! Mon syst\u00e8me de chauffage est-il pris en charge par BSB-LAN ? Veuillez consulter la liste des syst\u00e8mes de chauffage pris en charge . Si vous savez d\u00e9j\u00e0 que votre syst\u00e8me est pris en charge, en savoir plus sur l'adaptateur BSB-LAN et o\u00f9 l'obtenir. Si vous avez d\u00e9j\u00e0 l'adaptateur, vous voudrez peut-\u00eatre savoir comment l'installer . Si vous avez install\u00e9 l'adaptateur, vous devrez configurer BSB-LAN . Une fois que vous avez tout configur\u00e9, d\u00e9couvrez comment utiliser BSB-LAN ou en savoir plus sur les fa\u00e7ons de l'int\u00e9grer dans les syst\u00e8mes de domotique . Si vous souhaitez mettre \u00e0 jour BSB-LAN et que vous souhaitez savoir ce qui a chang\u00e9 depuis votre derni\u00e8re installation, veuillez consulter le ChangeLog . Nos pages wiki sont en constante \u00e9volution et fournissent des connaissances de base ainsi que des sujets plus sp\u00e9cialis\u00e9s sur BSB-LAN et les syst\u00e8mes de chauffage en g\u00e9n\u00e9ral. Si vous rencontrez des probl\u00e8mes, consultez la page de d\u00e9pannage . Et avant de poser des questions \u00e0 qui que ce soit, consultez d'abord nos Foire aux questions (FAQ) !","title":"O\u00f9 et comment commencer ?"},{"location":"fr/CHANGELOG.html","text":"ChangeLog Current Master ATTENTION : CHANGEMENT CASSANT ! Structure de sujet rationalis\u00e9e pour MQTT. La nouvelle structure ajoute /status pour interroger un param\u00e8tre, /set pour d\u00e9finir un param\u00e8tre, /inf pour envoyer des donn\u00e9es sous la forme d'un t\u00e9l\u00e9gramme INF et /poll pour forcer BSB-LAN \u00e0 envoyer une mise \u00e0 jour de la valeur du param\u00e8tre au courtier. Si vous utilisez la d\u00e9couverte automatique MQTT, id\u00e9alement, l'appel de /M1 devrait mettre \u00e0 jour ces changements. Cependant, si vous utilisez vos propres configurations, vous devrez apporter des ajustements ici. ATTENTION : CHANGEMENT CASSANT ! Lorsque vous utilisez des param\u00e8tres JSON pour MQTT, auparavant, tous les messages \u00e9taient \u00e9crits dans BSB-LAN/json et donc fondamentalement imm\u00e9diatement remplac\u00e9s lorsque plusieurs param\u00e8tres \u00e9taient enregistr\u00e9s. Ce param\u00e8tre d\u00e9termine d\u00e9sormais uniquement le format (et non le format et le sujet) des donn\u00e9es qui sont \u00e9crites dans /status de chaque param\u00e8tre. Pour la d\u00e9couverte automatique, le texte brut reste le seul choix valide. ATTENTION : CHANGEMENT CASSANT Le message d'accus\u00e9 de r\u00e9ception envoy\u00e9 par BSB-LAN au sujet MQTT a \u00e9t\u00e9 supprim\u00e9. Au lieu de cela, la QoS pour la publication des messages a \u00e9t\u00e9 d\u00e9finie au niveau 1. ATTENTION : CHANGEMENT CASSANT : Les valeurs de configuration du journal ont chang\u00e9. Cependant, seuls les utilisateurs qui se sont connect\u00e9s \u00e0 UDP sont concern\u00e9s et devront ajuster leurs param\u00e8tres. Ajout d'un param\u00e8tre pour publier uniquement les param\u00e8tres de journalisation sur MQTT. Les mises \u00e0 jour MQTT forc\u00e9es via le sujet /poll sont toujours possibles. Ajout de state_class pour les capteurs non cumulatifs dans la d\u00e9couverte automatique MQTT Mise \u00e0 jour de l'\u00e9mulation de l'unit\u00e9 de pi\u00e8ce dans custom_functions pour fonctionner avec la version 4.x. Correction d'un bogue pour VT_ENERGY, ajout de nouveaux types de donn\u00e9es VT_ENERGY10 et VT_ENERGY10_N Version 4.1 06.11.2024 ATTENTION : CHANGEMENT CASSANT ! Structure de sujet modifi\u00e9e pour MQTT. Cela signifie que toutes les entit\u00e9s MQTT existantes dans votre syst\u00e8me de domotique devront \u00eatre ajust\u00e9es ou recr\u00e9\u00e9es ! La nouvelle structure est d\u00e9sormais BSB-LAN/<device id>/<category id>/<parameter number> . ATTENTION : CHANGEMENT CASSANT ! L'identifiant unique pour la d\u00e9couverte automatique MQTT a \u00e9t\u00e9 modifi\u00e9. Cela signifie que toutes les entit\u00e9s MQTT qui ont \u00e9t\u00e9 cr\u00e9\u00e9es via la d\u00e9couverte automatique devront \u00eatre recr\u00e9\u00e9es ! ATTENTION : Les options de configuration fixed_device_family et fixed_device_variant ont \u00e9t\u00e9 supprim\u00e9es car elles ne fonctionnent plus pour les listes de param\u00e8tres sp\u00e9cifiques aux appareils. Si votre syst\u00e8me de chauffage est \u00e9teint lorsque vous allumez le microcontr\u00f4leur, BSB-LAN essaiera d'obtenir les d\u00e9tails toutes les 60 secondes. ATTENTION : Le changement des options de configuration entra\u00eene une nouvelle disposition de l'EEPROM, l'EEPROM sera donc r\u00e9initialis\u00e9e en fonction de la configuration de BSB_LAN_config.h . La d\u00e9couverte automatique MQTT fonctionne d\u00e9sormais pour tous les appareils, et pas seulement pour l'ID d'appareil 0. Utilisez /M1!<x> ou /M0!<x> pour cr\u00e9er/supprimer des entit\u00e9s pour l'ID d'appareil <x> . Le drapeau des messages de d\u00e9couverte automatique MQTT a \u00e9t\u00e9 modifi\u00e9 en \"retain\" afin que les param\u00e8tres restent disponibles apr\u00e8s le red\u00e9marrage de Home Assistant. Version 4.0 01.11.2024 ATTENTION : CHANGEMENT CASSANT ! Le param\u00e8tre de temp\u00e9rature de la pi\u00e8ce 10000, 10001 et 10002 doit d\u00e9sormais avoir le drapeau suppl\u00e9mentaire FL_SPECIAL_INF , sinon la temp\u00e9rature de consigne ne fonctionnera pas ! ATTENTION : CHANGEMENT CASSANT ! Le param\u00e8tre de simulation de la temp\u00e9rature ext\u00e9rieure 10017 doit avoir le drapeau FL_SPECIAL_INF supprim\u00e9, sinon la temp\u00e9rature de consigne ne fonctionnera pas ! ATTENTION : CHANGEMENT CASSANT ! Le param\u00e8tre de temp\u00e9rature de la pi\u00e8ce 10000, 10001 et 10002 pour les appareils de chauffage Weishaupt (familles d'appareils 49, 50, 51 et 59) doit d\u00e9sormais avoir le drapeau FL_SPECIAL_INF supprim\u00e9, sinon la temp\u00e9rature de consigne ne fonctionnera pas ! ATTENTION : CHANGEMENT CASSANT ! Les commandes d'URL /U (afficher les variables d\u00e9finies par l'utilisateur) et /X (afficher les valeurs MAX !) ont \u00e9t\u00e9 supprim\u00e9es car ces valeurs peuvent d\u00e9sormais \u00eatre accessibles via les param\u00e8tres 20000++ ATTENTION : CHANGEMENT CASSANT ! Les param\u00e8tres du programme horaire PPS (15050-15091) ont \u00e9t\u00e9 rationalis\u00e9s avec les param\u00e8tres du programme horaire BSB/LPB, ce qui a permis d'obtenir un seul param\u00e8tre par jour (au lieu de six), couvrant trois points de commutation (d\u00e9but et fin) par param\u00e8tre. ATTENTION : Pour ESP32, BSB-LAN n\u00e9cessite la version 3.0.x du framework ESP32 - veuillez rechercher les erreurs ou les comportements \u00e9tranges (les capteurs 1-Wire n'ont pas encore \u00e9t\u00e9 test\u00e9s) ainsi que tout autre type de comportement \u00e9trange/plantages. ATTENTION : Nouvelles options de configuration dans BSB_LAN_config.h - veuillez mettre \u00e0 jour vos fichiers de configuration existants ! La configuration bas\u00e9e sur le Web sera \u00e9cras\u00e9e par les param\u00e8tres du fichier de configuration en raison d'un changement dans la disposition de l'EEPROM ! ATTENTION : Nouveau manuel d'utilisation : https://docs.bsb-lan.de/ Les boutons et RGT_EMULATION ont \u00e9t\u00e9 d\u00e9plac\u00e9s du code principal vers la biblioth\u00e8que custom_functions . Pour continuer \u00e0 les utiliser, utilisez les fichiers BSB_LAN_custom_*.h et activez la d\u00e9finition CUSTOM_COMMANDS . La plupart des d\u00e9finitions de configuration ont \u00e9t\u00e9 supprim\u00e9es de BSB_LAN_config.h . Presque toutes les fonctionnalit\u00e9s peuvent d\u00e9sormais \u00eatre configur\u00e9es sans reflash. BSB-LAN prend d\u00e9sormais en charge la d\u00e9couverte automatique MQTT (prise en charge, par exemple, par Home Assistant). Pour cr\u00e9er des appareils, appelez la commande d'URL /M1 , pour les supprimer, appelez /M0 ATTENTION : La d\u00e9couverte automatique MQTT cr\u00e9e un commutateur g\u00e9n\u00e9ral pour l'appareil BSB-LAN dans Home Assistant. Ce commutateur \u00e9crira imm\u00e9diatement toutes les valeurs de param\u00e8tre stock\u00e9es dans Home Assistant. N'UTILISEZ PAS CE COMMUTATEUR \u00e0 moins de SAVOIR EXACTEMENT ce qu'il fait ! Le bouton \"Set\" dans l'interface Web fonctionne d\u00e9sormais \u00e9galement avec les appareils de destination non par d\u00e9faut (c'est-\u00e0-dire 1 au lieu de 0) Les param\u00e8tres interrog\u00e9s/d\u00e9finis sont d\u00e9sormais transf\u00e9r\u00e9s au courtier MQTT (si MQTT est activ\u00e9) Les commandes /M1 et /M0 pr\u00e9c\u00e9demment utilis\u00e9es pour activer/d\u00e9sactiver la fonction de surveillance ont \u00e9t\u00e9 supprim\u00e9es car elles peuvent d\u00e9sormais \u00eatre accessibles via la configuration dans l'interface Web. La liste des cat\u00e9gories avec /K fonctionne d\u00e9sormais \u00e9galement avec l'appareil de destination (par exemple, /K!1 pour l'appareil de destination 1, la valeur par d\u00e9faut est 0). Correction d'un bogue important pour la mise \u00e0 jour OTA : les versions pr\u00e9c\u00e9dentes avaient une limite stricte sur la taille du fichier que les syst\u00e8mes de chauffage plus r\u00e9cents avec plusieurs centaines de param\u00e8tres ont atteinte, de sorte qu'aucune mise \u00e0 jour OTA n'\u00e9tait possible. Ceci est maintenant corrig\u00e9, mais les utilisateurs concern\u00e9s devront effectuer une mise \u00e0 jour USB une fois de plus. Les capteurs 1-Wire et DHT sont d\u00e9sormais d\u00e9sactiv\u00e9s avec la valeur -1 au lieu de 0. Dans l'interface Web, un champ vide est \u00e9galement accept\u00e9. MQTTTopicPrefix n'est plus facultatif, le sujet \"fromBroker\" a \u00e9t\u00e9 supprim\u00e9 (anciennement utilis\u00e9 pour envoyer des commandes \u00e0 BSB-LAN via MQTT) L'utilisation de la fonctionnalit\u00e9 des moyennes sur 24 heures ne n\u00e9cessite plus l'utilisation d'une carte SD. La carte SD ne sera utilis\u00e9e que pour stocker les moyennes si la journalisation des intervalles sur la carte SD est active. Nouvelle variante d'unit\u00e9 de pi\u00e8ce PPS pour RVD130, qui augmente le nibble sup\u00e9rieur du byte magique \u00e0 chaque transaction. L'interrogation de l'heure actuelle aupr\u00e8s d'un serveur NTP est active par d\u00e9faut. La d\u00e9sactiver en d\u00e9finissant ntp_server sur une cha\u00eene vide. Nouveau drapeau de param\u00e8tre FL_NOSWAP_QUR pour les param\u00e8tres qui n'\u00e9changent pas les deux premiers octets de l'ID de commande dans le t\u00e9l\u00e9gramme QUR Nouveau drapeau de param\u00e8tre FL_FORCE_INF pour les param\u00e8tres dont nous sommes certains qu'ils ne fonctionnent qu'avec INF (tels que la temp\u00e9rature de la pi\u00e8ce). Forcera un t\u00e9l\u00e9gramme INF m\u00eame si /S est utilis\u00e9 pour d\u00e9finir le param\u00e8tre (permet de d\u00e9finir la temp\u00e9rature de la pi\u00e8ce via l'interface Web) Filigrane du logo BSB-LAN dans l'affichage du graphique du journal (DE-cr) Les ENUM binaires (oui/non, on/off, etc.) renvoient d\u00e9sormais soit 0 soit 1 lorsqu'ils sont interrog\u00e9s, et non - comme c'est le cas avec certains syst\u00e8mes de chauffage - 0 ou 255. La d\u00e9finition de toute valeur de 1 \u00e0 255 est toujours possible. Correction d'un bogue critique dans PPS qui emp\u00eachait son ex\u00e9cution correcte en mode unit\u00e9 active/pi\u00e8ce. Correction d'un bogue (ou, selon le point de vue, r\u00e9duction de la s\u00e9curit\u00e9) qui emp\u00eachait l'\u00e9mission de commandes via la console s\u00e9rie/Telnet lorsque l'authentification HTTP \u00e9tait active Diverses corrections de bugs, notamment la journalisation des t\u00e9l\u00e9grammes de bus sur le p\u00e9riph\u00e9rique de stockage. Nouvelle version de la biblioth\u00e8que OneWireNg Cette version a \u00e9t\u00e9 soutenue par les sponsors suivants : Erich Scheilko Version 3.3 12.03.2024 ATTENTION : Nouvelles options de configuration dans BSB_LAN_config.h - veuillez mettre \u00e0 jour vos fichiers de configuration existants ! ESP32 : prise en charge de la r\u00e9ception de la date et de l'heure via NTP au lieu de les obtenir \u00e0 partir du chauffage. Le param\u00e8tre du courtier MQTT accepte d\u00e9sormais les noms de domaine ainsi que les adresses IP. Un port facultatif peut \u00eatre ajout\u00e9 apr\u00e8s un deux-points, par exemple broker.my-domain.com:1884. Sinon, la valeur par d\u00e9faut est 1883. ESP32 NodeMCU : prise en charge d'un adaptateur de carte SD suppl\u00e9mentaire facultatif. Les broches SPI peuvent \u00eatre configur\u00e9es dans BSB_LAN_config.h , par d\u00e9faut sur les broches SPI standard 5, 18, 19 et 23. ESP32 : Le passage d'un p\u00e9riph\u00e9rique de stockage de journal (carte SD/flash interne) \u00e0 un autre peut d\u00e9sormais \u00eatre effectu\u00e9 dans l'interface Web. ESP32 : Cr\u00e9er un point d'acc\u00e8s WiFi temporaire en cas de d\u00e9faillance de la connexion Ethernet ESP32 NodeMCU : La broche de r\u00e9initialisation de l'EEPROM est pass\u00e9e de 18 \u00e0 21 pour \u00e9viter les collisions avec les adaptateurs de carte SD SPI. Cette version a \u00e9t\u00e9 soutenue par les sponsors GitHub suivants : jsimon3 Version 3.2 15.11.2023 ATTENTION : Dans BSB_LAN_config.h , la nouvelle disposition de log_parameters , avg_parameters et ipwe_parameters est d\u00e9sormais \u00e9crite entre accolades et de taille diff\u00e9rente (40 au lieu de 80) et de type ( parameter au lieu de float ). Veuillez mettre \u00e0 jour votre BSB_LAN_config.h en cons\u00e9quence pour \u00e9viter les erreurs ! Ajout de v\u00e9rifications de version de fichier de configuration pour emp\u00eacher l'utilisation de fichiers de configuration obsol\u00e8tes avec de nouvelles versions logicielles. La variable esp32_save_energy est d\u00e9sormais d\u00e9finie par d\u00e9faut sur false car elle ne semble avoir de sens que lorsque l'on utilise une connexion LAN ou si l'on utilise le WiFi et que l'on peut vivre avec l'impact sur les performances. Ajout du dossier custom_functions o\u00f9 seront collect\u00e9s des exemples de code pour des fonctions utiles qui sont n\u00e9anmoins trop sp\u00e9cifiques pour \u00eatre ajout\u00e9es au code principal de BSB-LAN. Ajout d'un exemple de fonction personnalis\u00e9e pour la cartographie des capteurs DS18B20 sur des param\u00e8tres de nombres \u00e0 virgule flottante personnalis\u00e9s Cette version a \u00e9t\u00e9 soutenue par les sponsors GitHub suivants : BraweProg, fdobrovolny, Harald Version 3.1 04.06.2023 ATTENTION : Pour les appareils ESP32 utilisant la flash interne pour le stockage des journaux : le syst\u00e8me de fichiers est pass\u00e9 de SPIFFS \u00e0 LittleFS. T\u00e9l\u00e9chargez les donn\u00e9es de journal importantes avant de mettre \u00e0 jour ! ATTENTION : Dans BSB_LAN_config.h , la structure de log_parameters , avg_parameters et ipwe_parameters a chang\u00e9 et inclut d\u00e9sormais l'appareil de destination sur le bus ! ATTENTION : Le nouveau sch\u00e9ma d'EEPROM peut entra\u00eener la perte des param\u00e8tres de configuration Web lors de la mise \u00e0 jour. Notez vos param\u00e8tres avant de mettre \u00e0 jour ! ATTENTION : Nouvelle variable esp32_save_energy dans BSB_LAN_config.h - mettez \u00e0 jour avant de compiler la nouvelle version. ATTENTION : Nouvelle variable bssid dans BSB_LAN_config.h - d\u00e9finit une adresse BSSID fixe \u00e0 laquelle se connecter lors de l'utilisation du WiFi sur ESP32. Les param\u00e8tres peuvent d\u00e9sormais \u00eatre interrog\u00e9s \u00e0 partir d'autres appareils sur le bus \u00e0 l'aide de la notation ! \u00e9galement lors de la journalisation (y compris MQTT) ou lors de l'utilisation de param\u00e8tres de moyenne ou de IPWE Activer/d\u00e9sactiver l'\u00e9conomie d'\u00e9nergie sur ESP32. \u00c9conomise 20 % d'\u00e9nergie, mais peut avoir un impact sur la port\u00e9e WiFi et la vitesse de t\u00e9l\u00e9chargement des fichiers de journal lorsque vous utilisez le WiFi (LAN non affect\u00e9) Am\u00e9lioration des performances et de l'utilisation de la m\u00e9moire flash sur les appareils ESP32 utilisant la flash interne pour la journalisation gr\u00e2ce au passage de SPIFFS \u00e0 LittleFS Pour am\u00e9liorer la gestion des grands journaux de donn\u00e9es : s\u00e9lection de la plage de dates dans /DG , nouvelles commandes d'URL /Da,b , /DA , /DB , /Dn , /DI et /DKn Cette version a \u00e9t\u00e9 soutenue par les sponsors GitHub suivants : lapixo, nrobadey Version 3.0 16.03.2023 ATTENTION : BSB_LAN_custom_defs.h .default doit \u00eatre renomm\u00e9 en BSB_LAN_custom_defs.h et ne contient qu'un ensemble tr\u00e8s limit\u00e9 de param\u00e8tres par d\u00e9faut. Consultez le manuel pour obtenir des listes de param\u00e8tres sp\u00e9cifiques aux appareils. Ajouter la nouvelle commande d'URL /LN pour forcer la journalisation ind\u00e9pendamment de l'intervalle actuel. Am\u00e9lioration des v\u00e9rifications de la biblioth\u00e8que : les utilisateurs d'ESP32 n'ont plus besoin de supprimer les dossiers ArduinoMDNS et WiFiSpi. Nouvelle version de SdFat 2 pour Arduino Due Nouveau type de donn\u00e9es VT_BINARY_ENUM Cette version a \u00e9t\u00e9 soutenue par les sponsors GitHub suivants : Alex, DE-cr Version 2.2 01.11.2022 ATTENTION : Plusieurs variables dans BSB_LAN_config.h .default ont chang\u00e9 de type de variable, il est probablement pr\u00e9f\u00e9rable de recr\u00e9er votre BSB_LAN_config.h \u00e0 partir de z\u00e9ro. Les num\u00e9ros de param\u00e8tre sont d\u00e9sormais \u00e0 virgule flottante (c'est-\u00e0-dire XXXX.Y) car certains param\u00e8tres contiennent deux types d'informations diff\u00e9rents. Ils sont d\u00e9sormais affich\u00e9s par incr\u00e9ments d\u00e9cimaux de 0,1. Vous pouvez toujours interroger le param\u00e8tre \"principal\" via XXXX (sans .Y) De nombreux correctifs de bugs et de nouveaux types de donn\u00e9es Les listes de param\u00e8tres sp\u00e9cifiques aux appareils sont prises en charge Version 2.1 30.07.2022 De nombreux nouveaux param\u00e8tres pour LMU64 ATTENTION : Nouvelles cat\u00e9gories pour les contr\u00f4leurs LMU64 et RVD/RVP en raison de leurs syst\u00e8mes de num\u00e9rotation diff\u00e9rents. Ils seront remplis au fil du temps. Les cat\u00e9gories PPS et capteurs ont \u00e9t\u00e9 d\u00e9plac\u00e9es de deux positions. ESP32 : OTA utilise d\u00e9sormais les informations d'identification d'authentification HTTP syst\u00e8me-wide Am\u00e9lioration de l'affichage int\u00e9gr\u00e9 des graphiques /DG , nouvelle d\u00e9finition de configuration #define USE_ADVANCED_PLOT_LOG_FILE - gr\u00e2ce \u00e0 Christian Ramharter Ajout d'une journalisation facultative via la diffusion Si BSB-LAN ne parvient pas \u00e0 se connecter au Wi-Fi sur ESP32, il configurera son propre point d'acc\u00e8s \u00ab BSB-LAN \u00bb avec le mot de passe \u00ab BSB-LPB-PPS-LAN \u00bb pendant 30 minutes. Apr\u00e8s cela, il red\u00e9marrera et tentera de se reconnecter. Nouvelles fonctions MQTT, y compris la possibilit\u00e9 de d\u00e9finir n'importe quel param\u00e8tre par un message MQTT et d'interroger activement n'importe quel param\u00e8tre une fois en envoyant un message MQTT. Prise en charge ajout\u00e9e pour les capteurs BME280. D\u00e9finition d'une adresse de destination temporaire pour l'interrogation des param\u00e8tres en ajoutant \u00ab !x \u00bb (o\u00f9 \u00ab x \u00bb est l'ID de destination), par exemple \u00ab /6224!10 \u00bb pour interroger l'identification de l'unit\u00e9 d'affichage. Les commandes URL \u00ab /A \u00bb, \u00ab /B \u00bb, \u00ab /T \u00bb et \u00ab /JA \u00bb ont \u00e9t\u00e9 supprim\u00e9es car tous les capteurs peuvent d\u00e9sormais \u00eatre accessibles via les num\u00e9ros de param\u00e8tre 20 000 et plus, ainsi que (actuellement) sous la nouvelle cat\u00e9gorie K49. De nouvelles cat\u00e9gories ont \u00e9t\u00e9 ajout\u00e9es, les cat\u00e9gories suivantes ont \u00e9t\u00e9 d\u00e9cal\u00e9es vers le haut. L'authentification HTTP utilise d\u00e9sormais un nom d'utilisateur et un mot de passe en texte clair dans la configuration. Les utilisateurs de PPS peuvent d\u00e9sormais envoyer l'heure et le jour de la semaine au chauffage. De nombreux nouveaux param\u00e8tres ont \u00e9t\u00e9 ajout\u00e9s. La commande URL \u00ab /JR \u00bb permet d'interroger la valeur standard (r\u00e9initialis\u00e9e) d'un param\u00e8tre au format JSON. La commande URL \u00ab /JB \u00bb permet de sauvegarder les param\u00e8tres dans un fichier JSON. La nouvelle biblioth\u00e8que pour DHT22 devrait fournir des r\u00e9sultats plus fiables. Types de donn\u00e9es et de valeurs consolid\u00e9s: nouveaux types de donn\u00e9es \u00ab VT_YEAR \u00bb, \u00ab VT_DAYMONTH \u00bb et \u00ab VT_TIME \u00bb en tant que sous-ensembles de \u00ab VT_DATETIME \u00bb pour les param\u00e8tres 1-3, en rempla\u00e7ant \u00ab VT_SUMMERPERIOD \u00bb et en ajustant \u00ab VT_VACATIONPROG \u00bb. Nouveaux types de valeurs \u00ab DT_THMS \u00bb pour l'heure compos\u00e9e de heures:minutes:secondes. MQTT: utilisez \u00ab MQTTDeviceID \u00bb comme ID client pour le courtier, qui par d\u00e9faut est toujours \u00ab BSB-LAN \u00bb. ATTENTION: V\u00e9rifiez votre configuration si votre courtier d\u00e9pend de l'ID client de quelque mani\u00e8re que ce soit pour l'autorisation, etc. Version 1.1 10.11.2020 ATTENTION: le param\u00e8tre Push ECS (\u00ab Trinkwasser Push \u00bb) a d\u00fb \u00eatre d\u00e9plac\u00e9 de 1601 \u00e0 1603 car 1601 a une signification \u00ab officielle \u00bb diff\u00e9rente sur certains appareils de chauffage. Veuillez v\u00e9rifier et modifier votre configuration si n\u00e9cessaire. ATTENTION: de nouvelles cat\u00e9gories ont \u00e9t\u00e9 ajout\u00e9es, la plupart des num\u00e9ros de cat\u00e9gorie (en utilisant \u00ab /K \u00bb) seront d\u00e9cal\u00e9s de quelques num\u00e9ros. La commande URL \u00ab /JA \u00bb affiche les valeurs moyennes. De nombreux nouveaux param\u00e8tres d\u00e9cod\u00e9s. Nouveaux param\u00e8tres pour les familles d'appareils 25, 44, 51, 59, 68, 85, 88, 90, 96, 97, 108, 134, 162, 163, 170, 195, 209, 211. Am\u00e9lioration de l'affichage mobile de l'interface Web. Ajout de la d\u00e9finition \u00ab BtSerial \u00bb pour d\u00e9tourner la sortie s\u00e9rie vers Serial2 o\u00f9 un adaptateur Bluetooth peut \u00eatre connect\u00e9 (5V->5V, GND->GND, RX->TX2, TX->RX2). L'adaptateur doit \u00eatre en mode esclave et configur\u00e9 \u00e0 115 200 bps, 8N1. De nombreuses traductions polonaises ajout\u00e9es. Nouveaux types de donn\u00e9es \u00ab VT_BYTE10 \u00bb et \u00ab VT_SPF \u00bb. Correction d'un bogue concernant l'affichage des programmes de temps de chauffage sur le bus PPS. Correction d'un bogue MQTT. Version 1.0 03.08.2020 La commande URL \u00ab /JI \u00bb affiche la configuration au format JSON. La commande URL \u00ab /JC \u00bb obtient la liste des valeurs possibles \u00e0 partir d'une liste de fonctions d\u00e9finies par l'utilisateur. Exemple: \u00ab /JC=505,700,701,702,711,1600,1602 \u00bb. Les t\u00e9l\u00e9grammes de journalisation (param\u00e8tre de journalisation 30 000) \u00e9crivent d\u00e9sormais dans un fichier s\u00e9par\u00e9 (\u00ab journal.txt \u00bb). Il peut \u00eatre r\u00e9initialis\u00e9 avec la commande \u00ab /D0 \u00bb (en m\u00eame temps que datalog.txt) et vid\u00e9 avec la commande \u00ab /DJ \u00bb. La configuration Wi-Fi a \u00e9t\u00e9 supprim\u00e9e car elle n'est plus applicable pour le Due. De nombreux nouveaux param\u00e8tres pour diverses familles d'appareils. Optimisation et restructuration du code, augmentation g\u00e9n\u00e9rale de la vitesse. Nouveaux sch\u00e9mas pour la disposition de la carte V3. De nombreux bogues corrig\u00e9s. Version 0.44 11.05.2020 Ajout de la fonctionnalit\u00e9 de serveur Web via une carte SD et diverses autres am\u00e9liorations de l'utilisateur GitHub dukess. Ajout d'une sortie JSON pour MQTT. Interface Web plus conviviale pour les appareils mobiles. Plus de param\u00e8tres et de familles d'appareils. Derni\u00e8re version enti\u00e8rement test\u00e9e sur Mega 2560. Les futures versions pourront toujours s'ex\u00e9cuter sur la Mega, mais ne seront test\u00e9es que sur l'Arduino Due. Version 0.43 20.02.2020 Prise en charge ajout\u00e9e pour HardwareSerial (Serial1) connexion de l'adaptateur. Utilisez l'\u00e9pingle RX 19 dans la d\u00e9finition du bus pour l'activer. Consultez le manuel/forum pour plus de d\u00e9tails mat\u00e9riels. Ajout de la d\u00e9finition DebugTelnet pour d\u00e9tourner la sortie s\u00e9rie vers un client Telnet (port 23, sans mot de passe) dans \u00ab BSB_LAN_config.h \u00bb. Ajout de la possibilit\u00e9 de contr\u00f4ler BSB-LAN (presque) compl\u00e8tement via le port s\u00e9rie USB. La plupart des commandes sont prises en charge comme leurs homologues URL, c'est-\u00e0-dire \u00ab / /xxx \u00bb pour interroger le param\u00e8tre xxx ou \u00ab / /N \u00bb pour red\u00e9marrer l'Arduino. Changement de l'ID d'appareil par d\u00e9faut de 6 (contr\u00f4leur de pi\u00e8ce \u00ab RGT1 \u00bb) \u00e0 l'ID inutilis\u00e9 66 (\u00ab LAN \u00bb). De nombreux nouveaux param\u00e8tres, ex\u00e9cutez \u00ab /Q \u00bb pour voir les \u00e9ventuels changements pour votre famille d'appareils et nous faire un rapport! Ajout de variables globales (tableaux de 20 octets) \u00ab custom_floats[] \u00bb et \u00ab custom_longs[] \u00bb pour une utilisation avec \u00ab BSB_LAN_custom.h \u00bb, par exemple pour lire des capteurs, etc. La sortie de ces variables se fait via la nouvelle commande URL \u00ab /U \u00bb. Ajout des familles d'appareils 23 et 29 (chaudi\u00e8res Gr\u00fcnenwald). Ajout des familles d'appareils 49, 52, 59 (chaudi\u00e8res Weishaupt). Ajout des familles d'appareils 91, 92, 94, 118, 133, 136, 137, 165, 184, 188 (divers contr\u00f4leurs tels que QAA75 ou AVS37). Ajout de la famille d'appareils 171 (syst\u00e8me de granul\u00e9s de bois B\u00f6sch). Ajout de la famille d'appareils 172 (SensoTherm BLW Split B (RVS21.826F/200)). Ajout des familles d'appareils 186 et 164 (Olymp WHS-500). Ajout de la variante 2 de la famille d'appareils 195 (Thision 19 Plus / LMS14.111B109). Inclusion des param\u00e8tres DHT, 1Wire et de l'\u00e9tat du br\u00fbleur (>20000) dans MQTT. L'anglais est maintenant la langue par d\u00e9faut. Mise \u00e0 jour de diverses traductions. Ajout de fichiers STL pour imprimer un bo\u00eetier avec une imprimante 3D (gr\u00e2ce \u00e0 l'utilisateur FHEM EPo!). D\u00e9placement de tous les capteurs vers \u00ab /T \u00bb, \u00ab /H \u00bb n'est plus utilis\u00e9. Nouveaux param\u00e8tres virtuels 702/703 pour le contr\u00f4leur de pi\u00e8ce Weishaupt. Nouveau param\u00e8tre virtuel 10003 pour d\u00e9finir la temp\u00e9rature ext\u00e9rieure sur les syst\u00e8mes plus r\u00e9cents. Ajout de descriptions de texte pour les phases d'erreur (6706 et suivantes). \u00ab /Q \u00bb est maintenant plus complet. Nouveaux types de donn\u00e9es \u00ab VT_CUSTOM_ENUM \u00bb et \u00ab VT_CUSTOM_BYTE \u00bb pour extraire des informations de t\u00e9l\u00e9grammes non standard (tels que 702/703). Correction d'un bogue: impl\u00e9mentation DHCP (Ethernet). Version 0.42 21.03.2019 Ajout de la localisation! Vous pouvez maintenant aider \u00e0 traduire BSB-LAN dans votre langue! Il vous suffit de copier l'un des fichiers de langue du dossier de localisation (\u00ab LANG_DE.h \u00bb est le plus complet) et de traduire ce que vous pouvez. Les \u00e9l\u00e9ments non traduits seront affich\u00e9s en allemand. Attention: la d\u00e9finition de la langue dans \u00ab BSB_LAN_config.h \u00bb est d\u00e9sormais \u00ab #define LANG \u00bb. Par exemple: \u00ab #define LANG DE \u00bb. Ajout d'une exportation vers un courtier MQTT, utilisez \u00ab log_parameters \u00bb[] dans \u00ab BSB_LAN_config.h \u00bb pour d\u00e9finir les param\u00e8tres et activer la d\u00e9finition \u00ab MQTTBrokerIP \u00bb. Ajout de la prise en charge des modules Wi-Fi tels qu'un ESP8266 ou un Wemos Mega connect\u00e9 \u00e0 Serial3 (RX:15/TX:14) de l'Arduino. L'ESP8266 doit \u00eatre flash\u00e9 avec le microprogramme AT d'Espressif pour fonctionner. Veuillez noter que le Wi-Fi via la s\u00e9rie est, par conception, beaucoup plus lent (seulement 115 kpbs) que les connexions TCP/IP \u00ab pures \u00bb. Ajout d'une nouvelle cat\u00e9gorie \u00ab 34 - Konfiguration / Erweiterungsmodule \u00bb. Toutes les cat\u00e9gories suivantes se d\u00e9placent d'un num\u00e9ro vers le haut! De nombreux nouveaux param\u00e8tres provenant de la famille d'appareils 123, ex\u00e9cutez \u00ab /Q \u00bb pour voir si certains param\u00e8tres fonctionnent \u00e9galement pour votre appareil de chauffage! De nombreux nouveaux param\u00e8tres encore inconnus via une interrogation par force brute :) (num\u00e9ros de param\u00e8tre 10200 et plus). Ajout de nouvelles commandes PPS-Bus, d\u00e9placement des num\u00e9ros de param\u00e8tre \u00e0 15000 et plus. Le mode PPS par d\u00e9faut est d\u00e9sormais \u00ab \u00e9coute \u00bb. Utilisez le troisi\u00e8me param\u00e8tre de la d\u00e9finition du bus pour passer de l'\u00e9coute \u00e0 la commande, 1 pour la commande, tout le reste pour l'\u00e9coute, c'est-\u00e0-dire que BSB bus(68,67,1) envoie des donn\u00e9es \u00e0 la chaudi\u00e8re, BSB bus(68,67) ne re\u00e7oit que des donn\u00e9es de la chaudi\u00e8re/du contr\u00f4leur de pi\u00e8ce. Vous pouvez passer d'un mode \u00e0 l'autre \u00e0 l'ex\u00e9cution avec la commande URL \u00ab /P2,x \u00bb o\u00f9 x est soit 1 (pour la commande) soit autre chose que 1 (pour l'\u00e9coute uniquement). Correction d'un bogue qui a provoqu\u00e9 le plantage des requ\u00eates de bus PPS. Am\u00e9liorations de la stabilit\u00e9 pour le bus PPS. Am\u00e9lioration de la l\u00e9gende du graphique lors de la repr\u00e9sentation de plusieurs param\u00e8tres. Ajout d'une exportation JSON; interroger avec \u00ab /JQ=a,b,c,d... \u00bb ou pousser des requ\u00eates vers \u00ab /JQ \u00bb ou pousser des commandes set vers \u00ab /JS \u00bb. La journalisation des param\u00e8tres MAX! est d\u00e9sormais possible avec le param\u00e8tre de journalisation 20007. Ajout de la famille d'appareils Waterstage WP (119). Ajout de la famille d'appareils WHG Procon (195). Ajout de l'unit\u00e9 au fichier journal ainsi qu'\u00e0 la sortie moyenne. R\u00e9\u00e9criture de l'appariement des appareils dans \u00ab cmd_tbl \u00bb pour prendre en charge \u00e9galement la variante de l'appareil (Ger\u00e4tevariante). Ex\u00e9cutez \u00ab /Q \u00bb pour voir si la transition a fonctionn\u00e9 pour votre appareil! Ajout de \u00ab BSB_LAN_custom_setup.h \u00bb et \u00ab BSB_LAN_custom_global.h \u00bb pour vous permettre d'ajouter du code individuel (meilleur utilis\u00e9 en conjonction avec \u00ab BSB_LAN_custom.h \u00bb). Tous les param\u00e8tres (connus) OEM ont \u00e9t\u00e9 marqu\u00e9s avec le drapeau \u00ab FL_OEM \u00bb. Les param\u00e8tres OEM sont par d\u00e9faut en lecture seule. Pour les rendre accessibles en \u00e9criture, changez \u00ab FL_OEM \u00bb de 5 \u00e0 4 dans \u00ab BSB_LAN_defs.h \u00bb. Am\u00e9lioration des performances pour l'interrogation de plusieurs param\u00e8tres \u00e0 la fois (similaire \u00e0 la requ\u00eate de cat\u00e9gorie). Ajout d'une option de configuration pour d\u00e9finir le sous-r\u00e9seau. \u00ab /Q \u00bb n'a plus besoin de \u00ab #define DEBUG \u00bb. Correction d'un bogue d'adressage de m\u00e9moire ENUM. Correction d'un bogue dans la fonction de r\u00e9initialisation \u00ab /N \u00bb, effacement de l'EEPROM pendant la r\u00e9initialisation avec \u00ab /NE \u00bb. Ajout de favicon.ico. Division de cmdtbl en cmdtbl1 et cmdtbl2 en raison de la limite de taille de struct de 32 Ko d'Arduino, ce qui lib\u00e8re de l'espace pour de nouveaux param\u00e8tres. Version 0.41 17.03.2019 Version interm\u00e9diaire contenant tous les changements de la version 0.42 ci-dessus, \u00e0 l'exception de la localisation, c'est-\u00e0-dire que tous les fragments de texte font toujours partie du code principal. Version 0.40 21.01.2018 Mise en \u0153uvre de l'interrogation des thermostats de chauffage MAX!, affichage avec la commande URL \u00ab /X \u00bb. Voir \u00ab BSB_LAN_custom.h \u00bb pour un exemple d'envoi de la temp\u00e9rature moyenne de la pi\u00e8ce au syst\u00e8me de chauffage. Ajout d'une nouvelle cat\u00e9gorie \u00ab 22 - Energiez\u00e4hler \u00bb - veuillez noter que toutes les cat\u00e9gories suivantes se d\u00e9placent d'un cran vers le haut! Nouveau param\u00e8tre virtuel 1601 (pouss\u00e9e TWW manuelle). Ajout de la famille d'appareils Fujitsu Waterstage WSYP100DG6 (211). Ajout de la famille d'appareils CTC (103). Nouvelle d\u00e9finition \u00ab #define TRUSTED_IP2 \u00bb pour accorder l'acc\u00e8s \u00e0 une deuxi\u00e8me adresse IP locale. Ajout d'une d\u00e9finition facultative \u00ab #define GatewayIP \u00bb dans \u00ab BSB_LAN_config.h \u00bb pour activer la d\u00e9finition de l'adresse du routeur diff\u00e9rente de x.x.x.1. Suppression du param\u00e8tre 10109 car il est identique \u00e0 10000. Ajout d'une fonction pour v\u00e9rifier tous les CommandIDs connus sur votre propre syst\u00e8me de chauffage. Utilisez \u00ab /Q \u00bb apr\u00e8s avoir activ\u00e9 la d\u00e9finition \u00ab #define DEBUG \u00bb dans \u00ab BSB_LAN_config.h \u00bb. Ajout de num\u00e9ros de param\u00e8tre au menu de cat\u00e9gorie. Mise \u00e0 jour de analyze.sh. esp\u00e9rons que cela r\u00e9sout le probl\u00e8me de m\u00e9moire D\u00e9placement des cha\u00eenes HTML vers \u00ab html_strings.h \u00bb. Version 0.39 02.01.2018 Impl\u00e9mentation du protocole PPS-Bus. Voir \u00ab /K40 \u00bb pour les commandes limit\u00e9es disponibles pour ce bus. Utilisez setBusType(2) pour d\u00e9finir le PPS au d\u00e9marrage ou \u00ab /P2 \u00bb pour basculer temporairement. D\u00e9finissez les GPIOs en entr\u00e9e en utilisant \u00ab /Gxx,I \u00bb. D\u00e9finition \u00ab #define CUSTOM_COMMANDS \u00bb ajout\u00e9e. Utilisez ceci dans votre configuration pour inclure du code individuel de \u00ab BSB_LAN_custom.h \u00bb (doit \u00eatre cr\u00e9\u00e9 par vous!) qui est ex\u00e9cut\u00e9 \u00e0 la fin de chaque boucle principale. Les variables \u00ab custom_timer \u00bb et \u00ab custom_timer_compare \u00bb ont \u00e9t\u00e9 ajout\u00e9es pour ex\u00e9cuter du code \u00e0 des intervalles arbitraires. Ajout de la famille d'appareils LogoBloc Unit L-UB 25C (95). plusieurs nouveaux param\u00e8tres ajout\u00e9s. Correction d'un bogue pour la journal Version 0.34 29.05.2017 Les donn\u00e9es de journalisation peuvent maintenant \u00eatre affich\u00e9es sous forme de graphique. L'interface Web peut maintenant afficher et d\u00e9finir les param\u00e8tres de type VT_BIT sous une forme lisible par l'utilisateur. Ajout de descriptions KonfigRGx ; attention : plusieurs sources ont \u00e9t\u00e9 utilis\u00e9es, il n'est pas garanti que les descriptions correspondent \u00e0 votre syst\u00e8me de chauffage individuel. VT_BIT est g\u00e9n\u00e9ralement en lecture seule dans l'interface Web. Pour le d\u00e9finir, utilisez la commande d'URL /S avec la repr\u00e9sentation d\u00e9cimale de la valeur. Correction d'un bug avec VT_SECONDS_SHORT5 , qui affecte les param\u00e8tres 9500 et 9540. Correction d'un bug concernant la famille d'appareils Fujitsu (de 127 \u00e0 170). D\u00e9placement des biblioth\u00e8ques du dossier libraries vers src afin qu'elles puissent \u00eatre incluses sans les copier dans le dossier Arduino libraries . Modification du chemin d'inclusion de DallasTemperature.h pour OneWire.h . Version 0.33 09.05.2017 Plus de d\u00e9finitions de syst\u00e8mes de chauffage en raison de la nouvelle fonction d'auto-d\u00e9tection bas\u00e9e sur la famille d'appareils (param\u00e8tre 6225), ou d\u00e9finissez la variable device_id directement sur la valeur du param\u00e8tre. Deux options de s\u00e9curit\u00e9 suppl\u00e9mentaires : TRUSTED_IP pour limiter l'acc\u00e8s \u00e0 une seule adresse IP, et l'authentification HTTP avec nom d'utilisateur et mot de passe. Les valeurs moyennes sont enregistr\u00e9es sur la carte SD si elle est pr\u00e9sente et que la d\u00e9finition LOGGER est activ\u00e9e. D\u00e9sactiver la journalisation en d\u00e9finissant /L0=0 - de cette fa\u00e7on, vous pouvez activer la d\u00e9finition LOGGER sans remplir la carte SD, mais toujours enregistrer les valeurs moyennes. Nouveaux codes d'erreur pour THISION. Ajout du vidage de la charge utile des donn\u00e9es sur le site Web pour les commandes de type inconnu, les param\u00e8tres non pris en charge sont gris\u00e9s. Activer la journalisation des t\u00e9l\u00e9grammes (param\u00e8tre de journalisation 30000) \u00e9galement en mode surveillance (bsb.cpp et bsb.h mis \u00e0 jour). L'heure du syst\u00e8me de chauffage est d\u00e9sormais r\u00e9cup\u00e9r\u00e9e p\u00e9riodiquement \u00e0 partir des t\u00e9l\u00e9grammes de diffusion, ce qui r\u00e9duit encore l'activit\u00e9 du bus. Nouveau type de donn\u00e9es VT_BIT pour les param\u00e8tres qui d\u00e9finissent des bits individuels. Affichage sous forme de chiffres binaires, la d\u00e9finition utilise toujours la repr\u00e9sentation d\u00e9cimale. Nouveau type de donn\u00e9es VT_TEMP_SHORT5_US pour les temp\u00e9ratures non sign\u00e9es sur un octet divis\u00e9es par 2 (pour l'instant, uniquement 887 Vorlaufsoll NormAussentemp). Nouveau type de donn\u00e9es VT_PERCENT5 pour les temp\u00e9ratures non sign\u00e9es sur un octet divis\u00e9es par 2 (pour l'instant, uniquement 885 Pumpe-PWM Minimum). Nouveau type de donn\u00e9es VT_SECONDS_WORD5 pour les secondes sur deux octets divis\u00e9es par 2 (pour l'instant, uniquement 2232, 9500 et 9540). Nouveau type de donn\u00e9es VT_SECONDS_SHORT4 pour les secondes sur un octet (sign\u00e9 ?) divis\u00e9es par 4 (pour l'instant, uniquement 2235). Nouveau type de donn\u00e9es VT_SECONDS_SHORT5 pour les secondes sur un octet (sign\u00e9 ?) divis\u00e9es par 5 (pour l'instant, uniquement 9500, 9540). Nouveau type de donn\u00e9es VT_SPEED2 pour les rpm sur deux octets (pour l'instant, uniquement 7050). Nettoyage de la fonction set() pour supprimer les cas de doublons apparents. Ajout de cas pour VT_TEMP_WORD , VT_SECONDS_WORD5 , VT_TEMP_SHORT , VT_TEMP_SHORT5 , VT_SECONDS_SHORT4 \u00e0 la fonction set(). Version 0.32 18.04.2017 De nombreux nouveaux param\u00e8tres sont pris en charge. La nouvelle interface Web permet de contr\u00f4ler le syst\u00e8me de chauffage sans logiciel suppl\u00e9mentaire ou commandes URL cryptiques. Les commandes URL sont bien s\u00fbr toujours disponibles, il n'est donc pas n\u00e9cessaire de changer quoi que ce soit lors de l'utilisation de FHEM, etc. L'interface Web en allemand est disponible avec la d\u00e9finition LANG_DE . Nouvelle commande URL /LB=x pour journaliser uniquement les messages de diffusion (x=1) ou tous les messages du bus (x=0). Nouvelle commande URL /X pour r\u00e9initialiser l'Arduino (il faut activer la d\u00e9finition RESET dans BSB_LAN_config.h ). Nouveaux param\u00e8tres de journalisation 20002 et 20003 pour les temps et cycles de chargement de l'eau chaude. D\u00e9placement des param\u00e8tres de journalisation DS18B20 de 20010-20019 \u00e0 20200-20299 et des param\u00e8tres de journalisation DHT22 de 20020-20029 \u00e0 20100-20199. D\u00e9placement du param\u00e8tre de journalisation moyen de 20002 \u00e0 20004. D\u00e9finition de nombreux param\u00e8tres en lecture seule car c'est ce qu'ils sont \u00e9videmment (K33-36). Diverses corrections de bugs. Version 0.31 10.04.2017 Augmentation du vidage du fichier journal par un facteur 5 / tant que nous avons encore de la m\u00e9moire, vous pouvez augmenter logbuflen de 100 \u00e0 1000 pour augmenter la vitesse de transfert d'environ 16 \u00e0 18 Ko/s. Ajustement de la surveillance de l'activit\u00e9 de la chaudi\u00e8re en fonction des messages de diffusion pour les syst\u00e8mes Br\u00f6tje. Suppression de la d\u00e9finition PROGNR_5895 car jusqu'\u00e0 pr\u00e9sent, elle a seulement d\u00e9sactiv\u00e9 une d\u00e9finition ENUM. Suppression de la d\u00e9finition PROGNR_6030 car le double ID de commande pouvait \u00eatre r\u00e9solu via les d\u00e9finitions BROETJE / non-BROETJE. Renommage de BROETJE_SOB en BROETJE pour permettre une distinction fine entre les diff\u00e9rents cas BROETJE (par exemple 6800ff). Cela signifie que vous devez maintenant activer DEUX d\u00e9finitions lors de l'utilisation d'un syst\u00e8me Br\u00f6tje : la d\u00e9finition g\u00e9n\u00e9rale BROETJE ainsi que BROETJE_SOB ou BROETJE_BSW . Jetez un coup d'\u0153il \u00e0 votre journal s\u00e9rie pour les param\u00e8tres 6800 afin de voir quels ID de commande correspondent \u00e0 votre syst\u00e8me et activez l'un des deux en cons\u00e9quence. Changement de l'adressage 16 bits de la m\u00e9moire flash en 32 bits pour r\u00e9soudre les probl\u00e8mes de plantage dus \u00e0 des tables PROGMEM de plus en plus grandes - nous avons maintenant beaucoup d'espace pour respirer \u00e0 nouveau pour de nouveaux ID de commande :) Suppression du caract\u00e8re de fin de cha\u00eene \\0 de plusieurs ENUMs qui a conduit \u00e0 des listes ENUM incorrectes. Veuillez garder \u00e0 l'esprit de ne pas terminer les ENUMs par un caract\u00e8re de fin de cha\u00eene \\0 ! Version 0.30 22.03.2017 La biblioth\u00e8que Time de Paul Stoffregen (https://github.com/PaulStoffregen/Time) est d\u00e9sormais requise et incluse dans le dossier de la biblioth\u00e8que. Ajout de la journalisation des donn\u00e9es de t\u00e9l\u00e9gramme brut sur la carte SD avec le param\u00e8tre de journalisation 30000. La journalisation des donn\u00e9es de t\u00e9l\u00e9gramme est affect\u00e9e par les commandes /V et /LU . Ajout de la commande /LU=x pour journaliser uniquement les ID de commande connus (x=0) ou inconnus (x=1) lors de la journalisation des donn\u00e9es de t\u00e9l\u00e9gramme. Suppression de la d\u00e9finition USE_BROADCAST , les donn\u00e9es de diffusion sont d\u00e9sormais toujours trait\u00e9es. Nouvelles fonctions internes GetDateTime, TranslateAddr, TranslateType. Version 0.29 07.03.2017 Ajout de la commande /C pour afficher la configuration actuelle. Ajout de la commande /L pour configurer l'intervalle de journalisation et les param\u00e8tres. Ajout d'une option pour la commande /A pour d\u00e9finir les param\u00e8tres de moyenne sur 24 heures pendant l'ex\u00e9cution. Ajout d'un param\u00e8tre sp\u00e9cial 20002 pour la journalisation de la commande /A (moyennes sur 24 heures, n'a de sens que pour les longs intervalles de journalisation). Corrections de bugs pour la journalisation des capteurs DS18B20. Version 0.28 05.03.2017 Ajout de param\u00e8tres sp\u00e9ciaux 20000++ pour la journalisation sur carte SD des commandes /B, /T et /H (voir BSB_LAN_config.h pour des exemples). Ajout d'informations de version \u00e0 l'interface Web BSB_LAN . Version 0.27 01.03.2017 Ajout d'un champ de date au fichier journal (n\u00e9cessite l'envoi de l'heure exacte par le syst\u00e8me de chauffage). /D0 recr\u00e9e le fichier datalog.txt avec l'en-t\u00eate de tableau. Ajout d'un champ \"flags\" \u00e0 la structure de la table de commandes. Actuellement, seul FL_RONLY est pris en charge pour rendre un param\u00e8tre en lecture seule. Ajout de DEFAULT_FLAG dans la configuration. Par d\u00e9faut \u00e0 NULL , c'est-\u00e0-dire que tous les champs sont en lecture/\u00e9criture. La d\u00e9finition \u00e0 FL_RONLY rend tous les param\u00e8tres en lecture seule, par exemple pour un niveau de s\u00e9curit\u00e9 suppl\u00e9mentaire. Les param\u00e8tres individuels peuvent \u00eatre d\u00e9finis sur NULL / FL_RONLY pour rendre uniquement ces param\u00e8tres accessibles en \u00e9criture/lecture seule. Version 0.26 27.02.2017 Ajout de la fonctionnalit\u00e9 de journalisation sur carte micro SD, en utilisant l'emplacement de la carte SD du bouclier Ethernet w5100. Ajout de param\u00e8tres suppl\u00e9mentaires (par exemple 8009). Version 0.25 21.02.2017 Ajout de param\u00e8tres FUJITSU suppl\u00e9mentaires. Version 0.24 14.02.2017 Mise \u00e0 jour du README avec les fonctions ajout\u00e9es. Ajout des traductions allemandes du FAQ et du README, gracieuset\u00e9 d'Ulf Dieckmann. Version 0.23 12.02.2017 Correction de bugs mineurs. Version 0.22 07.02.2017 Ajout de param\u00e8tres FUJITSU suppl\u00e9mentaires. Impl\u00e9mentation (esp\u00e9rons-le) correcte des lectures VT_VOLTAGE . Corrections de bugs mineurs. Version 0.21 06.02.2017 Ajout de nombreux param\u00e8tres pour la pompe \u00e0 chaleur Fujitsu, y compris la nouvelle directive #define FUJITSU pour activer ces param\u00e8tres en raison de num\u00e9ros de param\u00e8tres diff\u00e9rents. Corrections de bugs mineurs. Version 0.20 27.01.2017 Ajout de param\u00e8tres suppl\u00e9mentaires pour Feststoffkessel. Corrections de bugs mineurs. Version 0.19 01.01.2017 Ajout de la commande d'humidit\u00e9 /H , actuellement pour les capteurs DHT22. Ajout de la commande de moyenne sur 24 heures /A , d\u00e9finissez les param\u00e8tres dans BSB_LAN_config.h . Suppression des espaces blancs de fin des cha\u00eenes de menu. Correction de l'ID de commande 0x053D04A2 pour les chauffe-eau THISION. Inclusion de la biblioth\u00e8que DHT de Rob Tillaart car il existe plusieurs biblioth\u00e8ques impl\u00e9mentant le protocole et celle-ci est utilis\u00e9e dans le code pour sa capacit\u00e9 \u00e0 adresser plusieurs capteurs avec un seul objet. Suppression du param\u00e8tre d'URL /temp car il est un doublon de /T . Inclusion d'une boucle pour afficher les capteurs DHT22 dans IPWE. Rendre la compilation des extensions IPWE optionnelle ( #define IPWE ). Version 0.18 22.12.2016 S\u00e9paration de la configuration dans bsb_lan_config.h . S\u00e9paration des d\u00e9finitions de commandes dans bsb_lan_defs.h . Changement des valeurs de retour GPIO de LOW/HIGH \u00e0 1/0. R\u00e9activation et mise \u00e0 jour d'IPWE (d\u00e9finissez les param\u00e8tres dans la configuration). V\u00e9rification des broches prot\u00e9g\u00e9es lors de l'acc\u00e8s \u00e0 GPIO (d\u00e9finissez dans la configuration). Ajout des sch\u00e9mas et des fichiers PCB dans un nouveau sous-dossier \"sch\u00e9mas\". Version 0.17a 20.12.2016 Correction d'erreurs mineures. Version 0.17 20.12.2016 Fusion de v0.16 avec les modifications de l'utilisateur FHEM miwi. Version 0.16 20.11.2016 Suppression d'IPWE et de l'interface EthRly. Ajout de l'interface GPIO. Fusion des param\u00e8tres de J.Weber. R\u00e9solution des ID de commande en double. Version 0.15a 25.07.2016 Regroupement des commandes d'un projet Python et de ce projet, fusion des deux versions, correction des erreurs \u00e9videntes. Insertion de valeurs num\u00e9riques hypoth\u00e9tiques dans les d\u00e9finitions ENUM o\u00f9 les manuels Broetje documentaient uniquement les textes des messages. Ajout d'informations \u00e0 partir de traces dans une installation Broetje avec un contr\u00f4leur ISR-SSR et une chaudi\u00e8re \u00e0 mazout WOB 25C. Version 0.15 21.04.2016 Ajout de Solar et Pufferspeicher d'Elco Logon B & Logon B MM. Version 0.14 04.04.2016 Corrections de bugs mineurs pour Broetje SOB. Extension du traitement des diffusions (exp\u00e9rimental). Version 0.13 31.03.2016 Changement de la valeur de r\u00e9sistance dans le chemin de r\u00e9ception de 4k7 \u00e0 1k5. Ajout des valeurs 0x0f et 0x10 \u00e0 Enum8005. Correction des cha\u00eenes pour Zeitprogramme. Ajout d'un d\u00e9lai d'attente pour l'envoi d'un message (1 seconde). Ajout de /T pour interroger les capteurs de temp\u00e9rature One Wire dans les requ\u00eates mixtes. Ajout d'un traitement sp\u00e9cial pour Broetje SOB. Simplification des param\u00e8tres. Version 0.12 09.04.2015 Ajout de ONEWIRE_SENSORS \u00e0 ipwe. Correction du d\u00e9codage des param\u00e8tres pour le syst\u00e8me de chauffage ELCO Thision. Version 0.11 07.04.2015 Correction du d\u00e9codage des param\u00e8tres pour le syst\u00e8me de chauffage ELCO Thision. Version 0.10 15.03.2015 Ajout de param\u00e8tres suppl\u00e9mentaires pour le syst\u00e8me de chauffage ELCO Thision. Version 0.9 09.03.2015 Ajout de param\u00e8tres suppl\u00e9mentaires pour le syst\u00e8me de chauffage ELCO Thision. printTelegramm renvoie la cha\u00eene de valeur pour un traitement ult\u00e9rieur. Version 0.8 05.03.2015 Ajout de param\u00e8tres pour le syst\u00e8me de chauffage ELCO Thision. Ajout de l'extension IPWE. Corrections de bugs mineurs. Version 0.7 06.02.2015 Ajout de la fonctionnalit\u00e9 de surveillance du bus. Version 0.6 02.02.2015 Renommage de SoftwareSerial en BSBSoftwareSerial. Changement de la structure de dossiers pour permettre une construction simple avec le kit de d\u00e9veloppement Arduino. Version 0.5 **02.","title":"ChangeLog"},{"location":"fr/CHANGELOG.html#current-master","text":"ATTENTION : CHANGEMENT CASSANT ! Structure de sujet rationalis\u00e9e pour MQTT. La nouvelle structure ajoute /status pour interroger un param\u00e8tre, /set pour d\u00e9finir un param\u00e8tre, /inf pour envoyer des donn\u00e9es sous la forme d'un t\u00e9l\u00e9gramme INF et /poll pour forcer BSB-LAN \u00e0 envoyer une mise \u00e0 jour de la valeur du param\u00e8tre au courtier. Si vous utilisez la d\u00e9couverte automatique MQTT, id\u00e9alement, l'appel de /M1 devrait mettre \u00e0 jour ces changements. Cependant, si vous utilisez vos propres configurations, vous devrez apporter des ajustements ici. ATTENTION : CHANGEMENT CASSANT ! Lorsque vous utilisez des param\u00e8tres JSON pour MQTT, auparavant, tous les messages \u00e9taient \u00e9crits dans BSB-LAN/json et donc fondamentalement imm\u00e9diatement remplac\u00e9s lorsque plusieurs param\u00e8tres \u00e9taient enregistr\u00e9s. Ce param\u00e8tre d\u00e9termine d\u00e9sormais uniquement le format (et non le format et le sujet) des donn\u00e9es qui sont \u00e9crites dans /status de chaque param\u00e8tre. Pour la d\u00e9couverte automatique, le texte brut reste le seul choix valide. ATTENTION : CHANGEMENT CASSANT Le message d'accus\u00e9 de r\u00e9ception envoy\u00e9 par BSB-LAN au sujet MQTT a \u00e9t\u00e9 supprim\u00e9. Au lieu de cela, la QoS pour la publication des messages a \u00e9t\u00e9 d\u00e9finie au niveau 1. ATTENTION : CHANGEMENT CASSANT : Les valeurs de configuration du journal ont chang\u00e9. Cependant, seuls les utilisateurs qui se sont connect\u00e9s \u00e0 UDP sont concern\u00e9s et devront ajuster leurs param\u00e8tres. Ajout d'un param\u00e8tre pour publier uniquement les param\u00e8tres de journalisation sur MQTT. Les mises \u00e0 jour MQTT forc\u00e9es via le sujet /poll sont toujours possibles. Ajout de state_class pour les capteurs non cumulatifs dans la d\u00e9couverte automatique MQTT Mise \u00e0 jour de l'\u00e9mulation de l'unit\u00e9 de pi\u00e8ce dans custom_functions pour fonctionner avec la version 4.x. Correction d'un bogue pour VT_ENERGY, ajout de nouveaux types de donn\u00e9es VT_ENERGY10 et VT_ENERGY10_N","title":"Current Master"},{"location":"fr/CHANGELOG.html#version-41","text":"06.11.2024 ATTENTION : CHANGEMENT CASSANT ! Structure de sujet modifi\u00e9e pour MQTT. Cela signifie que toutes les entit\u00e9s MQTT existantes dans votre syst\u00e8me de domotique devront \u00eatre ajust\u00e9es ou recr\u00e9\u00e9es ! La nouvelle structure est d\u00e9sormais BSB-LAN/<device id>/<category id>/<parameter number> . ATTENTION : CHANGEMENT CASSANT ! L'identifiant unique pour la d\u00e9couverte automatique MQTT a \u00e9t\u00e9 modifi\u00e9. Cela signifie que toutes les entit\u00e9s MQTT qui ont \u00e9t\u00e9 cr\u00e9\u00e9es via la d\u00e9couverte automatique devront \u00eatre recr\u00e9\u00e9es ! ATTENTION : Les options de configuration fixed_device_family et fixed_device_variant ont \u00e9t\u00e9 supprim\u00e9es car elles ne fonctionnent plus pour les listes de param\u00e8tres sp\u00e9cifiques aux appareils. Si votre syst\u00e8me de chauffage est \u00e9teint lorsque vous allumez le microcontr\u00f4leur, BSB-LAN essaiera d'obtenir les d\u00e9tails toutes les 60 secondes. ATTENTION : Le changement des options de configuration entra\u00eene une nouvelle disposition de l'EEPROM, l'EEPROM sera donc r\u00e9initialis\u00e9e en fonction de la configuration de BSB_LAN_config.h . La d\u00e9couverte automatique MQTT fonctionne d\u00e9sormais pour tous les appareils, et pas seulement pour l'ID d'appareil 0. Utilisez /M1!<x> ou /M0!<x> pour cr\u00e9er/supprimer des entit\u00e9s pour l'ID d'appareil <x> . Le drapeau des messages de d\u00e9couverte automatique MQTT a \u00e9t\u00e9 modifi\u00e9 en \"retain\" afin que les param\u00e8tres restent disponibles apr\u00e8s le red\u00e9marrage de Home Assistant.","title":"Version 4.1"},{"location":"fr/CHANGELOG.html#version-40","text":"01.11.2024 ATTENTION : CHANGEMENT CASSANT ! Le param\u00e8tre de temp\u00e9rature de la pi\u00e8ce 10000, 10001 et 10002 doit d\u00e9sormais avoir le drapeau suppl\u00e9mentaire FL_SPECIAL_INF , sinon la temp\u00e9rature de consigne ne fonctionnera pas ! ATTENTION : CHANGEMENT CASSANT ! Le param\u00e8tre de simulation de la temp\u00e9rature ext\u00e9rieure 10017 doit avoir le drapeau FL_SPECIAL_INF supprim\u00e9, sinon la temp\u00e9rature de consigne ne fonctionnera pas ! ATTENTION : CHANGEMENT CASSANT ! Le param\u00e8tre de temp\u00e9rature de la pi\u00e8ce 10000, 10001 et 10002 pour les appareils de chauffage Weishaupt (familles d'appareils 49, 50, 51 et 59) doit d\u00e9sormais avoir le drapeau FL_SPECIAL_INF supprim\u00e9, sinon la temp\u00e9rature de consigne ne fonctionnera pas ! ATTENTION : CHANGEMENT CASSANT ! Les commandes d'URL /U (afficher les variables d\u00e9finies par l'utilisateur) et /X (afficher les valeurs MAX !) ont \u00e9t\u00e9 supprim\u00e9es car ces valeurs peuvent d\u00e9sormais \u00eatre accessibles via les param\u00e8tres 20000++ ATTENTION : CHANGEMENT CASSANT ! Les param\u00e8tres du programme horaire PPS (15050-15091) ont \u00e9t\u00e9 rationalis\u00e9s avec les param\u00e8tres du programme horaire BSB/LPB, ce qui a permis d'obtenir un seul param\u00e8tre par jour (au lieu de six), couvrant trois points de commutation (d\u00e9but et fin) par param\u00e8tre. ATTENTION : Pour ESP32, BSB-LAN n\u00e9cessite la version 3.0.x du framework ESP32 - veuillez rechercher les erreurs ou les comportements \u00e9tranges (les capteurs 1-Wire n'ont pas encore \u00e9t\u00e9 test\u00e9s) ainsi que tout autre type de comportement \u00e9trange/plantages. ATTENTION : Nouvelles options de configuration dans BSB_LAN_config.h - veuillez mettre \u00e0 jour vos fichiers de configuration existants ! La configuration bas\u00e9e sur le Web sera \u00e9cras\u00e9e par les param\u00e8tres du fichier de configuration en raison d'un changement dans la disposition de l'EEPROM ! ATTENTION : Nouveau manuel d'utilisation : https://docs.bsb-lan.de/ Les boutons et RGT_EMULATION ont \u00e9t\u00e9 d\u00e9plac\u00e9s du code principal vers la biblioth\u00e8que custom_functions . Pour continuer \u00e0 les utiliser, utilisez les fichiers BSB_LAN_custom_*.h et activez la d\u00e9finition CUSTOM_COMMANDS . La plupart des d\u00e9finitions de configuration ont \u00e9t\u00e9 supprim\u00e9es de BSB_LAN_config.h . Presque toutes les fonctionnalit\u00e9s peuvent d\u00e9sormais \u00eatre configur\u00e9es sans reflash. BSB-LAN prend d\u00e9sormais en charge la d\u00e9couverte automatique MQTT (prise en charge, par exemple, par Home Assistant). Pour cr\u00e9er des appareils, appelez la commande d'URL /M1 , pour les supprimer, appelez /M0 ATTENTION : La d\u00e9couverte automatique MQTT cr\u00e9e un commutateur g\u00e9n\u00e9ral pour l'appareil BSB-LAN dans Home Assistant. Ce commutateur \u00e9crira imm\u00e9diatement toutes les valeurs de param\u00e8tre stock\u00e9es dans Home Assistant. N'UTILISEZ PAS CE COMMUTATEUR \u00e0 moins de SAVOIR EXACTEMENT ce qu'il fait ! Le bouton \"Set\" dans l'interface Web fonctionne d\u00e9sormais \u00e9galement avec les appareils de destination non par d\u00e9faut (c'est-\u00e0-dire 1 au lieu de 0) Les param\u00e8tres interrog\u00e9s/d\u00e9finis sont d\u00e9sormais transf\u00e9r\u00e9s au courtier MQTT (si MQTT est activ\u00e9) Les commandes /M1 et /M0 pr\u00e9c\u00e9demment utilis\u00e9es pour activer/d\u00e9sactiver la fonction de surveillance ont \u00e9t\u00e9 supprim\u00e9es car elles peuvent d\u00e9sormais \u00eatre accessibles via la configuration dans l'interface Web. La liste des cat\u00e9gories avec /K fonctionne d\u00e9sormais \u00e9galement avec l'appareil de destination (par exemple, /K!1 pour l'appareil de destination 1, la valeur par d\u00e9faut est 0). Correction d'un bogue important pour la mise \u00e0 jour OTA : les versions pr\u00e9c\u00e9dentes avaient une limite stricte sur la taille du fichier que les syst\u00e8mes de chauffage plus r\u00e9cents avec plusieurs centaines de param\u00e8tres ont atteinte, de sorte qu'aucune mise \u00e0 jour OTA n'\u00e9tait possible. Ceci est maintenant corrig\u00e9, mais les utilisateurs concern\u00e9s devront effectuer une mise \u00e0 jour USB une fois de plus. Les capteurs 1-Wire et DHT sont d\u00e9sormais d\u00e9sactiv\u00e9s avec la valeur -1 au lieu de 0. Dans l'interface Web, un champ vide est \u00e9galement accept\u00e9. MQTTTopicPrefix n'est plus facultatif, le sujet \"fromBroker\" a \u00e9t\u00e9 supprim\u00e9 (anciennement utilis\u00e9 pour envoyer des commandes \u00e0 BSB-LAN via MQTT) L'utilisation de la fonctionnalit\u00e9 des moyennes sur 24 heures ne n\u00e9cessite plus l'utilisation d'une carte SD. La carte SD ne sera utilis\u00e9e que pour stocker les moyennes si la journalisation des intervalles sur la carte SD est active. Nouvelle variante d'unit\u00e9 de pi\u00e8ce PPS pour RVD130, qui augmente le nibble sup\u00e9rieur du byte magique \u00e0 chaque transaction. L'interrogation de l'heure actuelle aupr\u00e8s d'un serveur NTP est active par d\u00e9faut. La d\u00e9sactiver en d\u00e9finissant ntp_server sur une cha\u00eene vide. Nouveau drapeau de param\u00e8tre FL_NOSWAP_QUR pour les param\u00e8tres qui n'\u00e9changent pas les deux premiers octets de l'ID de commande dans le t\u00e9l\u00e9gramme QUR Nouveau drapeau de param\u00e8tre FL_FORCE_INF pour les param\u00e8tres dont nous sommes certains qu'ils ne fonctionnent qu'avec INF (tels que la temp\u00e9rature de la pi\u00e8ce). Forcera un t\u00e9l\u00e9gramme INF m\u00eame si /S est utilis\u00e9 pour d\u00e9finir le param\u00e8tre (permet de d\u00e9finir la temp\u00e9rature de la pi\u00e8ce via l'interface Web) Filigrane du logo BSB-LAN dans l'affichage du graphique du journal (DE-cr) Les ENUM binaires (oui/non, on/off, etc.) renvoient d\u00e9sormais soit 0 soit 1 lorsqu'ils sont interrog\u00e9s, et non - comme c'est le cas avec certains syst\u00e8mes de chauffage - 0 ou 255. La d\u00e9finition de toute valeur de 1 \u00e0 255 est toujours possible. Correction d'un bogue critique dans PPS qui emp\u00eachait son ex\u00e9cution correcte en mode unit\u00e9 active/pi\u00e8ce. Correction d'un bogue (ou, selon le point de vue, r\u00e9duction de la s\u00e9curit\u00e9) qui emp\u00eachait l'\u00e9mission de commandes via la console s\u00e9rie/Telnet lorsque l'authentification HTTP \u00e9tait active Diverses corrections de bugs, notamment la journalisation des t\u00e9l\u00e9grammes de bus sur le p\u00e9riph\u00e9rique de stockage. Nouvelle version de la biblioth\u00e8que OneWireNg Cette version a \u00e9t\u00e9 soutenue par les sponsors suivants : Erich Scheilko","title":"Version 4.0"},{"location":"fr/CHANGELOG.html#version-33","text":"12.03.2024 ATTENTION : Nouvelles options de configuration dans BSB_LAN_config.h - veuillez mettre \u00e0 jour vos fichiers de configuration existants ! ESP32 : prise en charge de la r\u00e9ception de la date et de l'heure via NTP au lieu de les obtenir \u00e0 partir du chauffage. Le param\u00e8tre du courtier MQTT accepte d\u00e9sormais les noms de domaine ainsi que les adresses IP. Un port facultatif peut \u00eatre ajout\u00e9 apr\u00e8s un deux-points, par exemple broker.my-domain.com:1884. Sinon, la valeur par d\u00e9faut est 1883. ESP32 NodeMCU : prise en charge d'un adaptateur de carte SD suppl\u00e9mentaire facultatif. Les broches SPI peuvent \u00eatre configur\u00e9es dans BSB_LAN_config.h , par d\u00e9faut sur les broches SPI standard 5, 18, 19 et 23. ESP32 : Le passage d'un p\u00e9riph\u00e9rique de stockage de journal (carte SD/flash interne) \u00e0 un autre peut d\u00e9sormais \u00eatre effectu\u00e9 dans l'interface Web. ESP32 : Cr\u00e9er un point d'acc\u00e8s WiFi temporaire en cas de d\u00e9faillance de la connexion Ethernet ESP32 NodeMCU : La broche de r\u00e9initialisation de l'EEPROM est pass\u00e9e de 18 \u00e0 21 pour \u00e9viter les collisions avec les adaptateurs de carte SD SPI. Cette version a \u00e9t\u00e9 soutenue par les sponsors GitHub suivants : jsimon3","title":"Version 3.3"},{"location":"fr/CHANGELOG.html#version-32","text":"15.11.2023 ATTENTION : Dans BSB_LAN_config.h , la nouvelle disposition de log_parameters , avg_parameters et ipwe_parameters est d\u00e9sormais \u00e9crite entre accolades et de taille diff\u00e9rente (40 au lieu de 80) et de type ( parameter au lieu de float ). Veuillez mettre \u00e0 jour votre BSB_LAN_config.h en cons\u00e9quence pour \u00e9viter les erreurs ! Ajout de v\u00e9rifications de version de fichier de configuration pour emp\u00eacher l'utilisation de fichiers de configuration obsol\u00e8tes avec de nouvelles versions logicielles. La variable esp32_save_energy est d\u00e9sormais d\u00e9finie par d\u00e9faut sur false car elle ne semble avoir de sens que lorsque l'on utilise une connexion LAN ou si l'on utilise le WiFi et que l'on peut vivre avec l'impact sur les performances. Ajout du dossier custom_functions o\u00f9 seront collect\u00e9s des exemples de code pour des fonctions utiles qui sont n\u00e9anmoins trop sp\u00e9cifiques pour \u00eatre ajout\u00e9es au code principal de BSB-LAN. Ajout d'un exemple de fonction personnalis\u00e9e pour la cartographie des capteurs DS18B20 sur des param\u00e8tres de nombres \u00e0 virgule flottante personnalis\u00e9s Cette version a \u00e9t\u00e9 soutenue par les sponsors GitHub suivants : BraweProg, fdobrovolny, Harald","title":"Version 3.2"},{"location":"fr/CHANGELOG.html#version-31","text":"04.06.2023 ATTENTION : Pour les appareils ESP32 utilisant la flash interne pour le stockage des journaux : le syst\u00e8me de fichiers est pass\u00e9 de SPIFFS \u00e0 LittleFS. T\u00e9l\u00e9chargez les donn\u00e9es de journal importantes avant de mettre \u00e0 jour ! ATTENTION : Dans BSB_LAN_config.h , la structure de log_parameters , avg_parameters et ipwe_parameters a chang\u00e9 et inclut d\u00e9sormais l'appareil de destination sur le bus ! ATTENTION : Le nouveau sch\u00e9ma d'EEPROM peut entra\u00eener la perte des param\u00e8tres de configuration Web lors de la mise \u00e0 jour. Notez vos param\u00e8tres avant de mettre \u00e0 jour ! ATTENTION : Nouvelle variable esp32_save_energy dans BSB_LAN_config.h - mettez \u00e0 jour avant de compiler la nouvelle version. ATTENTION : Nouvelle variable bssid dans BSB_LAN_config.h - d\u00e9finit une adresse BSSID fixe \u00e0 laquelle se connecter lors de l'utilisation du WiFi sur ESP32. Les param\u00e8tres peuvent d\u00e9sormais \u00eatre interrog\u00e9s \u00e0 partir d'autres appareils sur le bus \u00e0 l'aide de la notation ! \u00e9galement lors de la journalisation (y compris MQTT) ou lors de l'utilisation de param\u00e8tres de moyenne ou de IPWE Activer/d\u00e9sactiver l'\u00e9conomie d'\u00e9nergie sur ESP32. \u00c9conomise 20 % d'\u00e9nergie, mais peut avoir un impact sur la port\u00e9e WiFi et la vitesse de t\u00e9l\u00e9chargement des fichiers de journal lorsque vous utilisez le WiFi (LAN non affect\u00e9) Am\u00e9lioration des performances et de l'utilisation de la m\u00e9moire flash sur les appareils ESP32 utilisant la flash interne pour la journalisation gr\u00e2ce au passage de SPIFFS \u00e0 LittleFS Pour am\u00e9liorer la gestion des grands journaux de donn\u00e9es : s\u00e9lection de la plage de dates dans /DG , nouvelles commandes d'URL /Da,b , /DA , /DB , /Dn , /DI et /DKn Cette version a \u00e9t\u00e9 soutenue par les sponsors GitHub suivants : lapixo, nrobadey","title":"Version 3.1"},{"location":"fr/CHANGELOG.html#version-30","text":"16.03.2023 ATTENTION : BSB_LAN_custom_defs.h .default doit \u00eatre renomm\u00e9 en BSB_LAN_custom_defs.h et ne contient qu'un ensemble tr\u00e8s limit\u00e9 de param\u00e8tres par d\u00e9faut. Consultez le manuel pour obtenir des listes de param\u00e8tres sp\u00e9cifiques aux appareils. Ajouter la nouvelle commande d'URL /LN pour forcer la journalisation ind\u00e9pendamment de l'intervalle actuel. Am\u00e9lioration des v\u00e9rifications de la biblioth\u00e8que : les utilisateurs d'ESP32 n'ont plus besoin de supprimer les dossiers ArduinoMDNS et WiFiSpi. Nouvelle version de SdFat 2 pour Arduino Due Nouveau type de donn\u00e9es VT_BINARY_ENUM Cette version a \u00e9t\u00e9 soutenue par les sponsors GitHub suivants : Alex, DE-cr","title":"Version 3.0"},{"location":"fr/CHANGELOG.html#version-22","text":"01.11.2022 ATTENTION : Plusieurs variables dans BSB_LAN_config.h .default ont chang\u00e9 de type de variable, il est probablement pr\u00e9f\u00e9rable de recr\u00e9er votre BSB_LAN_config.h \u00e0 partir de z\u00e9ro. Les num\u00e9ros de param\u00e8tre sont d\u00e9sormais \u00e0 virgule flottante (c'est-\u00e0-dire XXXX.Y) car certains param\u00e8tres contiennent deux types d'informations diff\u00e9rents. Ils sont d\u00e9sormais affich\u00e9s par incr\u00e9ments d\u00e9cimaux de 0,1. Vous pouvez toujours interroger le param\u00e8tre \"principal\" via XXXX (sans .Y) De nombreux correctifs de bugs et de nouveaux types de donn\u00e9es Les listes de param\u00e8tres sp\u00e9cifiques aux appareils sont prises en charge","title":"Version 2.2"},{"location":"fr/CHANGELOG.html#version-21","text":"30.07.2022 De nombreux nouveaux param\u00e8tres pour LMU64 ATTENTION : Nouvelles cat\u00e9gories pour les contr\u00f4leurs LMU64 et RVD/RVP en raison de leurs syst\u00e8mes de num\u00e9rotation diff\u00e9rents. Ils seront remplis au fil du temps. Les cat\u00e9gories PPS et capteurs ont \u00e9t\u00e9 d\u00e9plac\u00e9es de deux positions. ESP32 : OTA utilise d\u00e9sormais les informations d'identification d'authentification HTTP syst\u00e8me-wide Am\u00e9lioration de l'affichage int\u00e9gr\u00e9 des graphiques /DG , nouvelle d\u00e9finition de configuration #define USE_ADVANCED_PLOT_LOG_FILE - gr\u00e2ce \u00e0 Christian Ramharter Ajout d'une journalisation facultative via la diffusion Si BSB-LAN ne parvient pas \u00e0 se connecter au Wi-Fi sur ESP32, il configurera son propre point d'acc\u00e8s \u00ab BSB-LAN \u00bb avec le mot de passe \u00ab BSB-LPB-PPS-LAN \u00bb pendant 30 minutes. Apr\u00e8s cela, il red\u00e9marrera et tentera de se reconnecter. Nouvelles fonctions MQTT, y compris la possibilit\u00e9 de d\u00e9finir n'importe quel param\u00e8tre par un message MQTT et d'interroger activement n'importe quel param\u00e8tre une fois en envoyant un message MQTT. Prise en charge ajout\u00e9e pour les capteurs BME280. D\u00e9finition d'une adresse de destination temporaire pour l'interrogation des param\u00e8tres en ajoutant \u00ab !x \u00bb (o\u00f9 \u00ab x \u00bb est l'ID de destination), par exemple \u00ab /6224!10 \u00bb pour interroger l'identification de l'unit\u00e9 d'affichage. Les commandes URL \u00ab /A \u00bb, \u00ab /B \u00bb, \u00ab /T \u00bb et \u00ab /JA \u00bb ont \u00e9t\u00e9 supprim\u00e9es car tous les capteurs peuvent d\u00e9sormais \u00eatre accessibles via les num\u00e9ros de param\u00e8tre 20 000 et plus, ainsi que (actuellement) sous la nouvelle cat\u00e9gorie K49. De nouvelles cat\u00e9gories ont \u00e9t\u00e9 ajout\u00e9es, les cat\u00e9gories suivantes ont \u00e9t\u00e9 d\u00e9cal\u00e9es vers le haut. L'authentification HTTP utilise d\u00e9sormais un nom d'utilisateur et un mot de passe en texte clair dans la configuration. Les utilisateurs de PPS peuvent d\u00e9sormais envoyer l'heure et le jour de la semaine au chauffage. De nombreux nouveaux param\u00e8tres ont \u00e9t\u00e9 ajout\u00e9s. La commande URL \u00ab /JR \u00bb permet d'interroger la valeur standard (r\u00e9initialis\u00e9e) d'un param\u00e8tre au format JSON. La commande URL \u00ab /JB \u00bb permet de sauvegarder les param\u00e8tres dans un fichier JSON. La nouvelle biblioth\u00e8que pour DHT22 devrait fournir des r\u00e9sultats plus fiables. Types de donn\u00e9es et de valeurs consolid\u00e9s: nouveaux types de donn\u00e9es \u00ab VT_YEAR \u00bb, \u00ab VT_DAYMONTH \u00bb et \u00ab VT_TIME \u00bb en tant que sous-ensembles de \u00ab VT_DATETIME \u00bb pour les param\u00e8tres 1-3, en rempla\u00e7ant \u00ab VT_SUMMERPERIOD \u00bb et en ajustant \u00ab VT_VACATIONPROG \u00bb. Nouveaux types de valeurs \u00ab DT_THMS \u00bb pour l'heure compos\u00e9e de heures:minutes:secondes. MQTT: utilisez \u00ab MQTTDeviceID \u00bb comme ID client pour le courtier, qui par d\u00e9faut est toujours \u00ab BSB-LAN \u00bb. ATTENTION: V\u00e9rifiez votre configuration si votre courtier d\u00e9pend de l'ID client de quelque mani\u00e8re que ce soit pour l'autorisation, etc.","title":"Version 2.1"},{"location":"fr/CHANGELOG.html#version-11","text":"10.11.2020 ATTENTION: le param\u00e8tre Push ECS (\u00ab Trinkwasser Push \u00bb) a d\u00fb \u00eatre d\u00e9plac\u00e9 de 1601 \u00e0 1603 car 1601 a une signification \u00ab officielle \u00bb diff\u00e9rente sur certains appareils de chauffage. Veuillez v\u00e9rifier et modifier votre configuration si n\u00e9cessaire. ATTENTION: de nouvelles cat\u00e9gories ont \u00e9t\u00e9 ajout\u00e9es, la plupart des num\u00e9ros de cat\u00e9gorie (en utilisant \u00ab /K \u00bb) seront d\u00e9cal\u00e9s de quelques num\u00e9ros. La commande URL \u00ab /JA \u00bb affiche les valeurs moyennes. De nombreux nouveaux param\u00e8tres d\u00e9cod\u00e9s. Nouveaux param\u00e8tres pour les familles d'appareils 25, 44, 51, 59, 68, 85, 88, 90, 96, 97, 108, 134, 162, 163, 170, 195, 209, 211. Am\u00e9lioration de l'affichage mobile de l'interface Web. Ajout de la d\u00e9finition \u00ab BtSerial \u00bb pour d\u00e9tourner la sortie s\u00e9rie vers Serial2 o\u00f9 un adaptateur Bluetooth peut \u00eatre connect\u00e9 (5V->5V, GND->GND, RX->TX2, TX->RX2). L'adaptateur doit \u00eatre en mode esclave et configur\u00e9 \u00e0 115 200 bps, 8N1. De nombreuses traductions polonaises ajout\u00e9es. Nouveaux types de donn\u00e9es \u00ab VT_BYTE10 \u00bb et \u00ab VT_SPF \u00bb. Correction d'un bogue concernant l'affichage des programmes de temps de chauffage sur le bus PPS. Correction d'un bogue MQTT.","title":"Version 1.1"},{"location":"fr/CHANGELOG.html#version-10","text":"03.08.2020 La commande URL \u00ab /JI \u00bb affiche la configuration au format JSON. La commande URL \u00ab /JC \u00bb obtient la liste des valeurs possibles \u00e0 partir d'une liste de fonctions d\u00e9finies par l'utilisateur. Exemple: \u00ab /JC=505,700,701,702,711,1600,1602 \u00bb. Les t\u00e9l\u00e9grammes de journalisation (param\u00e8tre de journalisation 30 000) \u00e9crivent d\u00e9sormais dans un fichier s\u00e9par\u00e9 (\u00ab journal.txt \u00bb). Il peut \u00eatre r\u00e9initialis\u00e9 avec la commande \u00ab /D0 \u00bb (en m\u00eame temps que datalog.txt) et vid\u00e9 avec la commande \u00ab /DJ \u00bb. La configuration Wi-Fi a \u00e9t\u00e9 supprim\u00e9e car elle n'est plus applicable pour le Due. De nombreux nouveaux param\u00e8tres pour diverses familles d'appareils. Optimisation et restructuration du code, augmentation g\u00e9n\u00e9rale de la vitesse. Nouveaux sch\u00e9mas pour la disposition de la carte V3. De nombreux bogues corrig\u00e9s.","title":"Version 1.0"},{"location":"fr/CHANGELOG.html#version-044","text":"11.05.2020 Ajout de la fonctionnalit\u00e9 de serveur Web via une carte SD et diverses autres am\u00e9liorations de l'utilisateur GitHub dukess. Ajout d'une sortie JSON pour MQTT. Interface Web plus conviviale pour les appareils mobiles. Plus de param\u00e8tres et de familles d'appareils. Derni\u00e8re version enti\u00e8rement test\u00e9e sur Mega 2560. Les futures versions pourront toujours s'ex\u00e9cuter sur la Mega, mais ne seront test\u00e9es que sur l'Arduino Due.","title":"Version 0.44"},{"location":"fr/CHANGELOG.html#version-043","text":"20.02.2020 Prise en charge ajout\u00e9e pour HardwareSerial (Serial1) connexion de l'adaptateur. Utilisez l'\u00e9pingle RX 19 dans la d\u00e9finition du bus pour l'activer. Consultez le manuel/forum pour plus de d\u00e9tails mat\u00e9riels. Ajout de la d\u00e9finition DebugTelnet pour d\u00e9tourner la sortie s\u00e9rie vers un client Telnet (port 23, sans mot de passe) dans \u00ab BSB_LAN_config.h \u00bb. Ajout de la possibilit\u00e9 de contr\u00f4ler BSB-LAN (presque) compl\u00e8tement via le port s\u00e9rie USB. La plupart des commandes sont prises en charge comme leurs homologues URL, c'est-\u00e0-dire \u00ab / /xxx \u00bb pour interroger le param\u00e8tre xxx ou \u00ab / /N \u00bb pour red\u00e9marrer l'Arduino. Changement de l'ID d'appareil par d\u00e9faut de 6 (contr\u00f4leur de pi\u00e8ce \u00ab RGT1 \u00bb) \u00e0 l'ID inutilis\u00e9 66 (\u00ab LAN \u00bb). De nombreux nouveaux param\u00e8tres, ex\u00e9cutez \u00ab /Q \u00bb pour voir les \u00e9ventuels changements pour votre famille d'appareils et nous faire un rapport! Ajout de variables globales (tableaux de 20 octets) \u00ab custom_floats[] \u00bb et \u00ab custom_longs[] \u00bb pour une utilisation avec \u00ab BSB_LAN_custom.h \u00bb, par exemple pour lire des capteurs, etc. La sortie de ces variables se fait via la nouvelle commande URL \u00ab /U \u00bb. Ajout des familles d'appareils 23 et 29 (chaudi\u00e8res Gr\u00fcnenwald). Ajout des familles d'appareils 49, 52, 59 (chaudi\u00e8res Weishaupt). Ajout des familles d'appareils 91, 92, 94, 118, 133, 136, 137, 165, 184, 188 (divers contr\u00f4leurs tels que QAA75 ou AVS37). Ajout de la famille d'appareils 171 (syst\u00e8me de granul\u00e9s de bois B\u00f6sch). Ajout de la famille d'appareils 172 (SensoTherm BLW Split B (RVS21.826F/200)). Ajout des familles d'appareils 186 et 164 (Olymp WHS-500). Ajout de la variante 2 de la famille d'appareils 195 (Thision 19 Plus / LMS14.111B109). Inclusion des param\u00e8tres DHT, 1Wire et de l'\u00e9tat du br\u00fbleur (>20000) dans MQTT. L'anglais est maintenant la langue par d\u00e9faut. Mise \u00e0 jour de diverses traductions. Ajout de fichiers STL pour imprimer un bo\u00eetier avec une imprimante 3D (gr\u00e2ce \u00e0 l'utilisateur FHEM EPo!). D\u00e9placement de tous les capteurs vers \u00ab /T \u00bb, \u00ab /H \u00bb n'est plus utilis\u00e9. Nouveaux param\u00e8tres virtuels 702/703 pour le contr\u00f4leur de pi\u00e8ce Weishaupt. Nouveau param\u00e8tre virtuel 10003 pour d\u00e9finir la temp\u00e9rature ext\u00e9rieure sur les syst\u00e8mes plus r\u00e9cents. Ajout de descriptions de texte pour les phases d'erreur (6706 et suivantes). \u00ab /Q \u00bb est maintenant plus complet. Nouveaux types de donn\u00e9es \u00ab VT_CUSTOM_ENUM \u00bb et \u00ab VT_CUSTOM_BYTE \u00bb pour extraire des informations de t\u00e9l\u00e9grammes non standard (tels que 702/703). Correction d'un bogue: impl\u00e9mentation DHCP (Ethernet).","title":"Version 0.43"},{"location":"fr/CHANGELOG.html#version-042","text":"21.03.2019 Ajout de la localisation! Vous pouvez maintenant aider \u00e0 traduire BSB-LAN dans votre langue! Il vous suffit de copier l'un des fichiers de langue du dossier de localisation (\u00ab LANG_DE.h \u00bb est le plus complet) et de traduire ce que vous pouvez. Les \u00e9l\u00e9ments non traduits seront affich\u00e9s en allemand. Attention: la d\u00e9finition de la langue dans \u00ab BSB_LAN_config.h \u00bb est d\u00e9sormais \u00ab #define LANG \u00bb. Par exemple: \u00ab #define LANG DE \u00bb. Ajout d'une exportation vers un courtier MQTT, utilisez \u00ab log_parameters \u00bb[] dans \u00ab BSB_LAN_config.h \u00bb pour d\u00e9finir les param\u00e8tres et activer la d\u00e9finition \u00ab MQTTBrokerIP \u00bb. Ajout de la prise en charge des modules Wi-Fi tels qu'un ESP8266 ou un Wemos Mega connect\u00e9 \u00e0 Serial3 (RX:15/TX:14) de l'Arduino. L'ESP8266 doit \u00eatre flash\u00e9 avec le microprogramme AT d'Espressif pour fonctionner. Veuillez noter que le Wi-Fi via la s\u00e9rie est, par conception, beaucoup plus lent (seulement 115 kpbs) que les connexions TCP/IP \u00ab pures \u00bb. Ajout d'une nouvelle cat\u00e9gorie \u00ab 34 - Konfiguration / Erweiterungsmodule \u00bb. Toutes les cat\u00e9gories suivantes se d\u00e9placent d'un num\u00e9ro vers le haut! De nombreux nouveaux param\u00e8tres provenant de la famille d'appareils 123, ex\u00e9cutez \u00ab /Q \u00bb pour voir si certains param\u00e8tres fonctionnent \u00e9galement pour votre appareil de chauffage! De nombreux nouveaux param\u00e8tres encore inconnus via une interrogation par force brute :) (num\u00e9ros de param\u00e8tre 10200 et plus). Ajout de nouvelles commandes PPS-Bus, d\u00e9placement des num\u00e9ros de param\u00e8tre \u00e0 15000 et plus. Le mode PPS par d\u00e9faut est d\u00e9sormais \u00ab \u00e9coute \u00bb. Utilisez le troisi\u00e8me param\u00e8tre de la d\u00e9finition du bus pour passer de l'\u00e9coute \u00e0 la commande, 1 pour la commande, tout le reste pour l'\u00e9coute, c'est-\u00e0-dire que BSB bus(68,67,1) envoie des donn\u00e9es \u00e0 la chaudi\u00e8re, BSB bus(68,67) ne re\u00e7oit que des donn\u00e9es de la chaudi\u00e8re/du contr\u00f4leur de pi\u00e8ce. Vous pouvez passer d'un mode \u00e0 l'autre \u00e0 l'ex\u00e9cution avec la commande URL \u00ab /P2,x \u00bb o\u00f9 x est soit 1 (pour la commande) soit autre chose que 1 (pour l'\u00e9coute uniquement). Correction d'un bogue qui a provoqu\u00e9 le plantage des requ\u00eates de bus PPS. Am\u00e9liorations de la stabilit\u00e9 pour le bus PPS. Am\u00e9lioration de la l\u00e9gende du graphique lors de la repr\u00e9sentation de plusieurs param\u00e8tres. Ajout d'une exportation JSON; interroger avec \u00ab /JQ=a,b,c,d... \u00bb ou pousser des requ\u00eates vers \u00ab /JQ \u00bb ou pousser des commandes set vers \u00ab /JS \u00bb. La journalisation des param\u00e8tres MAX! est d\u00e9sormais possible avec le param\u00e8tre de journalisation 20007. Ajout de la famille d'appareils Waterstage WP (119). Ajout de la famille d'appareils WHG Procon (195). Ajout de l'unit\u00e9 au fichier journal ainsi qu'\u00e0 la sortie moyenne. R\u00e9\u00e9criture de l'appariement des appareils dans \u00ab cmd_tbl \u00bb pour prendre en charge \u00e9galement la variante de l'appareil (Ger\u00e4tevariante). Ex\u00e9cutez \u00ab /Q \u00bb pour voir si la transition a fonctionn\u00e9 pour votre appareil! Ajout de \u00ab BSB_LAN_custom_setup.h \u00bb et \u00ab BSB_LAN_custom_global.h \u00bb pour vous permettre d'ajouter du code individuel (meilleur utilis\u00e9 en conjonction avec \u00ab BSB_LAN_custom.h \u00bb). Tous les param\u00e8tres (connus) OEM ont \u00e9t\u00e9 marqu\u00e9s avec le drapeau \u00ab FL_OEM \u00bb. Les param\u00e8tres OEM sont par d\u00e9faut en lecture seule. Pour les rendre accessibles en \u00e9criture, changez \u00ab FL_OEM \u00bb de 5 \u00e0 4 dans \u00ab BSB_LAN_defs.h \u00bb. Am\u00e9lioration des performances pour l'interrogation de plusieurs param\u00e8tres \u00e0 la fois (similaire \u00e0 la requ\u00eate de cat\u00e9gorie). Ajout d'une option de configuration pour d\u00e9finir le sous-r\u00e9seau. \u00ab /Q \u00bb n'a plus besoin de \u00ab #define DEBUG \u00bb. Correction d'un bogue d'adressage de m\u00e9moire ENUM. Correction d'un bogue dans la fonction de r\u00e9initialisation \u00ab /N \u00bb, effacement de l'EEPROM pendant la r\u00e9initialisation avec \u00ab /NE \u00bb. Ajout de favicon.ico. Division de cmdtbl en cmdtbl1 et cmdtbl2 en raison de la limite de taille de struct de 32 Ko d'Arduino, ce qui lib\u00e8re de l'espace pour de nouveaux param\u00e8tres.","title":"Version 0.42"},{"location":"fr/CHANGELOG.html#version-041","text":"17.03.2019 Version interm\u00e9diaire contenant tous les changements de la version 0.42 ci-dessus, \u00e0 l'exception de la localisation, c'est-\u00e0-dire que tous les fragments de texte font toujours partie du code principal.","title":"Version 0.41"},{"location":"fr/CHANGELOG.html#version-040","text":"21.01.2018 Mise en \u0153uvre de l'interrogation des thermostats de chauffage MAX!, affichage avec la commande URL \u00ab /X \u00bb. Voir \u00ab BSB_LAN_custom.h \u00bb pour un exemple d'envoi de la temp\u00e9rature moyenne de la pi\u00e8ce au syst\u00e8me de chauffage. Ajout d'une nouvelle cat\u00e9gorie \u00ab 22 - Energiez\u00e4hler \u00bb - veuillez noter que toutes les cat\u00e9gories suivantes se d\u00e9placent d'un cran vers le haut! Nouveau param\u00e8tre virtuel 1601 (pouss\u00e9e TWW manuelle). Ajout de la famille d'appareils Fujitsu Waterstage WSYP100DG6 (211). Ajout de la famille d'appareils CTC (103). Nouvelle d\u00e9finition \u00ab #define TRUSTED_IP2 \u00bb pour accorder l'acc\u00e8s \u00e0 une deuxi\u00e8me adresse IP locale. Ajout d'une d\u00e9finition facultative \u00ab #define GatewayIP \u00bb dans \u00ab BSB_LAN_config.h \u00bb pour activer la d\u00e9finition de l'adresse du routeur diff\u00e9rente de x.x.x.1. Suppression du param\u00e8tre 10109 car il est identique \u00e0 10000. Ajout d'une fonction pour v\u00e9rifier tous les CommandIDs connus sur votre propre syst\u00e8me de chauffage. Utilisez \u00ab /Q \u00bb apr\u00e8s avoir activ\u00e9 la d\u00e9finition \u00ab #define DEBUG \u00bb dans \u00ab BSB_LAN_config.h \u00bb. Ajout de num\u00e9ros de param\u00e8tre au menu de cat\u00e9gorie. Mise \u00e0 jour de analyze.sh. esp\u00e9rons que cela r\u00e9sout le probl\u00e8me de m\u00e9moire D\u00e9placement des cha\u00eenes HTML vers \u00ab html_strings.h \u00bb.","title":"Version 0.40"},{"location":"fr/CHANGELOG.html#version-039","text":"02.01.2018 Impl\u00e9mentation du protocole PPS-Bus. Voir \u00ab /K40 \u00bb pour les commandes limit\u00e9es disponibles pour ce bus. Utilisez setBusType(2) pour d\u00e9finir le PPS au d\u00e9marrage ou \u00ab /P2 \u00bb pour basculer temporairement. D\u00e9finissez les GPIOs en entr\u00e9e en utilisant \u00ab /Gxx,I \u00bb. D\u00e9finition \u00ab #define CUSTOM_COMMANDS \u00bb ajout\u00e9e. Utilisez ceci dans votre configuration pour inclure du code individuel de \u00ab BSB_LAN_custom.h \u00bb (doit \u00eatre cr\u00e9\u00e9 par vous!) qui est ex\u00e9cut\u00e9 \u00e0 la fin de chaque boucle principale. Les variables \u00ab custom_timer \u00bb et \u00ab custom_timer_compare \u00bb ont \u00e9t\u00e9 ajout\u00e9es pour ex\u00e9cuter du code \u00e0 des intervalles arbitraires. Ajout de la famille d'appareils LogoBloc Unit L-UB 25C (95). plusieurs nouveaux param\u00e8tres ajout\u00e9s. Correction d'un bogue pour la journal","title":"Version 0.39"},{"location":"fr/CHANGELOG.html#version-034","text":"29.05.2017 Les donn\u00e9es de journalisation peuvent maintenant \u00eatre affich\u00e9es sous forme de graphique. L'interface Web peut maintenant afficher et d\u00e9finir les param\u00e8tres de type VT_BIT sous une forme lisible par l'utilisateur. Ajout de descriptions KonfigRGx ; attention : plusieurs sources ont \u00e9t\u00e9 utilis\u00e9es, il n'est pas garanti que les descriptions correspondent \u00e0 votre syst\u00e8me de chauffage individuel. VT_BIT est g\u00e9n\u00e9ralement en lecture seule dans l'interface Web. Pour le d\u00e9finir, utilisez la commande d'URL /S avec la repr\u00e9sentation d\u00e9cimale de la valeur. Correction d'un bug avec VT_SECONDS_SHORT5 , qui affecte les param\u00e8tres 9500 et 9540. Correction d'un bug concernant la famille d'appareils Fujitsu (de 127 \u00e0 170). D\u00e9placement des biblioth\u00e8ques du dossier libraries vers src afin qu'elles puissent \u00eatre incluses sans les copier dans le dossier Arduino libraries . Modification du chemin d'inclusion de DallasTemperature.h pour OneWire.h .","title":"Version 0.34"},{"location":"fr/CHANGELOG.html#version-033","text":"09.05.2017 Plus de d\u00e9finitions de syst\u00e8mes de chauffage en raison de la nouvelle fonction d'auto-d\u00e9tection bas\u00e9e sur la famille d'appareils (param\u00e8tre 6225), ou d\u00e9finissez la variable device_id directement sur la valeur du param\u00e8tre. Deux options de s\u00e9curit\u00e9 suppl\u00e9mentaires : TRUSTED_IP pour limiter l'acc\u00e8s \u00e0 une seule adresse IP, et l'authentification HTTP avec nom d'utilisateur et mot de passe. Les valeurs moyennes sont enregistr\u00e9es sur la carte SD si elle est pr\u00e9sente et que la d\u00e9finition LOGGER est activ\u00e9e. D\u00e9sactiver la journalisation en d\u00e9finissant /L0=0 - de cette fa\u00e7on, vous pouvez activer la d\u00e9finition LOGGER sans remplir la carte SD, mais toujours enregistrer les valeurs moyennes. Nouveaux codes d'erreur pour THISION. Ajout du vidage de la charge utile des donn\u00e9es sur le site Web pour les commandes de type inconnu, les param\u00e8tres non pris en charge sont gris\u00e9s. Activer la journalisation des t\u00e9l\u00e9grammes (param\u00e8tre de journalisation 30000) \u00e9galement en mode surveillance (bsb.cpp et bsb.h mis \u00e0 jour). L'heure du syst\u00e8me de chauffage est d\u00e9sormais r\u00e9cup\u00e9r\u00e9e p\u00e9riodiquement \u00e0 partir des t\u00e9l\u00e9grammes de diffusion, ce qui r\u00e9duit encore l'activit\u00e9 du bus. Nouveau type de donn\u00e9es VT_BIT pour les param\u00e8tres qui d\u00e9finissent des bits individuels. Affichage sous forme de chiffres binaires, la d\u00e9finition utilise toujours la repr\u00e9sentation d\u00e9cimale. Nouveau type de donn\u00e9es VT_TEMP_SHORT5_US pour les temp\u00e9ratures non sign\u00e9es sur un octet divis\u00e9es par 2 (pour l'instant, uniquement 887 Vorlaufsoll NormAussentemp). Nouveau type de donn\u00e9es VT_PERCENT5 pour les temp\u00e9ratures non sign\u00e9es sur un octet divis\u00e9es par 2 (pour l'instant, uniquement 885 Pumpe-PWM Minimum). Nouveau type de donn\u00e9es VT_SECONDS_WORD5 pour les secondes sur deux octets divis\u00e9es par 2 (pour l'instant, uniquement 2232, 9500 et 9540). Nouveau type de donn\u00e9es VT_SECONDS_SHORT4 pour les secondes sur un octet (sign\u00e9 ?) divis\u00e9es par 4 (pour l'instant, uniquement 2235). Nouveau type de donn\u00e9es VT_SECONDS_SHORT5 pour les secondes sur un octet (sign\u00e9 ?) divis\u00e9es par 5 (pour l'instant, uniquement 9500, 9540). Nouveau type de donn\u00e9es VT_SPEED2 pour les rpm sur deux octets (pour l'instant, uniquement 7050). Nettoyage de la fonction set() pour supprimer les cas de doublons apparents. Ajout de cas pour VT_TEMP_WORD , VT_SECONDS_WORD5 , VT_TEMP_SHORT , VT_TEMP_SHORT5 , VT_SECONDS_SHORT4 \u00e0 la fonction set().","title":"Version 0.33"},{"location":"fr/CHANGELOG.html#version-032","text":"18.04.2017 De nombreux nouveaux param\u00e8tres sont pris en charge. La nouvelle interface Web permet de contr\u00f4ler le syst\u00e8me de chauffage sans logiciel suppl\u00e9mentaire ou commandes URL cryptiques. Les commandes URL sont bien s\u00fbr toujours disponibles, il n'est donc pas n\u00e9cessaire de changer quoi que ce soit lors de l'utilisation de FHEM, etc. L'interface Web en allemand est disponible avec la d\u00e9finition LANG_DE . Nouvelle commande URL /LB=x pour journaliser uniquement les messages de diffusion (x=1) ou tous les messages du bus (x=0). Nouvelle commande URL /X pour r\u00e9initialiser l'Arduino (il faut activer la d\u00e9finition RESET dans BSB_LAN_config.h ). Nouveaux param\u00e8tres de journalisation 20002 et 20003 pour les temps et cycles de chargement de l'eau chaude. D\u00e9placement des param\u00e8tres de journalisation DS18B20 de 20010-20019 \u00e0 20200-20299 et des param\u00e8tres de journalisation DHT22 de 20020-20029 \u00e0 20100-20199. D\u00e9placement du param\u00e8tre de journalisation moyen de 20002 \u00e0 20004. D\u00e9finition de nombreux param\u00e8tres en lecture seule car c'est ce qu'ils sont \u00e9videmment (K33-36). Diverses corrections de bugs.","title":"Version 0.32"},{"location":"fr/CHANGELOG.html#version-031","text":"10.04.2017 Augmentation du vidage du fichier journal par un facteur 5 / tant que nous avons encore de la m\u00e9moire, vous pouvez augmenter logbuflen de 100 \u00e0 1000 pour augmenter la vitesse de transfert d'environ 16 \u00e0 18 Ko/s. Ajustement de la surveillance de l'activit\u00e9 de la chaudi\u00e8re en fonction des messages de diffusion pour les syst\u00e8mes Br\u00f6tje. Suppression de la d\u00e9finition PROGNR_5895 car jusqu'\u00e0 pr\u00e9sent, elle a seulement d\u00e9sactiv\u00e9 une d\u00e9finition ENUM. Suppression de la d\u00e9finition PROGNR_6030 car le double ID de commande pouvait \u00eatre r\u00e9solu via les d\u00e9finitions BROETJE / non-BROETJE. Renommage de BROETJE_SOB en BROETJE pour permettre une distinction fine entre les diff\u00e9rents cas BROETJE (par exemple 6800ff). Cela signifie que vous devez maintenant activer DEUX d\u00e9finitions lors de l'utilisation d'un syst\u00e8me Br\u00f6tje : la d\u00e9finition g\u00e9n\u00e9rale BROETJE ainsi que BROETJE_SOB ou BROETJE_BSW . Jetez un coup d'\u0153il \u00e0 votre journal s\u00e9rie pour les param\u00e8tres 6800 afin de voir quels ID de commande correspondent \u00e0 votre syst\u00e8me et activez l'un des deux en cons\u00e9quence. Changement de l'adressage 16 bits de la m\u00e9moire flash en 32 bits pour r\u00e9soudre les probl\u00e8mes de plantage dus \u00e0 des tables PROGMEM de plus en plus grandes - nous avons maintenant beaucoup d'espace pour respirer \u00e0 nouveau pour de nouveaux ID de commande :) Suppression du caract\u00e8re de fin de cha\u00eene \\0 de plusieurs ENUMs qui a conduit \u00e0 des listes ENUM incorrectes. Veuillez garder \u00e0 l'esprit de ne pas terminer les ENUMs par un caract\u00e8re de fin de cha\u00eene \\0 !","title":"Version 0.31"},{"location":"fr/CHANGELOG.html#version-030","text":"22.03.2017 La biblioth\u00e8que Time de Paul Stoffregen (https://github.com/PaulStoffregen/Time) est d\u00e9sormais requise et incluse dans le dossier de la biblioth\u00e8que. Ajout de la journalisation des donn\u00e9es de t\u00e9l\u00e9gramme brut sur la carte SD avec le param\u00e8tre de journalisation 30000. La journalisation des donn\u00e9es de t\u00e9l\u00e9gramme est affect\u00e9e par les commandes /V et /LU . Ajout de la commande /LU=x pour journaliser uniquement les ID de commande connus (x=0) ou inconnus (x=1) lors de la journalisation des donn\u00e9es de t\u00e9l\u00e9gramme. Suppression de la d\u00e9finition USE_BROADCAST , les donn\u00e9es de diffusion sont d\u00e9sormais toujours trait\u00e9es. Nouvelles fonctions internes GetDateTime, TranslateAddr, TranslateType.","title":"Version 0.30"},{"location":"fr/CHANGELOG.html#version-029","text":"07.03.2017 Ajout de la commande /C pour afficher la configuration actuelle. Ajout de la commande /L pour configurer l'intervalle de journalisation et les param\u00e8tres. Ajout d'une option pour la commande /A pour d\u00e9finir les param\u00e8tres de moyenne sur 24 heures pendant l'ex\u00e9cution. Ajout d'un param\u00e8tre sp\u00e9cial 20002 pour la journalisation de la commande /A (moyennes sur 24 heures, n'a de sens que pour les longs intervalles de journalisation). Corrections de bugs pour la journalisation des capteurs DS18B20.","title":"Version 0.29"},{"location":"fr/CHANGELOG.html#version-028","text":"05.03.2017 Ajout de param\u00e8tres sp\u00e9ciaux 20000++ pour la journalisation sur carte SD des commandes /B, /T et /H (voir BSB_LAN_config.h pour des exemples). Ajout d'informations de version \u00e0 l'interface Web BSB_LAN .","title":"Version 0.28"},{"location":"fr/CHANGELOG.html#version-027","text":"01.03.2017 Ajout d'un champ de date au fichier journal (n\u00e9cessite l'envoi de l'heure exacte par le syst\u00e8me de chauffage). /D0 recr\u00e9e le fichier datalog.txt avec l'en-t\u00eate de tableau. Ajout d'un champ \"flags\" \u00e0 la structure de la table de commandes. Actuellement, seul FL_RONLY est pris en charge pour rendre un param\u00e8tre en lecture seule. Ajout de DEFAULT_FLAG dans la configuration. Par d\u00e9faut \u00e0 NULL , c'est-\u00e0-dire que tous les champs sont en lecture/\u00e9criture. La d\u00e9finition \u00e0 FL_RONLY rend tous les param\u00e8tres en lecture seule, par exemple pour un niveau de s\u00e9curit\u00e9 suppl\u00e9mentaire. Les param\u00e8tres individuels peuvent \u00eatre d\u00e9finis sur NULL / FL_RONLY pour rendre uniquement ces param\u00e8tres accessibles en \u00e9criture/lecture seule.","title":"Version 0.27"},{"location":"fr/CHANGELOG.html#version-026","text":"27.02.2017 Ajout de la fonctionnalit\u00e9 de journalisation sur carte micro SD, en utilisant l'emplacement de la carte SD du bouclier Ethernet w5100. Ajout de param\u00e8tres suppl\u00e9mentaires (par exemple 8009).","title":"Version 0.26"},{"location":"fr/CHANGELOG.html#version-025","text":"21.02.2017 Ajout de param\u00e8tres FUJITSU suppl\u00e9mentaires.","title":"Version 0.25"},{"location":"fr/CHANGELOG.html#version-024","text":"14.02.2017 Mise \u00e0 jour du README avec les fonctions ajout\u00e9es. Ajout des traductions allemandes du FAQ et du README, gracieuset\u00e9 d'Ulf Dieckmann.","title":"Version 0.24"},{"location":"fr/CHANGELOG.html#version-023","text":"12.02.2017 Correction de bugs mineurs.","title":"Version 0.23"},{"location":"fr/CHANGELOG.html#version-022","text":"07.02.2017 Ajout de param\u00e8tres FUJITSU suppl\u00e9mentaires. Impl\u00e9mentation (esp\u00e9rons-le) correcte des lectures VT_VOLTAGE . Corrections de bugs mineurs.","title":"Version 0.22"},{"location":"fr/CHANGELOG.html#version-021","text":"06.02.2017 Ajout de nombreux param\u00e8tres pour la pompe \u00e0 chaleur Fujitsu, y compris la nouvelle directive #define FUJITSU pour activer ces param\u00e8tres en raison de num\u00e9ros de param\u00e8tres diff\u00e9rents. Corrections de bugs mineurs.","title":"Version 0.21"},{"location":"fr/CHANGELOG.html#version-020","text":"27.01.2017 Ajout de param\u00e8tres suppl\u00e9mentaires pour Feststoffkessel. Corrections de bugs mineurs.","title":"Version 0.20"},{"location":"fr/CHANGELOG.html#version-019","text":"01.01.2017 Ajout de la commande d'humidit\u00e9 /H , actuellement pour les capteurs DHT22. Ajout de la commande de moyenne sur 24 heures /A , d\u00e9finissez les param\u00e8tres dans BSB_LAN_config.h . Suppression des espaces blancs de fin des cha\u00eenes de menu. Correction de l'ID de commande 0x053D04A2 pour les chauffe-eau THISION. Inclusion de la biblioth\u00e8que DHT de Rob Tillaart car il existe plusieurs biblioth\u00e8ques impl\u00e9mentant le protocole et celle-ci est utilis\u00e9e dans le code pour sa capacit\u00e9 \u00e0 adresser plusieurs capteurs avec un seul objet. Suppression du param\u00e8tre d'URL /temp car il est un doublon de /T . Inclusion d'une boucle pour afficher les capteurs DHT22 dans IPWE. Rendre la compilation des extensions IPWE optionnelle ( #define IPWE ).","title":"Version 0.19"},{"location":"fr/CHANGELOG.html#version-018","text":"22.12.2016 S\u00e9paration de la configuration dans bsb_lan_config.h . S\u00e9paration des d\u00e9finitions de commandes dans bsb_lan_defs.h . Changement des valeurs de retour GPIO de LOW/HIGH \u00e0 1/0. R\u00e9activation et mise \u00e0 jour d'IPWE (d\u00e9finissez les param\u00e8tres dans la configuration). V\u00e9rification des broches prot\u00e9g\u00e9es lors de l'acc\u00e8s \u00e0 GPIO (d\u00e9finissez dans la configuration). Ajout des sch\u00e9mas et des fichiers PCB dans un nouveau sous-dossier \"sch\u00e9mas\".","title":"Version 0.18"},{"location":"fr/CHANGELOG.html#version-017a","text":"20.12.2016 Correction d'erreurs mineures.","title":"Version 0.17a"},{"location":"fr/CHANGELOG.html#version-017","text":"20.12.2016 Fusion de v0.16 avec les modifications de l'utilisateur FHEM miwi.","title":"Version 0.17"},{"location":"fr/CHANGELOG.html#version-016","text":"20.11.2016 Suppression d'IPWE et de l'interface EthRly. Ajout de l'interface GPIO. Fusion des param\u00e8tres de J.Weber. R\u00e9solution des ID de commande en double.","title":"Version 0.16"},{"location":"fr/CHANGELOG.html#version-015a","text":"25.07.2016 Regroupement des commandes d'un projet Python et de ce projet, fusion des deux versions, correction des erreurs \u00e9videntes. Insertion de valeurs num\u00e9riques hypoth\u00e9tiques dans les d\u00e9finitions ENUM o\u00f9 les manuels Broetje documentaient uniquement les textes des messages. Ajout d'informations \u00e0 partir de traces dans une installation Broetje avec un contr\u00f4leur ISR-SSR et une chaudi\u00e8re \u00e0 mazout WOB 25C.","title":"Version 0.15a"},{"location":"fr/CHANGELOG.html#version-015","text":"21.04.2016 Ajout de Solar et Pufferspeicher d'Elco Logon B & Logon B MM.","title":"Version 0.15"},{"location":"fr/CHANGELOG.html#version-014","text":"04.04.2016 Corrections de bugs mineurs pour Broetje SOB. Extension du traitement des diffusions (exp\u00e9rimental).","title":"Version 0.14"},{"location":"fr/CHANGELOG.html#version-013","text":"31.03.2016 Changement de la valeur de r\u00e9sistance dans le chemin de r\u00e9ception de 4k7 \u00e0 1k5. Ajout des valeurs 0x0f et 0x10 \u00e0 Enum8005. Correction des cha\u00eenes pour Zeitprogramme. Ajout d'un d\u00e9lai d'attente pour l'envoi d'un message (1 seconde). Ajout de /T pour interroger les capteurs de temp\u00e9rature One Wire dans les requ\u00eates mixtes. Ajout d'un traitement sp\u00e9cial pour Broetje SOB. Simplification des param\u00e8tres.","title":"Version 0.13"},{"location":"fr/CHANGELOG.html#version-012","text":"09.04.2015 Ajout de ONEWIRE_SENSORS \u00e0 ipwe. Correction du d\u00e9codage des param\u00e8tres pour le syst\u00e8me de chauffage ELCO Thision.","title":"Version 0.12"},{"location":"fr/CHANGELOG.html#version-011","text":"07.04.2015 Correction du d\u00e9codage des param\u00e8tres pour le syst\u00e8me de chauffage ELCO Thision.","title":"Version 0.11"},{"location":"fr/CHANGELOG.html#version-010","text":"15.03.2015 Ajout de param\u00e8tres suppl\u00e9mentaires pour le syst\u00e8me de chauffage ELCO Thision.","title":"Version 0.10"},{"location":"fr/CHANGELOG.html#version-09","text":"09.03.2015 Ajout de param\u00e8tres suppl\u00e9mentaires pour le syst\u00e8me de chauffage ELCO Thision. printTelegramm renvoie la cha\u00eene de valeur pour un traitement ult\u00e9rieur.","title":"Version 0.9"},{"location":"fr/CHANGELOG.html#version-08","text":"05.03.2015 Ajout de param\u00e8tres pour le syst\u00e8me de chauffage ELCO Thision. Ajout de l'extension IPWE. Corrections de bugs mineurs.","title":"Version 0.8"},{"location":"fr/CHANGELOG.html#version-07","text":"06.02.2015 Ajout de la fonctionnalit\u00e9 de surveillance du bus.","title":"Version 0.7"},{"location":"fr/CHANGELOG.html#version-06","text":"02.02.2015 Renommage de SoftwareSerial en BSBSoftwareSerial. Changement de la structure de dossiers pour permettre une construction simple avec le kit de d\u00e9veloppement Arduino.","title":"Version 0.6"},{"location":"fr/CHANGELOG.html#version-05","text":"**02.","title":"Version 0.5"},{"location":"fr/bsb-lan_adapter.html","text":"L'adaptateur BSB-LAN Pour avoir un adaptateur - contactez Frederik \u00e0 bsb(\u00e4t)code-it.de (en allemand ou en anglais) pour plus de d\u00e9tails. Pour connecter votre syst\u00e8me de chauffage \u00e0 un microcontr\u00f4leur, vous avez besoin d'une carte \u00e9lectronique qui effectue la conversion de niveau logique: L'adaptateur est ensuite branch\u00e9 directement sur le microcontr\u00f4leur, soit sous les broches de l'ESP32-NodeMCU, soit sur le connecteur UEXT de l'Olimex: Les deux types d'ESP32 (Olimex et ESP32-NoceMCU) ne diff\u00e8rent que par l'emplacement de leurs connecteurs, les autres parties de la carte \u00e9tant identiques. La carte Arduino Due contient une puce EEPROM car la Due n'est pas \u00e9quip\u00e9e d'une EEPROM. Par cons\u00e9quent, vous pouvez r\u00e9utiliser la carte Arduino Due sur un microcontr\u00f4leur ESP32 (si vous connectez les broches correctes avec des fils), mais vous ne pouvez pas utiliser un adaptateur ESP32 sur une Arduino Due. Microcontr\u00f4leurs appropri\u00e9s BSB-LAN peut \u00eatre install\u00e9 sur trois types diff\u00e9rents de microcontr\u00f4leurs: ESP32-Olimex ESP32-NodeMCU (version 30 broches uniquement!) Arduino Due. Olimex produit plusieurs types de cartes: Nous recommandons soit l' Olimex ESP32-EVB soit l' Olimex ESP32-POE-ISO . La simple version POE (sans \"ISO\") n'est pas recommand\u00e9e car elle ne permet pas de se connecter \u00e0 la fois \u00e0 Ethernet PoE et \u00e0 USB. L' Arduino Due n\u00e9cessite un Shield Ethernet pour acc\u00e9der au r\u00e9seau local. Chacun des diff\u00e9rents contr\u00f4leurs a ses avantages et ses inconv\u00e9nients: Fonctionnalit\u00e9 ESP32-Olimex ESP32-POE-ISO ESP32-NodeMCU Arduino Due Ethernet/LAN X X - X WiFi/WLAN X X X - Mise \u00e0 jour via OTA X X X - Carte micro-SD int\u00e9gr\u00e9e X X - - GPIO accessibles 2 (GPIO13/16) quelques-uns quelques-uns beaucoup","title":"L'adaptateur BSB-LAN"},{"location":"fr/bsb-lan_adapter.html#ladaptateur-bsb-lan","text":"","title":"L'adaptateur BSB-LAN"},{"location":"fr/bsb-lan_adapter.html#pour-avoir-un-adaptateur-contactez-frederik-a-bsbatcode-itde-en-allemand-ou-en-anglais-pour-plus-de-details","text":"Pour connecter votre syst\u00e8me de chauffage \u00e0 un microcontr\u00f4leur, vous avez besoin d'une carte \u00e9lectronique qui effectue la conversion de niveau logique: L'adaptateur est ensuite branch\u00e9 directement sur le microcontr\u00f4leur, soit sous les broches de l'ESP32-NodeMCU, soit sur le connecteur UEXT de l'Olimex: Les deux types d'ESP32 (Olimex et ESP32-NoceMCU) ne diff\u00e8rent que par l'emplacement de leurs connecteurs, les autres parties de la carte \u00e9tant identiques. La carte Arduino Due contient une puce EEPROM car la Due n'est pas \u00e9quip\u00e9e d'une EEPROM. Par cons\u00e9quent, vous pouvez r\u00e9utiliser la carte Arduino Due sur un microcontr\u00f4leur ESP32 (si vous connectez les broches correctes avec des fils), mais vous ne pouvez pas utiliser un adaptateur ESP32 sur une Arduino Due.","title":"Pour avoir un adaptateur - contactez Frederik \u00e0 bsb(\u00e4t)code-it.de (en allemand ou en anglais) pour plus de d\u00e9tails."},{"location":"fr/bsb-lan_adapter.html#microcontroleurs-appropries","text":"BSB-LAN peut \u00eatre install\u00e9 sur trois types diff\u00e9rents de microcontr\u00f4leurs: ESP32-Olimex ESP32-NodeMCU (version 30 broches uniquement!) Arduino Due. Olimex produit plusieurs types de cartes: Nous recommandons soit l' Olimex ESP32-EVB soit l' Olimex ESP32-POE-ISO . La simple version POE (sans \"ISO\") n'est pas recommand\u00e9e car elle ne permet pas de se connecter \u00e0 la fois \u00e0 Ethernet PoE et \u00e0 USB. L' Arduino Due n\u00e9cessite un Shield Ethernet pour acc\u00e9der au r\u00e9seau local. Chacun des diff\u00e9rents contr\u00f4leurs a ses avantages et ses inconv\u00e9nients: Fonctionnalit\u00e9 ESP32-Olimex ESP32-POE-ISO ESP32-NodeMCU Arduino Due Ethernet/LAN X X - X WiFi/WLAN X X X - Mise \u00e0 jour via OTA X X X - Carte micro-SD int\u00e9gr\u00e9e X X - - GPIO accessibles 2 (GPIO13/16) quelques-uns quelques-uns beaucoup","title":"Microcontr\u00f4leurs appropri\u00e9s"},{"location":"fr/bus_systems.html","text":"Le bus BSB/LPB/PPS D\u00e9velopp\u00e9 \u00e0 la fin du dernier mill\u00e9naire sur la base du BatiBUS (plus d'informations sont disponibles ici et ici ), de nombreux contr\u00f4leurs de syst\u00e8mes de chauffage Siemens utilisent toujours le m\u00eame type de bus physique pour communiquer avec les unit\u00e9s de pi\u00e8ce et d'autres appareils de chauffage. Bien qu'une vitesse de bus de seulement 4800 bits par seconde puisse sembler anachronique de nos jours, elle fournit toujours un protocole de transmission stable et robuste qui est encore aujourd'hui parfaitement suffisant pour transmettre de courts messages de quelques dizaines d'octets sur des lignes pouvant atteindre un kilom\u00e8tre de long. La topologie de bus permet \u00e9galement de connecter BSB-LAN \u00e0 n'importe quel point: \u00e0 l'unit\u00e9 de pi\u00e8ce, au syst\u00e8me de chauffage ou \u00e0 tout endroit o\u00f9 les lignes de bus sont disponibles. Vous pouvez m\u00eame ajouter les deux fils pour BSB-LAN dans un emplacement d\u00e9j\u00e0 \"occup\u00e9\" et cela n'endommagera pas l'autre appareil (en supposant une installation correcte). En plus de la m\u00eame couche physique, trois syst\u00e8mes de bus, BSB, LPB et PPS, s'occupent de diff\u00e9rentes t\u00e2ches et, bien que BSB et LPB doivent toujours \u00eatre pr\u00e9f\u00e9r\u00e9s lorsqu'ils sont disponibles, PPS fournit n\u00e9anmoins un ensemble de param\u00e8tres qui est g\u00e9n\u00e9ralement tout \u00e0 fait suffisant pour l'utilisateur moyen. BSB-LAN fonctionne sur l'un de ces bus et le passage de l'un \u00e0 l'autre n\u00e9cessite simplement de modifier quelques param\u00e8tres. Le bus du syst\u00e8me de chaudi\u00e8re (BSB) BSB est le syst\u00e8me de bus le plus courant dans les contr\u00f4leurs Siemens depuis 10 \u00e0 15 ans. Il s'agit du successeur du syst\u00e8me PPS, avec lequel il partage les m\u00eames param\u00e8tres physiques, mais il est beaucoup plus polyvalent: au lieu de quelques dizaines de param\u00e8tres, il peut en acc\u00e9der \u00e0 des centaines et les regrouper en diff\u00e9rentes cat\u00e9gories pour faciliter la navigation. Il s'agit d'un protocole bas\u00e9 sur les transactions, dans lequel la plupart des messages sont envoy\u00e9s d'un appareil \u00e0 un autre, et le destinataire renvoie un type de retour, par exemple si la t\u00e2che a pu \u00eatre effectu\u00e9e ou si elle contenait des donn\u00e9es non valides. Bien que BSB soit capable d'adresser plusieurs appareils sur le bus, il n'est pas utilis\u00e9 dans les syst\u00e8mes avec plus d'un appareil de chauffage. L'appareil de chauffage a toujours l'ID 0 , l'unit\u00e9 d'affichage sur le syst\u00e8me de chauffage a l'ID 10 (ou 0x0A en hexad\u00e9cimal) et l'unit\u00e9 de pi\u00e8ce standard a l'ID 6 . BSB-LAN a l'ID 66 ou 0x42 en hexad\u00e9cimal. Les unit\u00e9s de pi\u00e8ce qui \"parlent\" BSB sont, par exemple, les QAA55 et les QAA75. Le bus de processus local (LPB) LPB a \u00e9t\u00e9 introduit plus ou moins en m\u00eame temps que PPS, qu'il compl\u00e9tait en termes de communication avec d'autres appareils de chauffage: alors que PPS \u00e9tait utilis\u00e9 pour communiquer avec l'unit\u00e9 de pi\u00e8ce, LPB \u00e9tait utilis\u00e9 pour envoyer des commandes d'un appareil de chauffage principal \u00e0 un ou plusieurs appareils de chauffage auxiliaires, par exemple dans une configuration en cascade. \u00c0 l'\u00e9poque, la plupart des informations transmises via LPB \u00e9taient li\u00e9es aux composants internes du syst\u00e8me de chauffage (telles que les donn\u00e9es des capteurs ou les temp\u00e9ratures de consigne internes), tandis que les param\u00e8tres pertinents pour l'utilisateur (tels que la temp\u00e9rature de confort) n'\u00e9taient disponibles que via PPS. De nos jours, les appareils de chauffage qui offrent \u00e0 la fois LPB et BSB ont le m\u00eame type de donn\u00e9es de param\u00e8tres disponibles sur les deux syst\u00e8mes de bus. LPB utilise un sch\u00e9ma d'adressage sp\u00e9cifique avec des segments et des appareils. Chaque segment de 0 \u00e0 15 peut contenir jusqu'\u00e0 15 appareils (de 1 \u00e0 15). Lors de l'\u00e9criture de ces adresses, le segment et l'appareil sont s\u00e9par\u00e9s par un deux-points: 00:01 ou 04:03 . Pour convertir l'adresse bas\u00e9e sur le segment en ID de destination requis pour BSB-LAN, la formule est la suivante: SEGMENT multipli\u00e9 par 16 plus APPAREIL moins un. Exemple: l'appareil 3 du segment 4 est \u00e9gal \u00e0 4 * 16 + 3 - 1 = 66. L'unit\u00e9 de chauffage principale est par d\u00e9finition 00:01 , ce qui correspond \u00e0 un ID de destination 0. Pour en savoir plus sur le syst\u00e8me LPB et son d\u00e9ploiement, vous pouvez consulter ces deux documents de la fin des ann\u00e9es 1990, l'un couvre les donn\u00e9es syst\u00e8me de base qui couvrent la conceptualisation d'un r\u00e9seau LPB, et l'autre traite des donn\u00e9es d'ing\u00e9nierie de base et fournit des d\u00e9tails sur les longueurs et diam\u00e8tres de c\u00e2ble, etc. \u00c0 l'exception de certains radiateurs Weishaut, les unit\u00e9s de pi\u00e8ce ne sont pas connect\u00e9es au syst\u00e8me de chauffage via LPB. Les mod\u00e8les plus r\u00e9cents utilisent BSB pour cette t\u00e2che, tandis que les mod\u00e8les plus anciens utilisent soit PPS, soit dans certains cas OpenTherm. L'interface point \u00e0 point (PPS) L'interface point \u00e0 point (PPS, pour \"Punkt-zu-Punkt Schnittstelle\" en allemand) est compatible avec les autres syst\u00e8mes au niveau physique, mais pas au niveau de l'\u00e9change de t\u00e9l\u00e9grammes de messages. Alors que BSB et LPB communiquent en envoyant des t\u00e9l\u00e9grammes et en accusant r\u00e9ception de leur r\u00e9ception, PPS est domin\u00e9 par l'unit\u00e9 de chauffage. L'unit\u00e9 de chauffage envoie constamment ses donn\u00e9es \u00e0 l'unit\u00e9 de pi\u00e8ce et indique \u00e0 l'unit\u00e9 de pi\u00e8ce quand et quel type d'informations elle doit envoyer. Il peut donc falloir jusqu'\u00e0 quelques minutes avant qu'une valeur d\u00e9finie dans BSB-LAN ne soit r\u00e9ellement demand\u00e9e par le syst\u00e8me de chauffage et affich\u00e9e. Il s'agit \u00e9galement d'un protocole tr\u00e8s sensible \u00e0 la temporisation, de sorte que l'ex\u00e9cution d'autres t\u00e2ches longues par BSB-LAN entra\u00eenera une interruption temporaire et un \u00e9ventuel message d'erreur sur le syst\u00e8me de chauffage. Cependant, apr\u00e8s un court moment, cela devrait se r\u00e9soudre de soi lorsque les deux composants \"communiquent\" \u00e0 nouveau. Contrairement \u00e0 BSB et LPB, les modifications apport\u00e9es dans BSB-LAN n'ont pas d'effet imm\u00e9diat. La modification de valeurs, par exemple comme la temp\u00e9rature de consigne de confort de la pi\u00e8ce, sera tout d'abord stock\u00e9e en interne dans BSB-LAN, puis envoy\u00e9e au syst\u00e8me de chauffage une fois que celui-ci aura demand\u00e9 \u00e0 l'unit\u00e9 de pi\u00e8ce (c'est-\u00e0-dire BSB-LAN) de le faire. Cela peut prendre jusqu'\u00e0 une minute ou plus, il ne faut donc pas \u00eatre confus si les param\u00e8tres ne s'affichent pas imm\u00e9diatement sur le radiateur, comme c'est le cas avec BSB et LPB. Avec PPS, BSB-LAN peut fonctionner dans deux modes: \u00e9coute passive ou en tant qu'unit\u00e9 de pi\u00e8ce. En mode passif, BSB-LAN peut simplement \u00e9couter les donn\u00e9es \u00e9chang\u00e9es entre l'unit\u00e9 de pi\u00e8ce et l'appareil de chauffage. Il n'est pas possible d'envoyer ses propres donn\u00e9es, tout simplement parce qu'elles seraient \u00e9cras\u00e9es en un rien de temps par le m\u00eame type de donn\u00e9es provenant de l'unit\u00e9 de pi\u00e8ce. Pour envoyer des donn\u00e9es de param\u00e8tres au syst\u00e8me de chauffage, BSB-LAN doit fonctionner en mode \"unit\u00e9 de pi\u00e8ce\", ce qui signifie que toute unit\u00e9 de pi\u00e8ce doit \u00eatre retir\u00e9e du syst\u00e8me de chauffage. Dans ce cas, il est particuli\u00e8rement important d'envoyer r\u00e9guli\u00e8rement une valeur de temp\u00e9rature de pi\u00e8ce \u00e0 BSB-LAN, qui \u00e0 son tour enverra cette valeur \u00e0 l'appareil de chauffage. Seule une valeur de temp\u00e9rature ext\u00e9rieure peut \u00eatre ignor\u00e9e si le radiateur fonctionne uniquement sur la temp\u00e9rature ext\u00e9rieure. BSB-LAN stocke certaines valeurs dans sa m\u00e9moire EEPROM non volatile, mais certaines valeurs doivent \u00eatre r\u00e9initialis\u00e9es apr\u00e8s un red\u00e9marrage, telles que la temp\u00e9rature de consigne de la pi\u00e8ce. Il s'agit d'\u00e9viter de stocker une valeur de param\u00e8tre qui est devenue non valide mais qui est toujours envoy\u00e9e car elle est stock\u00e9e dans l'EEPROM. Les unit\u00e9s de pi\u00e8ce couramment utilis\u00e9es avec les syst\u00e8mes de chauffage qui prennent en charge PPS sont les QAA50 et les QAA70.","title":"Les BSB/LPB/PS bus"},{"location":"fr/bus_systems.html#le-bus-bsblpbpps","text":"D\u00e9velopp\u00e9 \u00e0 la fin du dernier mill\u00e9naire sur la base du BatiBUS (plus d'informations sont disponibles ici et ici ), de nombreux contr\u00f4leurs de syst\u00e8mes de chauffage Siemens utilisent toujours le m\u00eame type de bus physique pour communiquer avec les unit\u00e9s de pi\u00e8ce et d'autres appareils de chauffage. Bien qu'une vitesse de bus de seulement 4800 bits par seconde puisse sembler anachronique de nos jours, elle fournit toujours un protocole de transmission stable et robuste qui est encore aujourd'hui parfaitement suffisant pour transmettre de courts messages de quelques dizaines d'octets sur des lignes pouvant atteindre un kilom\u00e8tre de long. La topologie de bus permet \u00e9galement de connecter BSB-LAN \u00e0 n'importe quel point: \u00e0 l'unit\u00e9 de pi\u00e8ce, au syst\u00e8me de chauffage ou \u00e0 tout endroit o\u00f9 les lignes de bus sont disponibles. Vous pouvez m\u00eame ajouter les deux fils pour BSB-LAN dans un emplacement d\u00e9j\u00e0 \"occup\u00e9\" et cela n'endommagera pas l'autre appareil (en supposant une installation correcte). En plus de la m\u00eame couche physique, trois syst\u00e8mes de bus, BSB, LPB et PPS, s'occupent de diff\u00e9rentes t\u00e2ches et, bien que BSB et LPB doivent toujours \u00eatre pr\u00e9f\u00e9r\u00e9s lorsqu'ils sont disponibles, PPS fournit n\u00e9anmoins un ensemble de param\u00e8tres qui est g\u00e9n\u00e9ralement tout \u00e0 fait suffisant pour l'utilisateur moyen. BSB-LAN fonctionne sur l'un de ces bus et le passage de l'un \u00e0 l'autre n\u00e9cessite simplement de modifier quelques param\u00e8tres.","title":"Le bus BSB/LPB/PPS"},{"location":"fr/bus_systems.html#le-bus-du-systeme-de-chaudiere-bsb","text":"BSB est le syst\u00e8me de bus le plus courant dans les contr\u00f4leurs Siemens depuis 10 \u00e0 15 ans. Il s'agit du successeur du syst\u00e8me PPS, avec lequel il partage les m\u00eames param\u00e8tres physiques, mais il est beaucoup plus polyvalent: au lieu de quelques dizaines de param\u00e8tres, il peut en acc\u00e9der \u00e0 des centaines et les regrouper en diff\u00e9rentes cat\u00e9gories pour faciliter la navigation. Il s'agit d'un protocole bas\u00e9 sur les transactions, dans lequel la plupart des messages sont envoy\u00e9s d'un appareil \u00e0 un autre, et le destinataire renvoie un type de retour, par exemple si la t\u00e2che a pu \u00eatre effectu\u00e9e ou si elle contenait des donn\u00e9es non valides. Bien que BSB soit capable d'adresser plusieurs appareils sur le bus, il n'est pas utilis\u00e9 dans les syst\u00e8mes avec plus d'un appareil de chauffage. L'appareil de chauffage a toujours l'ID 0 , l'unit\u00e9 d'affichage sur le syst\u00e8me de chauffage a l'ID 10 (ou 0x0A en hexad\u00e9cimal) et l'unit\u00e9 de pi\u00e8ce standard a l'ID 6 . BSB-LAN a l'ID 66 ou 0x42 en hexad\u00e9cimal. Les unit\u00e9s de pi\u00e8ce qui \"parlent\" BSB sont, par exemple, les QAA55 et les QAA75.","title":"Le bus du syst\u00e8me de chaudi\u00e8re (BSB)"},{"location":"fr/bus_systems.html#le-bus-de-processus-local-lpb","text":"LPB a \u00e9t\u00e9 introduit plus ou moins en m\u00eame temps que PPS, qu'il compl\u00e9tait en termes de communication avec d'autres appareils de chauffage: alors que PPS \u00e9tait utilis\u00e9 pour communiquer avec l'unit\u00e9 de pi\u00e8ce, LPB \u00e9tait utilis\u00e9 pour envoyer des commandes d'un appareil de chauffage principal \u00e0 un ou plusieurs appareils de chauffage auxiliaires, par exemple dans une configuration en cascade. \u00c0 l'\u00e9poque, la plupart des informations transmises via LPB \u00e9taient li\u00e9es aux composants internes du syst\u00e8me de chauffage (telles que les donn\u00e9es des capteurs ou les temp\u00e9ratures de consigne internes), tandis que les param\u00e8tres pertinents pour l'utilisateur (tels que la temp\u00e9rature de confort) n'\u00e9taient disponibles que via PPS. De nos jours, les appareils de chauffage qui offrent \u00e0 la fois LPB et BSB ont le m\u00eame type de donn\u00e9es de param\u00e8tres disponibles sur les deux syst\u00e8mes de bus. LPB utilise un sch\u00e9ma d'adressage sp\u00e9cifique avec des segments et des appareils. Chaque segment de 0 \u00e0 15 peut contenir jusqu'\u00e0 15 appareils (de 1 \u00e0 15). Lors de l'\u00e9criture de ces adresses, le segment et l'appareil sont s\u00e9par\u00e9s par un deux-points: 00:01 ou 04:03 . Pour convertir l'adresse bas\u00e9e sur le segment en ID de destination requis pour BSB-LAN, la formule est la suivante: SEGMENT multipli\u00e9 par 16 plus APPAREIL moins un. Exemple: l'appareil 3 du segment 4 est \u00e9gal \u00e0 4 * 16 + 3 - 1 = 66. L'unit\u00e9 de chauffage principale est par d\u00e9finition 00:01 , ce qui correspond \u00e0 un ID de destination 0. Pour en savoir plus sur le syst\u00e8me LPB et son d\u00e9ploiement, vous pouvez consulter ces deux documents de la fin des ann\u00e9es 1990, l'un couvre les donn\u00e9es syst\u00e8me de base qui couvrent la conceptualisation d'un r\u00e9seau LPB, et l'autre traite des donn\u00e9es d'ing\u00e9nierie de base et fournit des d\u00e9tails sur les longueurs et diam\u00e8tres de c\u00e2ble, etc. \u00c0 l'exception de certains radiateurs Weishaut, les unit\u00e9s de pi\u00e8ce ne sont pas connect\u00e9es au syst\u00e8me de chauffage via LPB. Les mod\u00e8les plus r\u00e9cents utilisent BSB pour cette t\u00e2che, tandis que les mod\u00e8les plus anciens utilisent soit PPS, soit dans certains cas OpenTherm.","title":"Le bus de processus local (LPB)"},{"location":"fr/bus_systems.html#linterface-point-a-point-pps","text":"L'interface point \u00e0 point (PPS, pour \"Punkt-zu-Punkt Schnittstelle\" en allemand) est compatible avec les autres syst\u00e8mes au niveau physique, mais pas au niveau de l'\u00e9change de t\u00e9l\u00e9grammes de messages. Alors que BSB et LPB communiquent en envoyant des t\u00e9l\u00e9grammes et en accusant r\u00e9ception de leur r\u00e9ception, PPS est domin\u00e9 par l'unit\u00e9 de chauffage. L'unit\u00e9 de chauffage envoie constamment ses donn\u00e9es \u00e0 l'unit\u00e9 de pi\u00e8ce et indique \u00e0 l'unit\u00e9 de pi\u00e8ce quand et quel type d'informations elle doit envoyer. Il peut donc falloir jusqu'\u00e0 quelques minutes avant qu'une valeur d\u00e9finie dans BSB-LAN ne soit r\u00e9ellement demand\u00e9e par le syst\u00e8me de chauffage et affich\u00e9e. Il s'agit \u00e9galement d'un protocole tr\u00e8s sensible \u00e0 la temporisation, de sorte que l'ex\u00e9cution d'autres t\u00e2ches longues par BSB-LAN entra\u00eenera une interruption temporaire et un \u00e9ventuel message d'erreur sur le syst\u00e8me de chauffage. Cependant, apr\u00e8s un court moment, cela devrait se r\u00e9soudre de soi lorsque les deux composants \"communiquent\" \u00e0 nouveau. Contrairement \u00e0 BSB et LPB, les modifications apport\u00e9es dans BSB-LAN n'ont pas d'effet imm\u00e9diat. La modification de valeurs, par exemple comme la temp\u00e9rature de consigne de confort de la pi\u00e8ce, sera tout d'abord stock\u00e9e en interne dans BSB-LAN, puis envoy\u00e9e au syst\u00e8me de chauffage une fois que celui-ci aura demand\u00e9 \u00e0 l'unit\u00e9 de pi\u00e8ce (c'est-\u00e0-dire BSB-LAN) de le faire. Cela peut prendre jusqu'\u00e0 une minute ou plus, il ne faut donc pas \u00eatre confus si les param\u00e8tres ne s'affichent pas imm\u00e9diatement sur le radiateur, comme c'est le cas avec BSB et LPB. Avec PPS, BSB-LAN peut fonctionner dans deux modes: \u00e9coute passive ou en tant qu'unit\u00e9 de pi\u00e8ce. En mode passif, BSB-LAN peut simplement \u00e9couter les donn\u00e9es \u00e9chang\u00e9es entre l'unit\u00e9 de pi\u00e8ce et l'appareil de chauffage. Il n'est pas possible d'envoyer ses propres donn\u00e9es, tout simplement parce qu'elles seraient \u00e9cras\u00e9es en un rien de temps par le m\u00eame type de donn\u00e9es provenant de l'unit\u00e9 de pi\u00e8ce. Pour envoyer des donn\u00e9es de param\u00e8tres au syst\u00e8me de chauffage, BSB-LAN doit fonctionner en mode \"unit\u00e9 de pi\u00e8ce\", ce qui signifie que toute unit\u00e9 de pi\u00e8ce doit \u00eatre retir\u00e9e du syst\u00e8me de chauffage. Dans ce cas, il est particuli\u00e8rement important d'envoyer r\u00e9guli\u00e8rement une valeur de temp\u00e9rature de pi\u00e8ce \u00e0 BSB-LAN, qui \u00e0 son tour enverra cette valeur \u00e0 l'appareil de chauffage. Seule une valeur de temp\u00e9rature ext\u00e9rieure peut \u00eatre ignor\u00e9e si le radiateur fonctionne uniquement sur la temp\u00e9rature ext\u00e9rieure. BSB-LAN stocke certaines valeurs dans sa m\u00e9moire EEPROM non volatile, mais certaines valeurs doivent \u00eatre r\u00e9initialis\u00e9es apr\u00e8s un red\u00e9marrage, telles que la temp\u00e9rature de consigne de la pi\u00e8ce. Il s'agit d'\u00e9viter de stocker une valeur de param\u00e8tre qui est devenue non valide mais qui est toujours envoy\u00e9e car elle est stock\u00e9e dans l'EEPROM. Les unit\u00e9s de pi\u00e8ce couramment utilis\u00e9es avec les syst\u00e8mes de chauffage qui prennent en charge PPS sont les QAA50 et les QAA70.","title":"L'interface point \u00e0 point (PPS)"},{"location":"fr/configure.html","text":"Configuration Il existe deux fa\u00e7ons de configurer BSB-LAN : Via le fichier de configuration BSB_LAN_config.h Via l'interface web en appelant http://bsb-lan.local/C (ou l'adresse IP correspondante) Pour la configuration initiale, certains param\u00e8tres doivent \u00eatre configur\u00e9s dans le fichier de configuration (tels que les param\u00e8tres de langue et de r\u00e9seau). Toutes les modifications ult\u00e9rieures peuvent \u00eatre effectu\u00e9es via l'interface web. Il peut cependant \u00eatre utile de configurer (\u00e9galement) le fichier de configuration dans le cas o\u00f9 vous devriez changer de microcontr\u00f4leur. Presque tous les param\u00e8tres existent \u00e9galement dans l'interface web et vice versa. Sur un microcontr\u00f4leur bas\u00e9 sur ESP32, BSB-LAN configurera son propre point d'acc\u00e8s sans fil nomm\u00e9 BSB-LAN s'il ne peut pas se connecter \u00e0 un r\u00e9seau. Ainsi, m\u00eame sans aucune configuration suppl\u00e9mentaire, vous pouvez vous connecter \u00e0 ce point d'acc\u00e8s avec le mot de passe BSB-LPB-PPS-LAN et acc\u00e9der \u00e0 BSB-LAN via l'adresse IP http://192.168.4.1 et poursuivre la configuration de cette mani\u00e8re. Gardez \u00e0 l'esprit que si vous avez d\u00e9fini un mot de passe ou un nom d'utilisateur et un mot de passe HTTP, ceux-ci sont toujours requis si ces d\u00e9tails sont stock\u00e9s dans l'EEPROM ou BSB_LAN_config.h . Configuration via BSB_LAN_config.h Le fichier de configuration se compose de variables qui sont utilis\u00e9es dans d'autres parties de BSB-LAN. Il est donc important de ne modifier que le contenu des variables (c'est-\u00e0-dire les param\u00e8tres) et pas le type des variables. Ainsi, si vous avez par exemple le param\u00e8tre byte ip_addr[4] = {192,168,178,88} ; vous ne devez pas modifier la partie byte ip_addr[4] = , mais seulement le contenu, dans ce cas l'adresse IP s\u00e9par\u00e9e par des virgules. Configuration via l'interface web La configuration de BSB-LAN via l'interface web est assez simple, car vous n'avez pas \u00e0 vous soucier des noms de variables, mais vous disposez de descriptions claires. Au d\u00e9part, seul un nombre limit\u00e9 d'options de configuration sont affich\u00e9es dans l'interface web. Pour y acc\u00e9der \u00e0 l'ensemble des param\u00e8tres, vous devez d\u00e9finir l'option \"extended configuration\" sur \"on\". Aper\u00e7u des options de configuration table th:first-of-type { width: 20% ; } table th:nth-of-type(2) { width: 20% ; } table th:nth-of-type(3) { width: 40% ; } table th:nth-of-type(4) { width: 20% ; } Param\u00e8tres g\u00e9n\u00e9raux Interface Web Fichier de configuration Fonctionnalit\u00e9 Param\u00e8tres possibles - ** #define LANG ** D\u00e9finir la langue DE , EN , FR et autres codes de pays ISO Afficher la configuration \u00e9tendue - Afficher toutes les options de configuration On Off Lire la configuration depuis l'EEPROM UseEEPROM Lire la configuration depuis l'EEPROM ou le fichier On ( 1 ) Off ( 0 ) Niveau d'acc\u00e8s en \u00e9criture - Si DEFAULT_FLAG est d\u00e9fini sur FL_SW_CTL_RONLY , vous pouvez d\u00e9finir le niveau d'acc\u00e8s en \u00e9criture ici. Off (lecture seule) On (Standard) On (Complet) V\u00e9rifier les mises \u00e0 jour enable_version_check Interroger le serveur BSB-LAN pour une nouvelle version disponible On ( true ) Mise \u00e0 jour OTA enable_ota_update Activer la mise \u00e0 jour OTA (Over-The-Air) On ( true ) \u00c9conomie d'\u00e9nergie esp32_save_energy R\u00e9duit la vitesse, \u00e9conomise l'\u00e9nergie. Ne pas activer lors de l'utilisation du Wi-Fi. On ( true ) Off ( false ) Syst\u00e8me de fichiers du serveur Web webserver Active le service de fichiers depuis la carte SD On ( true ) Off ( false ) - #define DEFAULT_FLAG D\u00e9finir l'acc\u00e8s en lecture/\u00e9criture au syst\u00e8me de chauffage. FL_RONLY d\u00e9finit tous les param\u00e8tres en lecture seule. FL_SW_CTL_RONLY permet de d\u00e9finir l'acc\u00e8s en lecture/\u00e9criture via le param\u00e8tre de configuration de l'interface web. 0 rend tous les param\u00e8tres pouvant \u00eatre \u00e9crits, writable. N'utilisez pas cette option sauf instruction contraire ! FL_RONLY FL_SW_CTL_RONLY 0 Param\u00e8tres de bus Interface Web Fichier de configuration Fonctionnalit\u00e9 Param\u00e8tres possibles Type de bus bus_type Type de bus (BSB/LPB/PPS) BSB ( 0 ) LPB ( 1 ) PPS ( 2 ) Mode PPS pps_write BSB-LAN peut agir comme une unit\u00e9 de pi\u00e8ce PPS (uniquement si aucune unit\u00e9 de pi\u00e8ce r\u00e9elle n'est connect\u00e9e) ou simplement \u00e9couter passivement. passif ( 0 ) en tant qu'unit\u00e9 de pi\u00e8ce ( 1 ) Mod\u00e8le QAA PPS QAA_TYPE Unit\u00e9 de pi\u00e8ce qui doit \u00eatre simul\u00e9e pour le bus PPS QAA70 ( 0x53 ), QAA50 ( 0x52 ), QAA95 ( 0x37 ), QAW10 ( 0x4D ), QAW20 ( 0x4E ), MCBA/REA70/DC225 ( 0x58 ), QAA10 ( 0x5A ), QAA20 ( 0x5B ), QAA12/13 ( 0x5D ), BMU ( 0x66 ), RVD130 ( 0x43 ) Adresse propre own_address Adresse de bus propre (par d\u00e9faut 66 ne doit pas \u00eatre modifi\u00e9e) 66 ( 66 ) Adresse de destination dest_address Adresse de bus de destination. Pour BSB toujours 0 . Pour LPB 0 si l'appareil de destination se trouve dans le segment 1, adresse de l'appareil 0. Pour convertir de la notation de segment et d'adresse d'appareil LPB en adresse de destination, multipliez le segment par 16, ajoutez l'adresse de l'appareil et soustrayez un. Par exemple, pour adresser un appareil du segment 4 avec l'adresse de l'appareil 3, l'adresse de destination est (4 * 16) + 3 - 1 = 66 . Pour PPS non pertinent. 0 ( 0 ) Num\u00e9ro d'\u00e9pingle RX Num\u00e9ro d'\u00e9pingle TX bus_pins D\u00e9finir les broches RX/TX pour communiquer avec l'adaptateur BSB-LAN. Laissez \u00e0 0 pour la d\u00e9tection automatique. 0 et 0 ( 0, 0 ) Param\u00e8tres r\u00e9seau Interface Web Fichier de configuration Fonctionnalit\u00e9 Param\u00e8tres possibles P\u00e9riph\u00e9rique r\u00e9seau network_type Choisissez entre WLAN et LAN pour connecter BSB-LAN au r\u00e9seau. LAN ( 0 ) WLAN ( 1 ) Nom du r\u00e9seau WLAN wifi_ssid D\u00e9finir le nom du r\u00e9seau WLAN lors de l'utilisation du WLAN. Your_WLAN_name ( Your_WLAN_name ) Mot de passe WLAN wifi_pass D\u00e9finir le mot de passe du WLAN lors de l'utilisation du WLAN. YourWLANpassword ( YourWLANpassword ) Utilisation du DHCP use_dhcp D\u00e9finir si oui ou non utiliser DHCP pour obtenir une adresse IP du routeur. On ( true ) Off ( false ) Adresse IP (fixe) ip_addr Lorsque vous n'utilisez pas DHCP, vous pouvez d\u00e9finir une adresse IP fixe ici. Sinon, laissez \u00e0 0.0.0.0 . Dans l'interface web, vous pouvez utiliser la notation par points. Dans le fichier de configuration, vous devez utiliser une virgule comme s\u00e9parateur. 192.168.178.88 ( 192,168,178,88 ) Sous-r\u00e9seau subnet_addr Sous-r\u00e9seau lors de l'utilisation d'une adresse IP fixe. M\u00eame notation que pour l'adresse IP. 255.255.255.0 ( 255,255,255,0 ) Passerelle gateway_addr Adresse de la passerelle lors de l'utilisation d'une adresse IP fixe. M\u00eame notation que pour l'adresse IP. 192.168.178.1 ( 192,168,178,1 ) Serveur DNS dns_addr Adresse du serveur DNS lors de l'utilisation d'une adresse IP fixe. M\u00eame notation que pour l'adresse IP. 192.168.178.1 ( 192,168,178,1 ) Port TCP HTTPPort Num\u00e9ro de port HTTP pour acc\u00e9der \u00e0 l'interface web. Par d\u00e9faut 80 . 80 ( 80 ) Adresse MAC mac D\u00e9finir une adresse MAC fixe. Uniquement pertinent sur Arduino. 00:80:41:19:69:90 ( 0x00, 0x80, 0x41, 0x19, 0x69, 0x90 ) Nom d'h\u00f4te mDNS mDNS_hostname Nom d'h\u00f4te pour la d\u00e9couverte mDNS BSB-LAN ( BSB-LAN ) Authentification HTTP USER_PASS Si ce param\u00e8tre n'est pas vide, il contient le nom d'utilisateur et le mot de passe pour l'authentification HTTP, s\u00e9par\u00e9s par un deux-points. Nom d'utilisateur : Mot de passe ( Username:Password ) Cl\u00e9 de passe URL PASSKEY La cl\u00e9 de passe ajoute une s\u00e9quence d\u00e9finie par l'utilisateur qui doit \u00eatre ajout\u00e9e \u00e0 l'URL apr\u00e8s le nom d'h\u00f4te. Par exemple, une cl\u00e9 de passe de 1234 n\u00e9cessite que chaque URL soit \u00e9crite comme http://bsb-lan.local/1234/ au lieu de simplement http://bsb-lan.local/ . Laissez vide pour aucune cl\u00e9 de passe. 1234 ( 1234 ) Adresse IP de confiance trusted_ip_addr L'acc\u00e8s \u00e0 BSB-LAN n'est possible que depuis cette adresse IP. M\u00eame notation que pour l'adresse IP. 192.168.178.89 ( 192,168,178,89 ) Adresse IP de confiance trusted_ip_addr2 L'acc\u00e8s \u00e0 BSB-LAN n'est possible que depuis cette adresse IP. M\u00eame notation que pour l'adresse IP. 192.168.178.90 ( 192,168,178,90 ) - bssid Entrez ici une adresse BSSID sp\u00e9cifique pour vous assurer de vous connecter \u00e0 un point d'acc\u00e8s sp\u00e9cifique. D\u00e9finissez sur tous les z\u00e9ros dans des circonstances normales. ( 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 ) - ntp_server D\u00e9finissez un serveur NTP ici pour obtenir l'heure exacte pour BSB-LAN. D\u00e9finissez sur une cha\u00eene vide si vous ne souhaitez pas utiliser NTP. Uniquement pour les microcontr\u00f4leurs bas\u00e9s sur ESP32. ( pool.ntp.org ) - local_timezone Fuseau horaire \u00e0 utiliser pour NTP. Voir ici pour une liste compl\u00e8te. ( CET-1CEST,M3.5.0,M10.5.0/3 ) Journalisation Interface Web Fichier de configuration Fonctionnalit\u00e9 Param\u00e8tres possibles P\u00e9riph\u00e9rique de stockage LogDestination S\u00e9lectionnez la destination pour les activit\u00e9s de journalisation. La carte SD est fortement recommand\u00e9e, car l'utilisation de la m\u00e9moire flash interne finira par l'user. Carte SD ( SDCARD ) M\u00e9moire flash interne ( FLASH ) Mode de journalisation LoggingMode D\u00e9finir les destinations/activit\u00e9s de journalisation. Plusieurs s\u00e9lections sont possibles, pour le fichier de configuration, les valeurs doivent \u00eatre ajout\u00e9es, par exemple, pour envoyer au courtier MQTT et \u00e0 UDP, d\u00e9finir la valeur sur 4 + 16 = 20 \u00c9crire sur la carte SD ( 1 ) Calculer les moyennes sur 24 heures ( 2 ) Envoyer au courtier MQTT ( 4 ) Envoyer uniquement les param\u00e8tres de journalisation au courtier MQTT ( 8 ) Envoyer \u00e0 UDP ( 16 ) Intervalle de journalisation log_interval Intervalle pour les activit\u00e9s de journalisation (en secondes) 60 ( 60 ) Param\u00e8tres de journalisation log_parameters Liste des param\u00e8tres de journalisation. Voir les instructions d'adressage ci-dessous. 8700, 8743!2, 8314!2 ( {8700, -1}, {8743, 2}, {8314, 2} ) Journaliser les t\u00e9l\u00e9grammes de bus logTelegram Journaliser les t\u00e9l\u00e9grammes de bus bruts, tels que les messages de diffusion ou les t\u00e9l\u00e9grammes inconnus Off ( LOGTELEGRAM_OFF ) Journaliser tous les t\u00e9l\u00e9grammes de bus ( LOGTELEGRAM_ON ) Journaliser uniquement les t\u00e9l\u00e9grammes de bus inconnus ( LOGTELEGRAM_UNKNOWN_ONLY ) Journaliser uniquement les t\u00e9l\u00e9grammes de bus de diffusion ( LOGTELEGRAM_BROADCAST_ONLY ) Journaliser uniquement les t\u00e9l\u00e9grammes de bus de diffusion inconnus ( LOGTELEGRAM_UNKNOWN_ONLY + LOGTELEGRAM_BROADCAST_ONLY ) Param\u00e8tres de moyenne sur 24 heures avg_parameters Liste des param\u00e8tres pour la g\u00e9n\u00e9ration de moyennes sur 24 heures. Voir les instructions d'adressage ci-dessous. 8700, 8743!2, 8314!2 ( {8700, -1}, {8743, 2}, {8314, 2} ) - #define DEFAULT_DAYS_TO_PLOT D\u00e9finir le nombre de jours par d\u00e9faut \u00e0 tracer pour les donn\u00e9es de journalisation ( 3 ) MQTT Interface Web Fichier de configuration Fonctionnalit\u00e9 Param\u00e8tres possibles Serveur de courtier MQTT mqtt_broker_addr Nom d'h\u00f4te/IP du courtier MQTT my-mqtt-broker.local ( my-mqtt-broker.local ) Nom d'utilisateur MQTT MQTTUsername Nom d'utilisateur facultatif pour le courtier MQTT MyMQTTusername ( MyMQTTusername ) Mot de passe MQTT MQTTPassword Mot de passe facultatif pour le courtier MQTT MyMQTTpassword ( MyMQTTpassword ) ID de l'appareil MQTT MQTTDeviceID Identifiant de l'appareil pour MQTT BSB-LAN ( BSB-LAN ) Pr\u00e9fixe de sujet MQTT MQTTTopicPrefix Pr\u00e9fixe de sujet pour MQTT BSB-LAN ( BSB-LAN ) Utilisation de MQTT mqtt_mode D\u00e9finir le format des messages MQTT Texte brut ( 1 ) - Envoyer le num\u00e9ro et la valeur du param\u00e8tre au format texte brut JSON ( 2 ) - Broches DHT DHT_Pins D\u00e9finissez les broches du capteur DHT22 (utilisez -1 dans le fichier de configuration pour d\u00e9sactiver) 11, 12, 13 ( 11, 12, 13, -1, -1, -1, -1, -1, -1 ) --- --- --- --- Capteurs BME280 BME_Sensors D\u00e9finissez le nombre de capteurs BME280 sur le bus I2C. Vous devez avoir acc\u00e8s aux broches I2C. Les adresses fixes 0x76 et 0x77 seront utilis\u00e9es. Utilisez 0 pour d\u00e9sactiver. 1 ( 1 ) Utilisation de MAX ! enable_max_cul Activer ou d\u00e9sactiver la connexion \u00e0 CUNO/CUNX/MAX!Cube modifi\u00e9 On ( true ) Off ( false ) Adresse IP du cube max_cul_ip_addr Adresse IP du CUNO/CUNX/MAX!Cube 192.168.178.21 ( 192,168,178,21 ) Appareils MAX ! max_device_list ID des appareils MAX ! \u00e0 interroger. Ces ID peuvent \u00eatre trouv\u00e9s sur une \u00e9tiquette de l'appareil. Apr\u00e8s les avoir entr\u00e9s ici, chaque appareil doit \u00eatre mis en mode d'appariement. Cette op\u00e9ration doit \u00eatre r\u00e9p\u00e9t\u00e9e chaque fois que la disposition EEPROM de BSB-LAN est modifi\u00e9e (voir le journal des modifications). KEQ0502326, KEQ0505080, KHA0002948 ( \"KEQ0502326\", \"KEQ0505080\", \"KHA0002948\" ) Utilisation de IPWE enable_ipwe Activer l'extension IPWE ( /ipwe.cgi ) On ( true ) Off ( false ) Param\u00e8tres IPWE ipwe_parameters Liste des param\u00e8tres \u00e0 afficher dans l'extension IPWE. Voir les instructions d'adressage ci-dessous. 8700, 8743!2, 8314!2 ({8700, -1}, {8743, 2}, {8314, 2}) - #define CUSTOM_COMMANDS Activer les fonctions personnalis\u00e9es D\u00e9bogage Interface Web Fichier de configuration Fonctionnalit\u00e9 Param\u00e8tres possibles Utilisation du d\u00e9bogage debug_mode S\u00e9lectionnez la sortie de d\u00e9bogage Off ( 0 ) S\u00e9rie ( 1 ) Telnet ( 2 ) Mode verbeux verbose Activer ou d\u00e9sactiver les messages de d\u00e9bogage verbeux (ne pas d\u00e9sactiver \u00e0 moins d'\u00eatre conseill\u00e9) On ( 1 ) Off ( 0 ) Mode donn\u00e9es brutes monitor Activer ou d\u00e9sactiver le mode donn\u00e9es brutes (ne pas activer \u00e0 moins d'\u00eatre conseill\u00e9) On ( 1 ) Off ( 0 ) Afficher les param\u00e8tres inconnus show_unknown Essayez d'afficher \u00e9galement les param\u00e8tres non pris en charge par l'appareil de destination On ( true ) Off ( false ) Adressage de diff\u00e9rents r\u00e9gulateurs de chauffage Pour adresser des param\u00e8tres \u00e0 partir d'appareils autres que l'appareil de destination par d\u00e9faut dans l'interface Web, vous devez ajouter un point d'exclamation suivi de l'adresse de l'appareil (voir ci-dessus pour la conversion de la notation segment/appareil en adresse d'appareil). Par exemple, le param\u00e8tre 8700 de l'adresse d'appareil 1 serait \u00e9crit comme 8700!1 au lieu de simplement 8700 . Pour le fichier de configuration, les param\u00e8tres sont r\u00e9pertori\u00e9s sous la forme {num\u00e9ro de param\u00e8tre, adresse de destination} . Le param\u00e8tre 8700 de l'adresse d'appareil 1 serait donc \u00e9crit comme {8700, 1} . Pour adresser la destination par d\u00e9faut, vous pouvez le faire en utilisant -1 .","title":"Configuration"},{"location":"fr/configure.html#configuration","text":"Il existe deux fa\u00e7ons de configurer BSB-LAN : Via le fichier de configuration BSB_LAN_config.h Via l'interface web en appelant http://bsb-lan.local/C (ou l'adresse IP correspondante) Pour la configuration initiale, certains param\u00e8tres doivent \u00eatre configur\u00e9s dans le fichier de configuration (tels que les param\u00e8tres de langue et de r\u00e9seau). Toutes les modifications ult\u00e9rieures peuvent \u00eatre effectu\u00e9es via l'interface web. Il peut cependant \u00eatre utile de configurer (\u00e9galement) le fichier de configuration dans le cas o\u00f9 vous devriez changer de microcontr\u00f4leur. Presque tous les param\u00e8tres existent \u00e9galement dans l'interface web et vice versa. Sur un microcontr\u00f4leur bas\u00e9 sur ESP32, BSB-LAN configurera son propre point d'acc\u00e8s sans fil nomm\u00e9 BSB-LAN s'il ne peut pas se connecter \u00e0 un r\u00e9seau. Ainsi, m\u00eame sans aucune configuration suppl\u00e9mentaire, vous pouvez vous connecter \u00e0 ce point d'acc\u00e8s avec le mot de passe BSB-LPB-PPS-LAN et acc\u00e9der \u00e0 BSB-LAN via l'adresse IP http://192.168.4.1 et poursuivre la configuration de cette mani\u00e8re. Gardez \u00e0 l'esprit que si vous avez d\u00e9fini un mot de passe ou un nom d'utilisateur et un mot de passe HTTP, ceux-ci sont toujours requis si ces d\u00e9tails sont stock\u00e9s dans l'EEPROM ou BSB_LAN_config.h .","title":"Configuration"},{"location":"fr/configure.html#configuration-via-bsb_lan_configh","text":"Le fichier de configuration se compose de variables qui sont utilis\u00e9es dans d'autres parties de BSB-LAN. Il est donc important de ne modifier que le contenu des variables (c'est-\u00e0-dire les param\u00e8tres) et pas le type des variables. Ainsi, si vous avez par exemple le param\u00e8tre byte ip_addr[4] = {192,168,178,88} ; vous ne devez pas modifier la partie byte ip_addr[4] = , mais seulement le contenu, dans ce cas l'adresse IP s\u00e9par\u00e9e par des virgules.","title":"Configuration via BSB_LAN_config.h"},{"location":"fr/configure.html#configuration-via-linterface-web","text":"La configuration de BSB-LAN via l'interface web est assez simple, car vous n'avez pas \u00e0 vous soucier des noms de variables, mais vous disposez de descriptions claires. Au d\u00e9part, seul un nombre limit\u00e9 d'options de configuration sont affich\u00e9es dans l'interface web. Pour y acc\u00e9der \u00e0 l'ensemble des param\u00e8tres, vous devez d\u00e9finir l'option \"extended configuration\" sur \"on\".","title":"Configuration via l'interface web"},{"location":"fr/configure.html#apercu-des-options-de-configuration","text":"table th:first-of-type { width: 20% ; } table th:nth-of-type(2) { width: 20% ; } table th:nth-of-type(3) { width: 40% ; } table th:nth-of-type(4) { width: 20% ; }","title":"Aper\u00e7u des options de configuration"},{"location":"fr/configure.html#parametres-generaux","text":"Interface Web Fichier de configuration Fonctionnalit\u00e9 Param\u00e8tres possibles - ** #define LANG ** D\u00e9finir la langue DE , EN , FR et autres codes de pays ISO Afficher la configuration \u00e9tendue - Afficher toutes les options de configuration On Off Lire la configuration depuis l'EEPROM UseEEPROM Lire la configuration depuis l'EEPROM ou le fichier On ( 1 ) Off ( 0 ) Niveau d'acc\u00e8s en \u00e9criture - Si DEFAULT_FLAG est d\u00e9fini sur FL_SW_CTL_RONLY , vous pouvez d\u00e9finir le niveau d'acc\u00e8s en \u00e9criture ici. Off (lecture seule) On (Standard) On (Complet) V\u00e9rifier les mises \u00e0 jour enable_version_check Interroger le serveur BSB-LAN pour une nouvelle version disponible On ( true ) Mise \u00e0 jour OTA enable_ota_update Activer la mise \u00e0 jour OTA (Over-The-Air) On ( true ) \u00c9conomie d'\u00e9nergie esp32_save_energy R\u00e9duit la vitesse, \u00e9conomise l'\u00e9nergie. Ne pas activer lors de l'utilisation du Wi-Fi. On ( true ) Off ( false ) Syst\u00e8me de fichiers du serveur Web webserver Active le service de fichiers depuis la carte SD On ( true ) Off ( false ) - #define DEFAULT_FLAG D\u00e9finir l'acc\u00e8s en lecture/\u00e9criture au syst\u00e8me de chauffage. FL_RONLY d\u00e9finit tous les param\u00e8tres en lecture seule. FL_SW_CTL_RONLY permet de d\u00e9finir l'acc\u00e8s en lecture/\u00e9criture via le param\u00e8tre de configuration de l'interface web. 0 rend tous les param\u00e8tres pouvant \u00eatre \u00e9crits, writable. N'utilisez pas cette option sauf instruction contraire ! FL_RONLY FL_SW_CTL_RONLY 0","title":"Param\u00e8tres g\u00e9n\u00e9raux"},{"location":"fr/configure.html#parametres-de-bus","text":"Interface Web Fichier de configuration Fonctionnalit\u00e9 Param\u00e8tres possibles Type de bus bus_type Type de bus (BSB/LPB/PPS) BSB ( 0 ) LPB ( 1 ) PPS ( 2 ) Mode PPS pps_write BSB-LAN peut agir comme une unit\u00e9 de pi\u00e8ce PPS (uniquement si aucune unit\u00e9 de pi\u00e8ce r\u00e9elle n'est connect\u00e9e) ou simplement \u00e9couter passivement. passif ( 0 ) en tant qu'unit\u00e9 de pi\u00e8ce ( 1 ) Mod\u00e8le QAA PPS QAA_TYPE Unit\u00e9 de pi\u00e8ce qui doit \u00eatre simul\u00e9e pour le bus PPS QAA70 ( 0x53 ), QAA50 ( 0x52 ), QAA95 ( 0x37 ), QAW10 ( 0x4D ), QAW20 ( 0x4E ), MCBA/REA70/DC225 ( 0x58 ), QAA10 ( 0x5A ), QAA20 ( 0x5B ), QAA12/13 ( 0x5D ), BMU ( 0x66 ), RVD130 ( 0x43 ) Adresse propre own_address Adresse de bus propre (par d\u00e9faut 66 ne doit pas \u00eatre modifi\u00e9e) 66 ( 66 ) Adresse de destination dest_address Adresse de bus de destination. Pour BSB toujours 0 . Pour LPB 0 si l'appareil de destination se trouve dans le segment 1, adresse de l'appareil 0. Pour convertir de la notation de segment et d'adresse d'appareil LPB en adresse de destination, multipliez le segment par 16, ajoutez l'adresse de l'appareil et soustrayez un. Par exemple, pour adresser un appareil du segment 4 avec l'adresse de l'appareil 3, l'adresse de destination est (4 * 16) + 3 - 1 = 66 . Pour PPS non pertinent. 0 ( 0 ) Num\u00e9ro d'\u00e9pingle RX Num\u00e9ro d'\u00e9pingle TX bus_pins D\u00e9finir les broches RX/TX pour communiquer avec l'adaptateur BSB-LAN. Laissez \u00e0 0 pour la d\u00e9tection automatique. 0 et 0 ( 0, 0 )","title":"Param\u00e8tres de bus"},{"location":"fr/configure.html#parametres-reseau","text":"Interface Web Fichier de configuration Fonctionnalit\u00e9 Param\u00e8tres possibles P\u00e9riph\u00e9rique r\u00e9seau network_type Choisissez entre WLAN et LAN pour connecter BSB-LAN au r\u00e9seau. LAN ( 0 ) WLAN ( 1 ) Nom du r\u00e9seau WLAN wifi_ssid D\u00e9finir le nom du r\u00e9seau WLAN lors de l'utilisation du WLAN. Your_WLAN_name ( Your_WLAN_name ) Mot de passe WLAN wifi_pass D\u00e9finir le mot de passe du WLAN lors de l'utilisation du WLAN. YourWLANpassword ( YourWLANpassword ) Utilisation du DHCP use_dhcp D\u00e9finir si oui ou non utiliser DHCP pour obtenir une adresse IP du routeur. On ( true ) Off ( false ) Adresse IP (fixe) ip_addr Lorsque vous n'utilisez pas DHCP, vous pouvez d\u00e9finir une adresse IP fixe ici. Sinon, laissez \u00e0 0.0.0.0 . Dans l'interface web, vous pouvez utiliser la notation par points. Dans le fichier de configuration, vous devez utiliser une virgule comme s\u00e9parateur. 192.168.178.88 ( 192,168,178,88 ) Sous-r\u00e9seau subnet_addr Sous-r\u00e9seau lors de l'utilisation d'une adresse IP fixe. M\u00eame notation que pour l'adresse IP. 255.255.255.0 ( 255,255,255,0 ) Passerelle gateway_addr Adresse de la passerelle lors de l'utilisation d'une adresse IP fixe. M\u00eame notation que pour l'adresse IP. 192.168.178.1 ( 192,168,178,1 ) Serveur DNS dns_addr Adresse du serveur DNS lors de l'utilisation d'une adresse IP fixe. M\u00eame notation que pour l'adresse IP. 192.168.178.1 ( 192,168,178,1 ) Port TCP HTTPPort Num\u00e9ro de port HTTP pour acc\u00e9der \u00e0 l'interface web. Par d\u00e9faut 80 . 80 ( 80 ) Adresse MAC mac D\u00e9finir une adresse MAC fixe. Uniquement pertinent sur Arduino. 00:80:41:19:69:90 ( 0x00, 0x80, 0x41, 0x19, 0x69, 0x90 ) Nom d'h\u00f4te mDNS mDNS_hostname Nom d'h\u00f4te pour la d\u00e9couverte mDNS BSB-LAN ( BSB-LAN ) Authentification HTTP USER_PASS Si ce param\u00e8tre n'est pas vide, il contient le nom d'utilisateur et le mot de passe pour l'authentification HTTP, s\u00e9par\u00e9s par un deux-points. Nom d'utilisateur : Mot de passe ( Username:Password ) Cl\u00e9 de passe URL PASSKEY La cl\u00e9 de passe ajoute une s\u00e9quence d\u00e9finie par l'utilisateur qui doit \u00eatre ajout\u00e9e \u00e0 l'URL apr\u00e8s le nom d'h\u00f4te. Par exemple, une cl\u00e9 de passe de 1234 n\u00e9cessite que chaque URL soit \u00e9crite comme http://bsb-lan.local/1234/ au lieu de simplement http://bsb-lan.local/ . Laissez vide pour aucune cl\u00e9 de passe. 1234 ( 1234 ) Adresse IP de confiance trusted_ip_addr L'acc\u00e8s \u00e0 BSB-LAN n'est possible que depuis cette adresse IP. M\u00eame notation que pour l'adresse IP. 192.168.178.89 ( 192,168,178,89 ) Adresse IP de confiance trusted_ip_addr2 L'acc\u00e8s \u00e0 BSB-LAN n'est possible que depuis cette adresse IP. M\u00eame notation que pour l'adresse IP. 192.168.178.90 ( 192,168,178,90 ) - bssid Entrez ici une adresse BSSID sp\u00e9cifique pour vous assurer de vous connecter \u00e0 un point d'acc\u00e8s sp\u00e9cifique. D\u00e9finissez sur tous les z\u00e9ros dans des circonstances normales. ( 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 ) - ntp_server D\u00e9finissez un serveur NTP ici pour obtenir l'heure exacte pour BSB-LAN. D\u00e9finissez sur une cha\u00eene vide si vous ne souhaitez pas utiliser NTP. Uniquement pour les microcontr\u00f4leurs bas\u00e9s sur ESP32. ( pool.ntp.org ) - local_timezone Fuseau horaire \u00e0 utiliser pour NTP. Voir ici pour une liste compl\u00e8te. ( CET-1CEST,M3.5.0,M10.5.0/3 )","title":"Param\u00e8tres r\u00e9seau"},{"location":"fr/configure.html#journalisation","text":"Interface Web Fichier de configuration Fonctionnalit\u00e9 Param\u00e8tres possibles P\u00e9riph\u00e9rique de stockage LogDestination S\u00e9lectionnez la destination pour les activit\u00e9s de journalisation. La carte SD est fortement recommand\u00e9e, car l'utilisation de la m\u00e9moire flash interne finira par l'user. Carte SD ( SDCARD ) M\u00e9moire flash interne ( FLASH ) Mode de journalisation LoggingMode D\u00e9finir les destinations/activit\u00e9s de journalisation. Plusieurs s\u00e9lections sont possibles, pour le fichier de configuration, les valeurs doivent \u00eatre ajout\u00e9es, par exemple, pour envoyer au courtier MQTT et \u00e0 UDP, d\u00e9finir la valeur sur 4 + 16 = 20 \u00c9crire sur la carte SD ( 1 ) Calculer les moyennes sur 24 heures ( 2 ) Envoyer au courtier MQTT ( 4 ) Envoyer uniquement les param\u00e8tres de journalisation au courtier MQTT ( 8 ) Envoyer \u00e0 UDP ( 16 ) Intervalle de journalisation log_interval Intervalle pour les activit\u00e9s de journalisation (en secondes) 60 ( 60 ) Param\u00e8tres de journalisation log_parameters Liste des param\u00e8tres de journalisation. Voir les instructions d'adressage ci-dessous. 8700, 8743!2, 8314!2 ( {8700, -1}, {8743, 2}, {8314, 2} ) Journaliser les t\u00e9l\u00e9grammes de bus logTelegram Journaliser les t\u00e9l\u00e9grammes de bus bruts, tels que les messages de diffusion ou les t\u00e9l\u00e9grammes inconnus Off ( LOGTELEGRAM_OFF ) Journaliser tous les t\u00e9l\u00e9grammes de bus ( LOGTELEGRAM_ON ) Journaliser uniquement les t\u00e9l\u00e9grammes de bus inconnus ( LOGTELEGRAM_UNKNOWN_ONLY ) Journaliser uniquement les t\u00e9l\u00e9grammes de bus de diffusion ( LOGTELEGRAM_BROADCAST_ONLY ) Journaliser uniquement les t\u00e9l\u00e9grammes de bus de diffusion inconnus ( LOGTELEGRAM_UNKNOWN_ONLY + LOGTELEGRAM_BROADCAST_ONLY ) Param\u00e8tres de moyenne sur 24 heures avg_parameters Liste des param\u00e8tres pour la g\u00e9n\u00e9ration de moyennes sur 24 heures. Voir les instructions d'adressage ci-dessous. 8700, 8743!2, 8314!2 ( {8700, -1}, {8743, 2}, {8314, 2} ) - #define DEFAULT_DAYS_TO_PLOT D\u00e9finir le nombre de jours par d\u00e9faut \u00e0 tracer pour les donn\u00e9es de journalisation ( 3 )","title":"Journalisation"},{"location":"fr/configure.html#mqtt","text":"Interface Web Fichier de configuration Fonctionnalit\u00e9 Param\u00e8tres possibles Serveur de courtier MQTT mqtt_broker_addr Nom d'h\u00f4te/IP du courtier MQTT my-mqtt-broker.local ( my-mqtt-broker.local ) Nom d'utilisateur MQTT MQTTUsername Nom d'utilisateur facultatif pour le courtier MQTT MyMQTTusername ( MyMQTTusername ) Mot de passe MQTT MQTTPassword Mot de passe facultatif pour le courtier MQTT MyMQTTpassword ( MyMQTTpassword ) ID de l'appareil MQTT MQTTDeviceID Identifiant de l'appareil pour MQTT BSB-LAN ( BSB-LAN ) Pr\u00e9fixe de sujet MQTT MQTTTopicPrefix Pr\u00e9fixe de sujet pour MQTT BSB-LAN ( BSB-LAN ) Utilisation de MQTT mqtt_mode D\u00e9finir le format des messages MQTT Texte brut ( 1 ) - Envoyer le num\u00e9ro et la valeur du param\u00e8tre au format texte brut JSON ( 2 ) - Broches DHT DHT_Pins D\u00e9finissez les broches du capteur DHT22 (utilisez -1 dans le fichier de configuration pour d\u00e9sactiver) 11, 12, 13 ( 11, 12, 13, -1, -1, -1, -1, -1, -1 ) --- --- --- --- Capteurs BME280 BME_Sensors D\u00e9finissez le nombre de capteurs BME280 sur le bus I2C. Vous devez avoir acc\u00e8s aux broches I2C. Les adresses fixes 0x76 et 0x77 seront utilis\u00e9es. Utilisez 0 pour d\u00e9sactiver. 1 ( 1 ) Utilisation de MAX ! enable_max_cul Activer ou d\u00e9sactiver la connexion \u00e0 CUNO/CUNX/MAX!Cube modifi\u00e9 On ( true ) Off ( false ) Adresse IP du cube max_cul_ip_addr Adresse IP du CUNO/CUNX/MAX!Cube 192.168.178.21 ( 192,168,178,21 ) Appareils MAX ! max_device_list ID des appareils MAX ! \u00e0 interroger. Ces ID peuvent \u00eatre trouv\u00e9s sur une \u00e9tiquette de l'appareil. Apr\u00e8s les avoir entr\u00e9s ici, chaque appareil doit \u00eatre mis en mode d'appariement. Cette op\u00e9ration doit \u00eatre r\u00e9p\u00e9t\u00e9e chaque fois que la disposition EEPROM de BSB-LAN est modifi\u00e9e (voir le journal des modifications). KEQ0502326, KEQ0505080, KHA0002948 ( \"KEQ0502326\", \"KEQ0505080\", \"KHA0002948\" ) Utilisation de IPWE enable_ipwe Activer l'extension IPWE ( /ipwe.cgi ) On ( true ) Off ( false ) Param\u00e8tres IPWE ipwe_parameters Liste des param\u00e8tres \u00e0 afficher dans l'extension IPWE. Voir les instructions d'adressage ci-dessous. 8700, 8743!2, 8314!2 ({8700, -1}, {8743, 2}, {8314, 2}) - #define CUSTOM_COMMANDS Activer les fonctions personnalis\u00e9es","title":"MQTT"},{"location":"fr/configure.html#debogage","text":"Interface Web Fichier de configuration Fonctionnalit\u00e9 Param\u00e8tres possibles Utilisation du d\u00e9bogage debug_mode S\u00e9lectionnez la sortie de d\u00e9bogage Off ( 0 ) S\u00e9rie ( 1 ) Telnet ( 2 ) Mode verbeux verbose Activer ou d\u00e9sactiver les messages de d\u00e9bogage verbeux (ne pas d\u00e9sactiver \u00e0 moins d'\u00eatre conseill\u00e9) On ( 1 ) Off ( 0 ) Mode donn\u00e9es brutes monitor Activer ou d\u00e9sactiver le mode donn\u00e9es brutes (ne pas activer \u00e0 moins d'\u00eatre conseill\u00e9) On ( 1 ) Off ( 0 ) Afficher les param\u00e8tres inconnus show_unknown Essayez d'afficher \u00e9galement les param\u00e8tres non pris en charge par l'appareil de destination On ( true ) Off ( false )","title":"D\u00e9bogage"},{"location":"fr/configure.html#adressage-de-differents-regulateurs-de-chauffage","text":"Pour adresser des param\u00e8tres \u00e0 partir d'appareils autres que l'appareil de destination par d\u00e9faut dans l'interface Web, vous devez ajouter un point d'exclamation suivi de l'adresse de l'appareil (voir ci-dessus pour la conversion de la notation segment/appareil en adresse d'appareil). Par exemple, le param\u00e8tre 8700 de l'adresse d'appareil 1 serait \u00e9crit comme 8700!1 au lieu de simplement 8700 . Pour le fichier de configuration, les param\u00e8tres sont r\u00e9pertori\u00e9s sous la forme {num\u00e9ro de param\u00e8tre, adresse de destination} . Le param\u00e8tre 8700 de l'adresse d'appareil 1 serait donc \u00e9crit comme {8700, 1} . Pour adresser la destination par d\u00e9faut, vous pouvez le faire en utilisant -1 .","title":"Adressage de diff\u00e9rents r\u00e9gulateurs de chauffage"},{"location":"fr/faq.html","text":"Foire aux questions (FAQ) Mon chauffage a une connexion OpenTherm/eBus/L-Bus/R-Bus, puis-je utiliser BSB-LAN ? Non, ces contr\u00f4leurs ne sont pas compatibles avec BSB-LAN. Ne tentez pas de connecter l'adaptateur \u00e0 votre syst\u00e8me de chauffage ! Il me manque la fonction XYZ BSB-LAN offre la possibilit\u00e9 de cr\u00e9er ses propres fonctions \u00e0 l'aide des fichiers BSB_LAN_custom_global.h , BSB_LAN_custom_setup.h et BSB_LAN_custom.h . Pour plus de d\u00e9tails et d'exemples, veuillez consulter le dossier custom_functions dans le repo Github. N'h\u00e9sitez pas \u00e0 partager vos solutions avec nous !","title":"FAQ"},{"location":"fr/faq.html#foire-aux-questions-faq","text":"","title":"Foire aux questions (FAQ)"},{"location":"fr/faq.html#mon-chauffage-a-une-connexion-openthermebusl-busr-bus-puis-je-utiliser-bsb-lan","text":"Non, ces contr\u00f4leurs ne sont pas compatibles avec BSB-LAN. Ne tentez pas de connecter l'adaptateur \u00e0 votre syst\u00e8me de chauffage !","title":"Mon chauffage a une connexion OpenTherm/eBus/L-Bus/R-Bus, puis-je utiliser BSB-LAN ?"},{"location":"fr/faq.html#il-me-manque-la-fonction-xyz","text":"BSB-LAN offre la possibilit\u00e9 de cr\u00e9er ses propres fonctions \u00e0 l'aide des fichiers BSB_LAN_custom_global.h , BSB_LAN_custom_setup.h et BSB_LAN_custom.h . Pour plus de d\u00e9tails et d'exemples, veuillez consulter le dossier custom_functions dans le repo Github. N'h\u00e9sitez pas \u00e0 partager vos solutions avec nous !","title":"Il me manque la fonction XYZ"},{"location":"fr/homeautomation.html","text":"Connexion de BSB-LAN aux syst\u00e8mes de domotique BSB-LAN fournit quatre fa\u00e7ons de se connecter aux syst\u00e8mes de domotique: Utilisation de modules pris en charge pour des syst\u00e8mes de domotique sp\u00e9cifiques \u00c9change de donn\u00e9es via MQTT \u00c9change de donn\u00e9es via JSON \u00c9change de donn\u00e9es via des commandes URL et la r\u00e9cup\u00e9ration de donn\u00e9es \u00e0 l'\u00e9cran Utilisation de modules pris en charge pour des syst\u00e8mes de domotique sp\u00e9cifiques Pour certains syst\u00e8mes, des modules sp\u00e9cifiques existent et peuvent \u00eatre utilis\u00e9s pour acc\u00e9der \u00e0 BSB-LAN de mani\u00e8re transparente: Home Assistant Bien que le plugin officiel ne fonctionne plus, l'approche MQTT (voir ci-dessous) fonctionne bien avec Home Assistant, y compris la fonctionnalit\u00e9 de d\u00e9couverte automatique. Voici un lien vers une vid\u00e9o sur la cha\u00eene YouTube de BSB-LAN qui montre comment configurer BSB-LAN dans Home Assistant en utilisant la fonctionnalit\u00e9 de d\u00e9couverte automatique de Home Assistant. Pour plus de d\u00e9tails sur la mise en \u0153uvre, vous pouvez \u00e9galement consulter ces tutoriels: L'utilisateur GitHub @ryann72 a \u00e9crit des instructions d\u00e9taill\u00e9es pour BSB-LAN et HomeAssistant/Mosquitto . Il est \u00e9galement disponible en fran\u00e7ais . L'utilisateur YouTube @StoneTime a cr\u00e9\u00e9 deux vid\u00e9os (en allemand) dans lesquelles il montre l' installation de BSB-LAN ainsi que sa configuration dans Home Assistant . Dankesch\u00f6n! L'utilisateur YouTube @ArminasTV a cr\u00e9\u00e9 deux vid\u00e9os (en fran\u00e7ais) dans lesquelles il montre l' installation de BSB-LAN ainsi que sa configuration avec Home Assistant et MQTT . Merci beaucoup! Homebridge L'utilisateur de BSB-LAN, Michael, a \u00e9crit un plugin pour Homebridge . Merci! ioBroker L'utilisateur GitHub @hacki11 a d\u00e9velopp\u00e9 un adaptateur pour ioBroker . Merci! Jeedom L'utilisateur GitHub @bernard-dandrea a \u00e9crit un plugin pour Jeedom (avec une description en fran\u00e7ais). Merci! Node-RED L'utilisateur GitHub @konne a \u00e9crit un module pour Node-RED . Merci! FHEM L'utilisateur du forum FHEM, Luposoft, a \u00e9crit une explication concise de la configuration pour utiliser FHEM via MQTT . Merci! openHAB Depuis la version 2.5.4, il existe une liaison qui fait officiellement partie d'OpenHAB. Homematic L'utilisateur du forum FHEM, PaulM, a \u00e9crit quelques scripts pour illustrer l'int\u00e9gration de BSB-LAN dans Homematic. Merci! SmartHomeNG L'utilisateur GitHub @thensty a \u00e9crit un plugin pour SmartHomeNG . Merci! Volkszaehler L'utilisateur GitHub @lapixo a contribu\u00e9 \u00e0 un script pour le projet Volkszaehler . Merci! Script Bash L'utilisateur GitHub @khfm a \u00e9crit des scripts Bash pour interroger les donn\u00e9es et les afficher \u00e0 l'aide de gnuplot. Merci! \u00c9change de donn\u00e9es via MQTT Il s'agit de la m\u00e9thode recommand\u00e9e pour connecter BSB-LAN aux syst\u00e8mes de domotique car elle permet un \u00e9change de donn\u00e9es transparent. En pr\u00e9requis, un courtier MQTT (tel que mosquitto ) est n\u00e9cessaire, soit en local, soit via un service public. Certains syst\u00e8mes de domotique tels que Home Assistant proposent l'installation de mosquitto dans le cadre de leur logiciel. Attention: Actuellement, le courtier mosquitto semble avoir un probl\u00e8me avec la gestion d'un grand nombre de messages \u00e0 partir des versions 2.0.16 et ult\u00e9rieures ( voir ce rapport de bogue ). Si vous rencontrez le probl\u00e8me que vos entit\u00e9s BSB-LAN deviennent \u00abindisponibles\u00bb, en particulier apr\u00e8s avoir utilis\u00e9 la fonctionnalit\u00e9 de d\u00e9couverte automatique ci-dessous, veuillez r\u00e9trograder vers la version 2.0.15 de mosquitto. Cependant, soyez conscient que cette version a des probl\u00e8mes de s\u00e9curit\u00e9, assurez-vous donc que votre courtier s'ex\u00e9cute au moins dans un environnement prot\u00e9g\u00e9 par un pare-feu. Dans BSB-LAN, vous devez effectuer ou activer au moins les configurations suivantes: D\u00e9finissez le mode de journalisation (en plus) sur Envoyer au courtier MQTT . D\u00e9finissez l' intervalle de journalisation sur le temps (en secondes) pendant lequel vous souhaitez que les param\u00e8tres de journalisation soient publi\u00e9s. S\u00e9lectionnez jusqu'\u00e0 20 param\u00e8tres de journalisation que vous souhaitez envoyer \u00e0 votre syst\u00e8me de domotique. D\u00e9finissez l' utilisation de MQTT sur texte brut . D\u00e9finissez le serveur du courtier MQTT sur le nom d'h\u00f4te de votre courtier MQTT (tel que le serveur mosquitto). Si votre syst\u00e8me de domotique prend en charge la d\u00e9couverte automatique MQTT (comme c'est le cas avec Home Assistant), vous pouvez appeler la commande URL /M1!<x> et BSB-LAN enverra des messages de d\u00e9couverte automatique pour tous les param\u00e8tres disponibles \u00e0 partir de l'ID d'appareil <x> au courtier MQTT et donc au syst\u00e8me de domotique. Vous devrez peut-\u00eatre effectuer un nettoyage par la suite ou envoyer un message de suppression pour tous ces param\u00e8tres \u00e0 l'aide de la commande URL /M0!<x> si vous ne souhaitez plus utiliser cette fonctionnalit\u00e9. Sinon, si vous souhaitez configurer vos propres d\u00e9tails de connexion, la structure de sujet de BSB-LAN est la suivante: <BSB-LAN MQTT Topic>/<device ID>/<category no.>/<parameter no.> o\u00f9 <BSB-LAN MQTT Topic> est d\u00e9fini dans les param\u00e8tres de BSB-LAN (par d\u00e9faut BSB-LAN ), <device ID> est l'ID du r\u00e9gulateur de chauffage (g\u00e9n\u00e9ralement 0 pour le contr\u00f4leur principal), <category no.> est le num\u00e9ro de cat\u00e9gorie tel qu'il est utilis\u00e9 avec la commande URL /K , <parameter no.> est le num\u00e9ro de param\u00e8tre, tel que 501.1 . Cette structure est suivie de l'un de ces sujets qui d\u00e9terminent l'action \u00e0 effectuer: /status - contient la valeur du param\u00e8tre dans la charge utile MQTT. /set - utilis\u00e9 pour d\u00e9finir un param\u00e8tre avec la valeur contenue dans la charge utile MQTT publi\u00e9e \u00e0 l'aide du t\u00e9l\u00e9gramme SET (m\u00e9thode par d\u00e9faut de d\u00e9finition des param\u00e8tres). /inf - identique \u00e0 /set , mais utilise le t\u00e9l\u00e9gramme INF (utilis\u00e9 pour envoyer le param\u00e8tre de temp\u00e9rature ambiante 10000, par exemple). /poll - ignore la valeur publi\u00e9e et force BSB-LAN \u00e0 mettre \u00e0 jour imm\u00e9diatement /status du m\u00eame param\u00e8tre avec une valeur de param\u00e8tre nouvellement r\u00e9cup\u00e9r\u00e9e. /poll peut \u00e9galement \u00eatre accessible directement sous le sujet principal (par exemple BSB-LAN/poll ) o\u00f9 il accepte une liste de param\u00e8tres s\u00e9par\u00e9s par des virgules. Ces param\u00e8tres auront ensuite leurs sujets /status respectifs mis \u00e0 jour en une seule fois. L'adressage des param\u00e8tres peut \u00eatre effectu\u00e9 soit dans le style de sujet (avec une barre oblique de d\u00e9but), soit de mani\u00e8re similaire \u00e0 la liste des param\u00e8tres de journalisation dans les param\u00e8tres de BSB-LAN (voir les exemples ci-dessous). Dans le m\u00eame temps, la m\u00e9thode h\u00e9rit\u00e9e d'envoi de commandes URL via MQTT directement au sujet principal (tel que d\u00e9fini dans les param\u00e8tres, par d\u00e9faut BSB-LAN ), est toujours prise en charge pour des raisons de compatibilit\u00e9, mais est d\u00e9conseill\u00e9e. Les r\u00e9ponses seront toujours \u00e9crites dans /status de la structure de sujet ci-dessus. Le sujet /status est mis \u00e0 jour de quatre mani\u00e8res: via les param\u00e8tres de journalisation vers MQTT comme expliqu\u00e9 ci-dessus chaque fois qu'une requ\u00eate URL est effectu\u00e9e sur BSB-LAN (peut \u00eatre d\u00e9sactiv\u00e9 en activant Only send log parameters to MQTT dans la configuration) chaque fois qu'un param\u00e8tre est modifi\u00e9 via l'unit\u00e9 de pi\u00e8ce (peut \u00eatre d\u00e9sactiv\u00e9 en activant Only send log parameters to MQTT dans la configuration) chaque fois que le param\u00e8tre est mis \u00e0 jour via le sujet /poll comme expliqu\u00e9 ci-dessus Dans ces cas, les valeurs respectives des param\u00e8tres concern\u00e9s seront envoy\u00e9es au courtier MQTT, de sorte que m\u00eame les modifications apport\u00e9es en dehors de BSB-LAN sont envoy\u00e9es au syst\u00e8me de domotique, c'est pourquoi l'approche MQTT est la m\u00e9thode recommand\u00e9e pour se connecter \u00e0 un syst\u00e8me de domotique. Cela signifie \u00e9galement que, comme alternative \u00e0 la fonctionnalit\u00e9 de journalisation int\u00e9gr\u00e9e de BSB-LAN, vous pouvez \u00e9galement appeler p\u00e9riodiquement une URL avec les param\u00e8tres que vous souhaitez voir mis \u00e0 jour. \u00c9tant donn\u00e9 que ces param\u00e8tres seront \u00e9galement envoy\u00e9s au courtier MQTT, votre syst\u00e8me de domotique les recevra \u00e9galement. Par exemple, si vous appelez p\u00e9riodiquement l'URL http://bsb-lan.local/700/8700 , le mode de fonctionnement du circuit de chauffage 1 (param\u00e8tre 700) ainsi que la temp\u00e9rature ext\u00e9rieure actuelle (param\u00e8tre 8700) seront envoy\u00e9s au courtier MQTT. Exemples d'interrogation ou de d\u00e9finition de param\u00e8tres via MQTT \u00e0 l'aide de mosquitto Interroger la temp\u00e9rature ext\u00e9rieure (ID d'appareil 0, num\u00e9ro de cat\u00e9gorie 51, param\u00e8tre 8700): mosquitto_sub -h my.mosquitto-broker.local -u USER -P PASSWORD -t BSB-LAN/0/51/8700/status D\u00e9finissez le point de consigne de temp\u00e9rature de confort (ID d'appareil 0, num\u00e9ro de cat\u00e9gorie 16, param\u00e8tre 710) \u00e0 20 degr\u00e9s: mosquitto_pub -h my.mosquitto-broker.local -u USER -P PASSWORD -m \"20\" -t BSB-LAN/0/16/710/set Forcer la mise \u00e0 jour imm\u00e9diate de la temp\u00e9rature ext\u00e9rieure (ID d'appareil 0, num\u00e9ro de cat\u00e9gorie 51, param\u00e8tre 8700): mosquitto_pub -h my.mosquitto-broker.local -u USER -P PASSWORD -m \"\" -t BSB-LAN/0/51/8700/poll Forcer la mise \u00e0 jour imm\u00e9diate des param\u00e8tres 700 et 8700 \u00e0 partir de l'appareil par d\u00e9faut ainsi que du param\u00e8tre 8326 \u00e0 partir de l'ID d'appareil 1: mosquitto_pub -h my.mosquitto-broker.local -u USER -P PASSWORD -m \"700,8700,8326!1\" -t BSB-LAN/poll ou mosquitto_pub -h my.mosquitto-broker.local -u USER -P PASSWORD -m \"/0/16/700,/0/51/8700,/1/50/8326\" -t BSB-LAN/poll Attention: Veuillez noter que le num\u00e9ro de cat\u00e9gorie diff\u00e8re d'un syst\u00e8me \u00e0 l'autre et doit \u00eatre compar\u00e9 avec votre syst\u00e8me en premier! \u00c9change de donn\u00e9es via JSON BSB-LAN permet d'interroger et de d\u00e9finir des param\u00e8tres via des structures JSON et fournit \u00e9galement de nombreuses informations sur les param\u00e8tres et les structures de cat\u00e9gories de cette mani\u00e8re. L'API JSON est accessible via des commandes URL et le fichier openapi.yaml fourni dans ce r\u00e9f\u00e9rentiel peut \u00eatre utilis\u00e9 avec Swagger pour explorer ses possibilit\u00e9s et ses fonctionnalit\u00e9s. \u00c9change de donn\u00e9es via des commandes URL et la r\u00e9cup\u00e9ration de donn\u00e9es \u00e0 l'\u00e9cran Pour des solutions plus simples, l' utilisation de commandes URL pour interroger et d\u00e9finir des param\u00e8tres peut \u00eatre utilis\u00e9e pour contr\u00f4ler BSB-LAN \u00e0 partir d'autres syst\u00e8mes. La r\u00e9cup\u00e9ration de donn\u00e9es \u00e0 l'\u00e9cran est possible car le projet tente de ne pas rompre certaines fa\u00e7ons d'afficher les donn\u00e9es, de sorte que l'analyse avec des expressions r\u00e9guli\u00e8res reste r\u00e9alisable. N\u00e9anmoins, pour la plupart des sc\u00e9narios, l'une des autres options sera probablement pr\u00e9f\u00e9rable.","title":"Connecter \u00e0 la Smart Home"},{"location":"fr/homeautomation.html#connexion-de-bsb-lan-aux-systemes-de-domotique","text":"BSB-LAN fournit quatre fa\u00e7ons de se connecter aux syst\u00e8mes de domotique: Utilisation de modules pris en charge pour des syst\u00e8mes de domotique sp\u00e9cifiques \u00c9change de donn\u00e9es via MQTT \u00c9change de donn\u00e9es via JSON \u00c9change de donn\u00e9es via des commandes URL et la r\u00e9cup\u00e9ration de donn\u00e9es \u00e0 l'\u00e9cran","title":"Connexion de BSB-LAN aux syst\u00e8mes de domotique"},{"location":"fr/homeautomation.html#utilisation-de-modules-pris-en-charge-pour-des-systemes-de-domotique-specifiques","text":"Pour certains syst\u00e8mes, des modules sp\u00e9cifiques existent et peuvent \u00eatre utilis\u00e9s pour acc\u00e9der \u00e0 BSB-LAN de mani\u00e8re transparente:","title":"Utilisation de modules pris en charge pour des syst\u00e8mes de domotique sp\u00e9cifiques"},{"location":"fr/homeautomation.html#home-assistant","text":"Bien que le plugin officiel ne fonctionne plus, l'approche MQTT (voir ci-dessous) fonctionne bien avec Home Assistant, y compris la fonctionnalit\u00e9 de d\u00e9couverte automatique. Voici un lien vers une vid\u00e9o sur la cha\u00eene YouTube de BSB-LAN qui montre comment configurer BSB-LAN dans Home Assistant en utilisant la fonctionnalit\u00e9 de d\u00e9couverte automatique de Home Assistant. Pour plus de d\u00e9tails sur la mise en \u0153uvre, vous pouvez \u00e9galement consulter ces tutoriels: L'utilisateur GitHub @ryann72 a \u00e9crit des instructions d\u00e9taill\u00e9es pour BSB-LAN et HomeAssistant/Mosquitto . Il est \u00e9galement disponible en fran\u00e7ais . L'utilisateur YouTube @StoneTime a cr\u00e9\u00e9 deux vid\u00e9os (en allemand) dans lesquelles il montre l' installation de BSB-LAN ainsi que sa configuration dans Home Assistant . Dankesch\u00f6n! L'utilisateur YouTube @ArminasTV a cr\u00e9\u00e9 deux vid\u00e9os (en fran\u00e7ais) dans lesquelles il montre l' installation de BSB-LAN ainsi que sa configuration avec Home Assistant et MQTT . Merci beaucoup!","title":"Home Assistant"},{"location":"fr/homeautomation.html#homebridge","text":"L'utilisateur de BSB-LAN, Michael, a \u00e9crit un plugin pour Homebridge . Merci!","title":"Homebridge"},{"location":"fr/homeautomation.html#iobroker","text":"L'utilisateur GitHub @hacki11 a d\u00e9velopp\u00e9 un adaptateur pour ioBroker . Merci!","title":"ioBroker"},{"location":"fr/homeautomation.html#jeedom","text":"L'utilisateur GitHub @bernard-dandrea a \u00e9crit un plugin pour Jeedom (avec une description en fran\u00e7ais). Merci!","title":"Jeedom"},{"location":"fr/homeautomation.html#node-red","text":"L'utilisateur GitHub @konne a \u00e9crit un module pour Node-RED . Merci!","title":"Node-RED"},{"location":"fr/homeautomation.html#fhem","text":"L'utilisateur du forum FHEM, Luposoft, a \u00e9crit une explication concise de la configuration pour utiliser FHEM via MQTT . Merci!","title":"FHEM"},{"location":"fr/homeautomation.html#openhab","text":"Depuis la version 2.5.4, il existe une liaison qui fait officiellement partie d'OpenHAB.","title":"openHAB"},{"location":"fr/homeautomation.html#homematic","text":"L'utilisateur du forum FHEM, PaulM, a \u00e9crit quelques scripts pour illustrer l'int\u00e9gration de BSB-LAN dans Homematic. Merci!","title":"Homematic"},{"location":"fr/homeautomation.html#smarthomeng","text":"L'utilisateur GitHub @thensty a \u00e9crit un plugin pour SmartHomeNG . Merci!","title":"SmartHomeNG"},{"location":"fr/homeautomation.html#volkszaehler","text":"L'utilisateur GitHub @lapixo a contribu\u00e9 \u00e0 un script pour le projet Volkszaehler . Merci!","title":"Volkszaehler"},{"location":"fr/homeautomation.html#script-bash","text":"L'utilisateur GitHub @khfm a \u00e9crit des scripts Bash pour interroger les donn\u00e9es et les afficher \u00e0 l'aide de gnuplot. Merci!","title":"Script Bash"},{"location":"fr/homeautomation.html#echange-de-donnees-via-mqtt","text":"Il s'agit de la m\u00e9thode recommand\u00e9e pour connecter BSB-LAN aux syst\u00e8mes de domotique car elle permet un \u00e9change de donn\u00e9es transparent. En pr\u00e9requis, un courtier MQTT (tel que mosquitto ) est n\u00e9cessaire, soit en local, soit via un service public. Certains syst\u00e8mes de domotique tels que Home Assistant proposent l'installation de mosquitto dans le cadre de leur logiciel. Attention: Actuellement, le courtier mosquitto semble avoir un probl\u00e8me avec la gestion d'un grand nombre de messages \u00e0 partir des versions 2.0.16 et ult\u00e9rieures ( voir ce rapport de bogue ). Si vous rencontrez le probl\u00e8me que vos entit\u00e9s BSB-LAN deviennent \u00abindisponibles\u00bb, en particulier apr\u00e8s avoir utilis\u00e9 la fonctionnalit\u00e9 de d\u00e9couverte automatique ci-dessous, veuillez r\u00e9trograder vers la version 2.0.15 de mosquitto. Cependant, soyez conscient que cette version a des probl\u00e8mes de s\u00e9curit\u00e9, assurez-vous donc que votre courtier s'ex\u00e9cute au moins dans un environnement prot\u00e9g\u00e9 par un pare-feu. Dans BSB-LAN, vous devez effectuer ou activer au moins les configurations suivantes: D\u00e9finissez le mode de journalisation (en plus) sur Envoyer au courtier MQTT . D\u00e9finissez l' intervalle de journalisation sur le temps (en secondes) pendant lequel vous souhaitez que les param\u00e8tres de journalisation soient publi\u00e9s. S\u00e9lectionnez jusqu'\u00e0 20 param\u00e8tres de journalisation que vous souhaitez envoyer \u00e0 votre syst\u00e8me de domotique. D\u00e9finissez l' utilisation de MQTT sur texte brut . D\u00e9finissez le serveur du courtier MQTT sur le nom d'h\u00f4te de votre courtier MQTT (tel que le serveur mosquitto). Si votre syst\u00e8me de domotique prend en charge la d\u00e9couverte automatique MQTT (comme c'est le cas avec Home Assistant), vous pouvez appeler la commande URL /M1!<x> et BSB-LAN enverra des messages de d\u00e9couverte automatique pour tous les param\u00e8tres disponibles \u00e0 partir de l'ID d'appareil <x> au courtier MQTT et donc au syst\u00e8me de domotique. Vous devrez peut-\u00eatre effectuer un nettoyage par la suite ou envoyer un message de suppression pour tous ces param\u00e8tres \u00e0 l'aide de la commande URL /M0!<x> si vous ne souhaitez plus utiliser cette fonctionnalit\u00e9. Sinon, si vous souhaitez configurer vos propres d\u00e9tails de connexion, la structure de sujet de BSB-LAN est la suivante: <BSB-LAN MQTT Topic>/<device ID>/<category no.>/<parameter no.> o\u00f9 <BSB-LAN MQTT Topic> est d\u00e9fini dans les param\u00e8tres de BSB-LAN (par d\u00e9faut BSB-LAN ), <device ID> est l'ID du r\u00e9gulateur de chauffage (g\u00e9n\u00e9ralement 0 pour le contr\u00f4leur principal), <category no.> est le num\u00e9ro de cat\u00e9gorie tel qu'il est utilis\u00e9 avec la commande URL /K , <parameter no.> est le num\u00e9ro de param\u00e8tre, tel que 501.1 . Cette structure est suivie de l'un de ces sujets qui d\u00e9terminent l'action \u00e0 effectuer: /status - contient la valeur du param\u00e8tre dans la charge utile MQTT. /set - utilis\u00e9 pour d\u00e9finir un param\u00e8tre avec la valeur contenue dans la charge utile MQTT publi\u00e9e \u00e0 l'aide du t\u00e9l\u00e9gramme SET (m\u00e9thode par d\u00e9faut de d\u00e9finition des param\u00e8tres). /inf - identique \u00e0 /set , mais utilise le t\u00e9l\u00e9gramme INF (utilis\u00e9 pour envoyer le param\u00e8tre de temp\u00e9rature ambiante 10000, par exemple). /poll - ignore la valeur publi\u00e9e et force BSB-LAN \u00e0 mettre \u00e0 jour imm\u00e9diatement /status du m\u00eame param\u00e8tre avec une valeur de param\u00e8tre nouvellement r\u00e9cup\u00e9r\u00e9e. /poll peut \u00e9galement \u00eatre accessible directement sous le sujet principal (par exemple BSB-LAN/poll ) o\u00f9 il accepte une liste de param\u00e8tres s\u00e9par\u00e9s par des virgules. Ces param\u00e8tres auront ensuite leurs sujets /status respectifs mis \u00e0 jour en une seule fois. L'adressage des param\u00e8tres peut \u00eatre effectu\u00e9 soit dans le style de sujet (avec une barre oblique de d\u00e9but), soit de mani\u00e8re similaire \u00e0 la liste des param\u00e8tres de journalisation dans les param\u00e8tres de BSB-LAN (voir les exemples ci-dessous). Dans le m\u00eame temps, la m\u00e9thode h\u00e9rit\u00e9e d'envoi de commandes URL via MQTT directement au sujet principal (tel que d\u00e9fini dans les param\u00e8tres, par d\u00e9faut BSB-LAN ), est toujours prise en charge pour des raisons de compatibilit\u00e9, mais est d\u00e9conseill\u00e9e. Les r\u00e9ponses seront toujours \u00e9crites dans /status de la structure de sujet ci-dessus. Le sujet /status est mis \u00e0 jour de quatre mani\u00e8res: via les param\u00e8tres de journalisation vers MQTT comme expliqu\u00e9 ci-dessus chaque fois qu'une requ\u00eate URL est effectu\u00e9e sur BSB-LAN (peut \u00eatre d\u00e9sactiv\u00e9 en activant Only send log parameters to MQTT dans la configuration) chaque fois qu'un param\u00e8tre est modifi\u00e9 via l'unit\u00e9 de pi\u00e8ce (peut \u00eatre d\u00e9sactiv\u00e9 en activant Only send log parameters to MQTT dans la configuration) chaque fois que le param\u00e8tre est mis \u00e0 jour via le sujet /poll comme expliqu\u00e9 ci-dessus Dans ces cas, les valeurs respectives des param\u00e8tres concern\u00e9s seront envoy\u00e9es au courtier MQTT, de sorte que m\u00eame les modifications apport\u00e9es en dehors de BSB-LAN sont envoy\u00e9es au syst\u00e8me de domotique, c'est pourquoi l'approche MQTT est la m\u00e9thode recommand\u00e9e pour se connecter \u00e0 un syst\u00e8me de domotique. Cela signifie \u00e9galement que, comme alternative \u00e0 la fonctionnalit\u00e9 de journalisation int\u00e9gr\u00e9e de BSB-LAN, vous pouvez \u00e9galement appeler p\u00e9riodiquement une URL avec les param\u00e8tres que vous souhaitez voir mis \u00e0 jour. \u00c9tant donn\u00e9 que ces param\u00e8tres seront \u00e9galement envoy\u00e9s au courtier MQTT, votre syst\u00e8me de domotique les recevra \u00e9galement. Par exemple, si vous appelez p\u00e9riodiquement l'URL http://bsb-lan.local/700/8700 , le mode de fonctionnement du circuit de chauffage 1 (param\u00e8tre 700) ainsi que la temp\u00e9rature ext\u00e9rieure actuelle (param\u00e8tre 8700) seront envoy\u00e9s au courtier MQTT.","title":"\u00c9change de donn\u00e9es via MQTT"},{"location":"fr/homeautomation.html#exemples-dinterrogation-ou-de-definition-de-parametres-via-mqtt-a-laide-de-mosquitto","text":"Interroger la temp\u00e9rature ext\u00e9rieure (ID d'appareil 0, num\u00e9ro de cat\u00e9gorie 51, param\u00e8tre 8700): mosquitto_sub -h my.mosquitto-broker.local -u USER -P PASSWORD -t BSB-LAN/0/51/8700/status D\u00e9finissez le point de consigne de temp\u00e9rature de confort (ID d'appareil 0, num\u00e9ro de cat\u00e9gorie 16, param\u00e8tre 710) \u00e0 20 degr\u00e9s: mosquitto_pub -h my.mosquitto-broker.local -u USER -P PASSWORD -m \"20\" -t BSB-LAN/0/16/710/set Forcer la mise \u00e0 jour imm\u00e9diate de la temp\u00e9rature ext\u00e9rieure (ID d'appareil 0, num\u00e9ro de cat\u00e9gorie 51, param\u00e8tre 8700): mosquitto_pub -h my.mosquitto-broker.local -u USER -P PASSWORD -m \"\" -t BSB-LAN/0/51/8700/poll Forcer la mise \u00e0 jour imm\u00e9diate des param\u00e8tres 700 et 8700 \u00e0 partir de l'appareil par d\u00e9faut ainsi que du param\u00e8tre 8326 \u00e0 partir de l'ID d'appareil 1: mosquitto_pub -h my.mosquitto-broker.local -u USER -P PASSWORD -m \"700,8700,8326!1\" -t BSB-LAN/poll ou mosquitto_pub -h my.mosquitto-broker.local -u USER -P PASSWORD -m \"/0/16/700,/0/51/8700,/1/50/8326\" -t BSB-LAN/poll Attention: Veuillez noter que le num\u00e9ro de cat\u00e9gorie diff\u00e8re d'un syst\u00e8me \u00e0 l'autre et doit \u00eatre compar\u00e9 avec votre syst\u00e8me en premier!","title":"Exemples d'interrogation ou de d\u00e9finition de param\u00e8tres via MQTT \u00e0 l'aide de mosquitto"},{"location":"fr/homeautomation.html#echange-de-donnees-via-json","text":"BSB-LAN permet d'interroger et de d\u00e9finir des param\u00e8tres via des structures JSON et fournit \u00e9galement de nombreuses informations sur les param\u00e8tres et les structures de cat\u00e9gories de cette mani\u00e8re. L'API JSON est accessible via des commandes URL et le fichier openapi.yaml fourni dans ce r\u00e9f\u00e9rentiel peut \u00eatre utilis\u00e9 avec Swagger pour explorer ses possibilit\u00e9s et ses fonctionnalit\u00e9s.","title":"\u00c9change de donn\u00e9es via JSON"},{"location":"fr/homeautomation.html#echange-de-donnees-via-des-commandes-url-et-la-recuperation-de-donnees-a-lecran","text":"Pour des solutions plus simples, l' utilisation de commandes URL pour interroger et d\u00e9finir des param\u00e8tres peut \u00eatre utilis\u00e9e pour contr\u00f4ler BSB-LAN \u00e0 partir d'autres syst\u00e8mes. La r\u00e9cup\u00e9ration de donn\u00e9es \u00e0 l'\u00e9cran est possible car le projet tente de ne pas rompre certaines fa\u00e7ons d'afficher les donn\u00e9es, de sorte que l'analyse avec des expressions r\u00e9guli\u00e8res reste r\u00e9alisable. N\u00e9anmoins, pour la plupart des sc\u00e9narios, l'une des autres options sera probablement pr\u00e9f\u00e9rable.","title":"\u00c9change de donn\u00e9es via des commandes URL et la r\u00e9cup\u00e9ration de donn\u00e9es \u00e0 l'\u00e9cran"},{"location":"fr/install.html","text":"Installation L'installation de BSB-LAN n\u00e9cessite trois \u00e9tapes : Installer l'IDE Arduino pour flasher le logiciel BSB-LAN sur le microcontr\u00f4leur Assembler les pi\u00e8ces mat\u00e9rielles Connecter BSB-LAN au syst\u00e8me de chauffage Installation de l'IDE Arduino et flashage de BSB-LAN T\u00e9l\u00e9chargez et d\u00e9compressez la version actuelle de BSB-LAN \u00e0 partir du r\u00e9f\u00e9rentiel principal ou utilisez git pour cloner le r\u00e9f\u00e9rentiel. Acc\u00e9dez au dossier BSB_LAN et renommez les fichiers suivants : BSB_LAN_custom_defs.h.default en BSB_LAN_custom_defs.h BSB_LAN_config.h.default en BSB_LAN_config.h . T\u00e9l\u00e9chargez et installez l'IDE Arduino pour votre syst\u00e8me. Connectez votre microcontr\u00f4leur (ESP32 ou Arduino Due) \u00e0 votre ordinateur et d\u00e9marrez l'IDE Arduino. Acc\u00e9dez \u00e0 Outils/Conseil/Gestionnaire de cartes et assurez-vous que le framework pour votre carte est install\u00e9 (\"esp32 by Espressif Systems\" pour le microcontr\u00f4leur ESP32, \"Arduino SAM Boards (32-bits ARM Cortex-M3) by Arduino\" pour le microcontr\u00f4leur Arduino Due) \u00c0 nouveau, acc\u00e9dez \u00e0 Outils/Conseil et s\u00e9lectionnez votre microcontr\u00f4leur : ESP32 Dev Module pour le Joy-It ESP32 NodeMCU. Olimex ESP32-EVB pour l'Olimex EVB bas\u00e9 sur ESP32. OlimeMultiplier l'option Olimex ESP32-POE-ISO pour l'Olimex POE ISO bas\u00e9 sur ESP32 Arduino Due (Programming Port) pour l'Arduino Due. N'utilisez pas le port USB natif ici ! \u00c0 nouveau, acc\u00e9dez \u00e0 Outils/Conseil et s\u00e9lectionnez la vitesse de t\u00e9l\u00e9chargement appropri\u00e9e (jusqu'\u00e0 460800 pour ESP32, 115200 pour Arduino Due). Pour les microcontr\u00f4leurs bas\u00e9s sur ESP32, acc\u00e9dez \u00e0 nouveau \u00e0 Outils/Conseil et s\u00e9lectionnez \"Minimal SPIFFS\" pour le sch\u00e9ma de partition ( ne confondez pas ceci avec le sch\u00e9ma de partition \"Minimal\" similaire qui est diff\u00e9rent et ne fonctionne pas dans notre cas). Si vous ne d\u00e9finissez pas le bon sch\u00e9ma de partition, le micrologiciel ne rentrera pas dans l'ESP32 ! Acc\u00e9dez \u00e0 Fichier/Ouvrir et acc\u00e9dez au dossier BSB_LAN, puis double-cliquez sur BSB_LAN.ino . Le projet s'ouvrira. Vous pouvez maintenant passer \u00e0 la configuration de BSB-LAN. Une fois la configuration termin\u00e9e, acc\u00e9dez \u00e0 Esquisse/T\u00e9l\u00e9verser et t\u00e9l\u00e9versez le logiciel BSB-LAN sur le microcontr\u00f4leur. Mises \u00e0 jour ult\u00e9rieures sur les microcontr\u00f4leurs bas\u00e9s sur ESP32 \"over the air\" (OTA) Si vous ex\u00e9cutez BSB-LAN sur un microcontr\u00f4leur bas\u00e9 sur ESP32 et que vous avez activ\u00e9 les mises \u00e0 jour Over-the-Air dans les param\u00e8tres , vous pouvez effectuer les futures mises \u00e0 jour de BSB-LAN \u00e0 l'aide de votre navigateur. Pour ce faire, au lieu d'utiliser Esquisse/T\u00e9l\u00e9verser , vous devez s\u00e9lectionner Esquisse/Exporter le binaire compil\u00e9 . Cela cr\u00e9era un dossier build dans votre dossier BSB-LAN dans lequel vous trouverez, entre autres, le fichier BSB_LAN.ino.bin . Ouvrez maintenant http://bsb-lan.local:8080 et s\u00e9lectionnez et t\u00e9l\u00e9versez ce fichier. Ne pas interrompre le processus de t\u00e9l\u00e9versement. Vous pouvez essayer d'acc\u00e9der \u00e0 BSB-LAN \u00e0 partir d'une autre fen\u00eatre de navigateur pour voir si le processus est termin\u00e9. Veuillez noter que cela ne s'applique qu'aux microcontr\u00f4leurs bas\u00e9s sur ESP32. Les cartes Arduino ne prennent pas en charge cette fonctionnalit\u00e9. Assemblage de l'adaptateur BSB-LAN Vous pouvez obtenir un adaptateur enti\u00e8rement assembl\u00e9 aupr\u00e8s de Frederik (bsb(\u00e4t)code-it.de) ou en construire un vous-m\u00eame (consultez le dossier sch\u00e9mas pour les sch\u00e9mas). Une fois que vous avez l'adaptateur BSB-LAN pr\u00eat, vous devez simplement le brancher sur le microcontr\u00f4leur. Si vous utilisez un microcontr\u00f4leur Olimex, v\u00e9rifiez \u00e0 nouveau que l'adaptateur est bien centr\u00e9 sur le connecteur, car il peut encore s'ins\u00e9rer m\u00eame s'il est d\u00e9cal\u00e9 d'une rang\u00e9e de broches sur la gauche ou sur la droite. Connexion de BSB-LAN au syst\u00e8me de chauffage Une fois le microcontr\u00f4leur et l'adaptateur BSB-LAN pr\u00eats, effectuez les \u00e9tapes suivantes pour connecter BSB-LAN au syst\u00e8me de chauffage : D\u00e9branchez le microcontr\u00f4leur de votre ordinateur et \u00e9teignez votre syst\u00e8me de chauffage. Localisez les connecteurs BSB/LPB/PPS. Vous devrez peut-\u00eatre ouvrir votre syst\u00e8me de chauffage pour cela. Consultez la liste des syst\u00e8mes de chauffage pris en charge pour savoir o\u00f9 se trouvent les broches. Faites tout cela \u00e0 vos propres risques ! Si vous n'\u00eates pas prudent, vous risquez d'endommager votre \u00e9quipement ! Prenez particuli\u00e8rement soin d'\u00e9viter les d\u00e9charges \u00e9lectrostatiques (ESD) qui peuvent d\u00e9truire \u00e0 la fois BSB-LAN et le contr\u00f4leur de chauffage ! Branchez maintenant l'adaptateur BSB-LAN sur le microcontr\u00f4leur et connectez le connecteur \u00e0 vis + au connecteur CL+ (BSB), DB (LPB) ou A6 (PPS, diff\u00e9rents noms de connecteurs sont possibles), et le connecteur \u00e0 vis - au connecteur CL- (BSB), MB (LPB) ou M (PPS). S'il n'y a pas de connecteur vide, il n'y a aucun probl\u00e8me \u00e0 ajouter les fils pour BSB-LAN \u00e0 un connecteur d\u00e9j\u00e0 \"utilis\u00e9\", \u00e0 condition que les fils soient ins\u00e9r\u00e9s avec soin. En ce qui concerne les c\u00e2bles, un c\u00e2ble torsad\u00e9 \u00e0 deux c\u0153urs (id\u00e9alement blind\u00e9/blind\u00e9) est recommand\u00e9 par Siemens . Cependant, un certain nombre d'utilisateurs ont \u00e9galement r\u00e9ussi avec un simple fil de t\u00e9l\u00e9phone si les distances ne sont pas trop longues. Vous devez maintenant alimenter le microcontr\u00f4leur. Notez que le syst\u00e8me de chauffage n'alimente pas le microcontr\u00f4leur, m\u00eame si la LED de l'adaptateur BSB-LAN s'allume lorsque vous le connectez au syst\u00e8me de chauffage. Vous devez alimenter le microcontr\u00f4leur via son port USB (ou via PoE sur l'Olimex POE-ISO). Assurez-vous d'utiliser une alimentation stable d'au moins 2 amp\u00e8res. Une fois le microcontr\u00f4leur aliment\u00e9, allumez le syst\u00e8me de chauffage. La LED rouge de l'adaptateur BSB-LAN doit s'allumer. Il devrait clignoter de temps en temps. Ouvrez maintenant votre navigateur web et acc\u00e9dez \u00e0 l'adresse IP de BSB-LAN. Si MDNS est activ\u00e9, vous pouvez directement acc\u00e9der \u00e0 http://bsb-lan.local . Sinon, vous pouvez trouver l'adresse IP de BSB-LAN dans votre routeur, ou vous pouvez connecter le microcontr\u00f4leur \u00e0 votre PC et ouvrir l'IDE Arduino, puis acc\u00e9der \u00e0 Outils/Moniteur s\u00e9rie et d\u00e9finir la vitesse du moniteur s\u00e9rie sur 115200. Red\u00e9marrez le microcontr\u00f4leur, et l'adresse IP s'affichera lors de la connexion au r\u00e9seau. G\u00e9n\u00e9ration de la liste des param\u00e8tres sp\u00e9cifiques \u00e0 l'appareil Lorsque vous acc\u00e9dez \u00e0 BSB-LAN pour la premi\u00e8re fois, vous remarquerez que seuls quelques param\u00e8tres sont affich\u00e9s sur l'interface Web de l'appareil. Cela est d\u00fb au fait que chaque mod\u00e8le du contr\u00f4leur Siemens int\u00e9gr\u00e9 \u00e0 votre syst\u00e8me de chauffage prend en charge un ensemble diff\u00e9rent de param\u00e8tres. Auparavant, je fournissais une liste de param\u00e8tres collect\u00e9s \u00e0 partir de tous les types de syst\u00e8mes de chauffage, mais il s'est av\u00e9r\u00e9 que cette liste \u00e9tait ambigu\u00eb ou contenait m\u00eame des erreurs que nous ne pouvions pas corriger de mani\u00e8re fiable. Cette liste est toujours disponible dans la version 2.2.x de BSB-LAN et peut \u00eatre copi\u00e9e \u00e0 partir de l\u00e0 si n\u00e9cessaire. Cependant, il n'est pas conseill\u00e9 de le faire car les ambigu\u00eft\u00e9s et les erreurs susmentionn\u00e9es pr\u00e9sentent un risque trop \u00e9lev\u00e9 de mauvaise configuration du syst\u00e8me de chauffage. Il est plut\u00f4t recommand\u00e9 de cliquer sur le bouton \" Liste des param\u00e8tres sp\u00e9cifiques \u00e0 l'appareil \" dans le menu BSB-LAN et d'envoyer la liste g\u00e9n\u00e9r\u00e9e \u00e0 Frederik (bsb(\u00e4t)code-it.de). \u00c0 partir de ce fichier, une liste de param\u00e8tres peut \u00eatre g\u00e9n\u00e9r\u00e9e qui correspond exactement au contr\u00f4leur de votre syst\u00e8me de chauffage. Malheureusement, ce processus ne peut pas encore \u00eatre automatis\u00e9, mais au moins il n'a besoin d'\u00eatre effectu\u00e9 qu'une seule fois. Ces donn\u00e9es brutes ne contiennent aucun param\u00e8tre ni aucun autre type de donn\u00e9es personnelles, uniquement la structure des param\u00e8tres du syst\u00e8me de chauffage. Il est dans mon propre int\u00e9r\u00eat de cr\u00e9er et de renvoyer ces listes de param\u00e8tres sans d\u00e9lai, mais je vous demande de bien vouloir comprendre si cela prend un peu plus de temps en raison de mon travail ou de questions familiales. Une fois que vous avez re\u00e7u la liste des param\u00e8tres (ou que vous avez pris celle de la version 2.2.x), vous devez remplacer le fichier BSB_LAN_custom_defs.h existant par celui qui vous a \u00e9t\u00e9 envoy\u00e9, le compiler et le flasher \u00e0 nouveau. Vous \u00eates maintenant pr\u00eat \u00e0 acc\u00e9der \u00e0 tous les param\u00e8tres.","title":"Assemblage"},{"location":"fr/install.html#installation","text":"L'installation de BSB-LAN n\u00e9cessite trois \u00e9tapes : Installer l'IDE Arduino pour flasher le logiciel BSB-LAN sur le microcontr\u00f4leur Assembler les pi\u00e8ces mat\u00e9rielles Connecter BSB-LAN au syst\u00e8me de chauffage","title":"Installation"},{"location":"fr/install.html#installation-de-lide-arduino-et-flashage-de-bsb-lan","text":"T\u00e9l\u00e9chargez et d\u00e9compressez la version actuelle de BSB-LAN \u00e0 partir du r\u00e9f\u00e9rentiel principal ou utilisez git pour cloner le r\u00e9f\u00e9rentiel. Acc\u00e9dez au dossier BSB_LAN et renommez les fichiers suivants : BSB_LAN_custom_defs.h.default en BSB_LAN_custom_defs.h BSB_LAN_config.h.default en BSB_LAN_config.h . T\u00e9l\u00e9chargez et installez l'IDE Arduino pour votre syst\u00e8me. Connectez votre microcontr\u00f4leur (ESP32 ou Arduino Due) \u00e0 votre ordinateur et d\u00e9marrez l'IDE Arduino. Acc\u00e9dez \u00e0 Outils/Conseil/Gestionnaire de cartes et assurez-vous que le framework pour votre carte est install\u00e9 (\"esp32 by Espressif Systems\" pour le microcontr\u00f4leur ESP32, \"Arduino SAM Boards (32-bits ARM Cortex-M3) by Arduino\" pour le microcontr\u00f4leur Arduino Due) \u00c0 nouveau, acc\u00e9dez \u00e0 Outils/Conseil et s\u00e9lectionnez votre microcontr\u00f4leur : ESP32 Dev Module pour le Joy-It ESP32 NodeMCU. Olimex ESP32-EVB pour l'Olimex EVB bas\u00e9 sur ESP32. OlimeMultiplier l'option Olimex ESP32-POE-ISO pour l'Olimex POE ISO bas\u00e9 sur ESP32 Arduino Due (Programming Port) pour l'Arduino Due. N'utilisez pas le port USB natif ici ! \u00c0 nouveau, acc\u00e9dez \u00e0 Outils/Conseil et s\u00e9lectionnez la vitesse de t\u00e9l\u00e9chargement appropri\u00e9e (jusqu'\u00e0 460800 pour ESP32, 115200 pour Arduino Due). Pour les microcontr\u00f4leurs bas\u00e9s sur ESP32, acc\u00e9dez \u00e0 nouveau \u00e0 Outils/Conseil et s\u00e9lectionnez \"Minimal SPIFFS\" pour le sch\u00e9ma de partition ( ne confondez pas ceci avec le sch\u00e9ma de partition \"Minimal\" similaire qui est diff\u00e9rent et ne fonctionne pas dans notre cas). Si vous ne d\u00e9finissez pas le bon sch\u00e9ma de partition, le micrologiciel ne rentrera pas dans l'ESP32 ! Acc\u00e9dez \u00e0 Fichier/Ouvrir et acc\u00e9dez au dossier BSB_LAN, puis double-cliquez sur BSB_LAN.ino . Le projet s'ouvrira. Vous pouvez maintenant passer \u00e0 la configuration de BSB-LAN. Une fois la configuration termin\u00e9e, acc\u00e9dez \u00e0 Esquisse/T\u00e9l\u00e9verser et t\u00e9l\u00e9versez le logiciel BSB-LAN sur le microcontr\u00f4leur.","title":"Installation de l'IDE Arduino et flashage de BSB-LAN"},{"location":"fr/install.html#mises-a-jour-ulterieures-sur-les-microcontroleurs-bases-sur-esp32-over-the-air-ota","text":"Si vous ex\u00e9cutez BSB-LAN sur un microcontr\u00f4leur bas\u00e9 sur ESP32 et que vous avez activ\u00e9 les mises \u00e0 jour Over-the-Air dans les param\u00e8tres , vous pouvez effectuer les futures mises \u00e0 jour de BSB-LAN \u00e0 l'aide de votre navigateur. Pour ce faire, au lieu d'utiliser Esquisse/T\u00e9l\u00e9verser , vous devez s\u00e9lectionner Esquisse/Exporter le binaire compil\u00e9 . Cela cr\u00e9era un dossier build dans votre dossier BSB-LAN dans lequel vous trouverez, entre autres, le fichier BSB_LAN.ino.bin . Ouvrez maintenant http://bsb-lan.local:8080 et s\u00e9lectionnez et t\u00e9l\u00e9versez ce fichier. Ne pas interrompre le processus de t\u00e9l\u00e9versement. Vous pouvez essayer d'acc\u00e9der \u00e0 BSB-LAN \u00e0 partir d'une autre fen\u00eatre de navigateur pour voir si le processus est termin\u00e9. Veuillez noter que cela ne s'applique qu'aux microcontr\u00f4leurs bas\u00e9s sur ESP32. Les cartes Arduino ne prennent pas en charge cette fonctionnalit\u00e9.","title":"Mises \u00e0 jour ult\u00e9rieures sur les microcontr\u00f4leurs bas\u00e9s sur ESP32 \"over the air\" (OTA)"},{"location":"fr/install.html#assemblage-de-ladaptateur-bsb-lan","text":"Vous pouvez obtenir un adaptateur enti\u00e8rement assembl\u00e9 aupr\u00e8s de Frederik (bsb(\u00e4t)code-it.de) ou en construire un vous-m\u00eame (consultez le dossier sch\u00e9mas pour les sch\u00e9mas). Une fois que vous avez l'adaptateur BSB-LAN pr\u00eat, vous devez simplement le brancher sur le microcontr\u00f4leur. Si vous utilisez un microcontr\u00f4leur Olimex, v\u00e9rifiez \u00e0 nouveau que l'adaptateur est bien centr\u00e9 sur le connecteur, car il peut encore s'ins\u00e9rer m\u00eame s'il est d\u00e9cal\u00e9 d'une rang\u00e9e de broches sur la gauche ou sur la droite.","title":"Assemblage de l'adaptateur BSB-LAN"},{"location":"fr/install.html#connexion-de-bsb-lan-au-systeme-de-chauffage","text":"Une fois le microcontr\u00f4leur et l'adaptateur BSB-LAN pr\u00eats, effectuez les \u00e9tapes suivantes pour connecter BSB-LAN au syst\u00e8me de chauffage : D\u00e9branchez le microcontr\u00f4leur de votre ordinateur et \u00e9teignez votre syst\u00e8me de chauffage. Localisez les connecteurs BSB/LPB/PPS. Vous devrez peut-\u00eatre ouvrir votre syst\u00e8me de chauffage pour cela. Consultez la liste des syst\u00e8mes de chauffage pris en charge pour savoir o\u00f9 se trouvent les broches. Faites tout cela \u00e0 vos propres risques ! Si vous n'\u00eates pas prudent, vous risquez d'endommager votre \u00e9quipement ! Prenez particuli\u00e8rement soin d'\u00e9viter les d\u00e9charges \u00e9lectrostatiques (ESD) qui peuvent d\u00e9truire \u00e0 la fois BSB-LAN et le contr\u00f4leur de chauffage ! Branchez maintenant l'adaptateur BSB-LAN sur le microcontr\u00f4leur et connectez le connecteur \u00e0 vis + au connecteur CL+ (BSB), DB (LPB) ou A6 (PPS, diff\u00e9rents noms de connecteurs sont possibles), et le connecteur \u00e0 vis - au connecteur CL- (BSB), MB (LPB) ou M (PPS). S'il n'y a pas de connecteur vide, il n'y a aucun probl\u00e8me \u00e0 ajouter les fils pour BSB-LAN \u00e0 un connecteur d\u00e9j\u00e0 \"utilis\u00e9\", \u00e0 condition que les fils soient ins\u00e9r\u00e9s avec soin. En ce qui concerne les c\u00e2bles, un c\u00e2ble torsad\u00e9 \u00e0 deux c\u0153urs (id\u00e9alement blind\u00e9/blind\u00e9) est recommand\u00e9 par Siemens . Cependant, un certain nombre d'utilisateurs ont \u00e9galement r\u00e9ussi avec un simple fil de t\u00e9l\u00e9phone si les distances ne sont pas trop longues. Vous devez maintenant alimenter le microcontr\u00f4leur. Notez que le syst\u00e8me de chauffage n'alimente pas le microcontr\u00f4leur, m\u00eame si la LED de l'adaptateur BSB-LAN s'allume lorsque vous le connectez au syst\u00e8me de chauffage. Vous devez alimenter le microcontr\u00f4leur via son port USB (ou via PoE sur l'Olimex POE-ISO). Assurez-vous d'utiliser une alimentation stable d'au moins 2 amp\u00e8res. Une fois le microcontr\u00f4leur aliment\u00e9, allumez le syst\u00e8me de chauffage. La LED rouge de l'adaptateur BSB-LAN doit s'allumer. Il devrait clignoter de temps en temps. Ouvrez maintenant votre navigateur web et acc\u00e9dez \u00e0 l'adresse IP de BSB-LAN. Si MDNS est activ\u00e9, vous pouvez directement acc\u00e9der \u00e0 http://bsb-lan.local . Sinon, vous pouvez trouver l'adresse IP de BSB-LAN dans votre routeur, ou vous pouvez connecter le microcontr\u00f4leur \u00e0 votre PC et ouvrir l'IDE Arduino, puis acc\u00e9der \u00e0 Outils/Moniteur s\u00e9rie et d\u00e9finir la vitesse du moniteur s\u00e9rie sur 115200. Red\u00e9marrez le microcontr\u00f4leur, et l'adresse IP s'affichera lors de la connexion au r\u00e9seau.","title":"Connexion de BSB-LAN au syst\u00e8me de chauffage"},{"location":"fr/install.html#generation-de-la-liste-des-parametres-specifiques-a-lappareil","text":"Lorsque vous acc\u00e9dez \u00e0 BSB-LAN pour la premi\u00e8re fois, vous remarquerez que seuls quelques param\u00e8tres sont affich\u00e9s sur l'interface Web de l'appareil. Cela est d\u00fb au fait que chaque mod\u00e8le du contr\u00f4leur Siemens int\u00e9gr\u00e9 \u00e0 votre syst\u00e8me de chauffage prend en charge un ensemble diff\u00e9rent de param\u00e8tres. Auparavant, je fournissais une liste de param\u00e8tres collect\u00e9s \u00e0 partir de tous les types de syst\u00e8mes de chauffage, mais il s'est av\u00e9r\u00e9 que cette liste \u00e9tait ambigu\u00eb ou contenait m\u00eame des erreurs que nous ne pouvions pas corriger de mani\u00e8re fiable. Cette liste est toujours disponible dans la version 2.2.x de BSB-LAN et peut \u00eatre copi\u00e9e \u00e0 partir de l\u00e0 si n\u00e9cessaire. Cependant, il n'est pas conseill\u00e9 de le faire car les ambigu\u00eft\u00e9s et les erreurs susmentionn\u00e9es pr\u00e9sentent un risque trop \u00e9lev\u00e9 de mauvaise configuration du syst\u00e8me de chauffage. Il est plut\u00f4t recommand\u00e9 de cliquer sur le bouton \" Liste des param\u00e8tres sp\u00e9cifiques \u00e0 l'appareil \" dans le menu BSB-LAN et d'envoyer la liste g\u00e9n\u00e9r\u00e9e \u00e0 Frederik (bsb(\u00e4t)code-it.de). \u00c0 partir de ce fichier, une liste de param\u00e8tres peut \u00eatre g\u00e9n\u00e9r\u00e9e qui correspond exactement au contr\u00f4leur de votre syst\u00e8me de chauffage. Malheureusement, ce processus ne peut pas encore \u00eatre automatis\u00e9, mais au moins il n'a besoin d'\u00eatre effectu\u00e9 qu'une seule fois. Ces donn\u00e9es brutes ne contiennent aucun param\u00e8tre ni aucun autre type de donn\u00e9es personnelles, uniquement la structure des param\u00e8tres du syst\u00e8me de chauffage. Il est dans mon propre int\u00e9r\u00eat de cr\u00e9er et de renvoyer ces listes de param\u00e8tres sans d\u00e9lai, mais je vous demande de bien vouloir comprendre si cela prend un peu plus de temps en raison de mon travail ou de questions familiales. Une fois que vous avez re\u00e7u la liste des param\u00e8tres (ou que vous avez pris celle de la version 2.2.x), vous devez remplacer le fichier BSB_LAN_custom_defs.h existant par celui qui vous a \u00e9t\u00e9 envoy\u00e9, le compiler et le flasher \u00e0 nouveau. Vous \u00eates maintenant pr\u00eat \u00e0 acc\u00e9der \u00e0 tous les param\u00e8tres.","title":"G\u00e9n\u00e9ration de la liste des param\u00e8tres sp\u00e9cifiques \u00e0 l'appareil"},{"location":"fr/quickstart.html","text":"Instructions de d\u00e9marrage rapide Ces instructions de d\u00e9marrage rapide s'adressent aux utilisateurs qui sont familiaris\u00e9s avec l'installation et la configuration de logiciels sur leur ordinateur. Si vous avez besoin d'instructions plus d\u00e9taill\u00e9es, veuillez consulter les instructions d'installation ! Assurez-vous que votre syst\u00e8me de chauffage est compatible avec BSB-LAN ! T\u00e9l\u00e9chargez et d\u00e9compressez la version actuelle de BSB-LAN \u00e0 partir du r\u00e9f\u00e9rentiel principal ou utilisez git pour cloner le r\u00e9f\u00e9rentiel. Acc\u00e9dez au dossier BSB_LAN et renommez les fichiers suivants : BSB_LAN_custom_defs.h.default en BSB_LAN_custom_defs.h BSB_LAN_config.h.default en BSB_LAN_config.h . T\u00e9l\u00e9chargez et installez l'IDE Arduino pour votre syst\u00e8me. Connectez votre microcontr\u00f4leur (ESP32 ou Arduino Due) \u00e0 votre ordinateur et d\u00e9marrez l'IDE Arduino. Acc\u00e9dez \u00e0 Outils/Board/Board Manager et assurez-vous que le framework pour votre carte est install\u00e9 (\"esp32 by Espressif Systems\" pour le microcontr\u00f4leur ESP32, \"Arduino SAM Boards (32-bits ARM Cortex-M3) by Arduino\" pour le microcontr\u00f4leur Arduino Due) \u00c0 nouveau, acc\u00e9dez \u00e0 Outils/Board et s\u00e9lectionnez votre microcontr\u00f4leur : ESP32 Dev Module pour le Joy-It ESP32 NodeMCU. Olimex ESP32-EVB pour l'Olimex EVB bas\u00e9 sur ESP32. Olimex ESP32-POE-ISO pour l'Olimex POE ISO bas\u00e9 sur ESP32 Arduino Due (Programming Port) pour l'Arduino Due. N'utilisez pas le port USB natif ici ! \u00c0 nouveau, acc\u00e9dez \u00e0 Outils/Board et s\u00e9lectionnez la vitesse de t\u00e9l\u00e9chargement appropri\u00e9e (jusqu'\u00e0 460800 pour ESP32, 115200 pour Arduino Due). Pour les microcontr\u00f4leurs bas\u00e9s sur ESP32, acc\u00e9dez \u00e0 nouveau \u00e0 Outils/Partition Scheme et s\u00e9lectionnez \"Minimal SPIFFS\" pour le sch\u00e9ma de partition ( ne confondez pas avec le sch\u00e9ma de partition \"Minimal\" similaire qui est diff\u00e9rent et ne fonctionne pas dans notre cas ). Si vous ne d\u00e9finissez pas le bon sch\u00e9ma de partition, le micrologiciel ne rentrera pas dans l'ESP32 ! Acc\u00e9dez \u00e0 Fichier/Ouvrir et acc\u00e9dez au dossier BSB_LAN, puis double-cliquez sur BSB_LAN.ino . Le projet s'ouvrira. Cliquez sur l'onglet avec le nom de fichier BSB_LAN_config.h et configurez au moins les options suivantes : Recherchez #define LANG DE : changez DE en EN pour l'anglais, FR pour le fran\u00e7ais, etc. Recherchez uint8_t network_type : d\u00e9finissez cette option sur LAN si vous utilisez une connexion Ethernet/LAN. D\u00e9finissez-la sur WLAN si vous utilisez une connexion WiFi/WLAN. Si vous n'utilisez pas DHCP, configurez les options suivantes en fonction de votre r\u00e9seau (assurez-vous d'utiliser une virgule, et non un point, pour les adresses IP !) : byte ip_addr[4] = {192,168,178,88}; byte gateway_addr[4] = {192,168,178,1}; byte dns_addr[4] = {192,168,178,1}; byte subnet_addr[4] = {255,255,255,0}; char wifi_ssid[32] = \"Your_Wifi_network_name\"; char wifi_pass[32] = \"Your_WiFi_network_password\"; Acc\u00e9dez maintenant \u00e0 Sketch/Upload et t\u00e9l\u00e9chargez le logiciel BSB-LAN sur le microcontr\u00f4leur. D\u00e9connectez le microcontr\u00f4leur et \u00e9teignez votre syst\u00e8me de chauffage. Localisez les connecteurs BSB/LPB/PPS. Vous devrez peut-\u00eatre ouvrir votre syst\u00e8me de chauffage pour cela. Faites tout cela \u00e0 vos propres risques ! Connectez maintenant l'adaptateur BSB-LAN au microcontr\u00f4leur et connectez le connecteur \u00e0 vis + au connecteur CL+ (BSB), DB (LPB) ou A6 (PPS, les noms des connecteurs peuvent varier), et le connecteur \u00e0 vis - au connecteur CL- (BSB), MB (LPB) ou M (PPS). Allumez le microcontr\u00f4leur via le port USB ou via PoE (uniquement Olimex POE-ISO). Puis allumez le syst\u00e8me de chauffage. Le LED rouge de l'adaptateur BSB-LAN doit s'allumer. Il devrait clignoter de temps en temps. Ouvrez maintenant votre navigateur web et acc\u00e9dez \u00e0 l'adresse IP de BSB-LAN. Si MDNS est activ\u00e9, vous pouvez directement acc\u00e9der \u00e0 http://bsb-lan.local . Vous pouvez trouver l'adresse IP de BSB-LAN dans votre routeur, ou vous pouvez connecter le microcontr\u00f4leur \u00e0 votre PC et ouvrir l'IDE Arduino, puis acc\u00e9der \u00e0 Outils/Moniteur s\u00e9rie . Red\u00e9marrez le microcontr\u00f4leur, et l'adresse IP s'affichera lors de la connexion au r\u00e9seau. C'est termin\u00e9 :-) \u00c7a ne fonctionne pas ! Veuillez vous assurer de v\u00e9rifier chaque entr\u00e9e dans la section D\u00e9pannage avant de nous contacter ! Pourquoi est-ce que je ne vois que quelques param\u00e8tres ? Lors de votre premi\u00e8re connexion \u00e0 BSB-LAN, vous remarquerez que seuls quelques param\u00e8tres sont affich\u00e9s sur l'interface Web de l'appareil. Cela est d\u00fb au fait que chaque mod\u00e8le du contr\u00f4leur Siemens int\u00e9gr\u00e9 \u00e0 votre syst\u00e8me de chauffage prend en charge un ensemble diff\u00e9rent de param\u00e8tres. Auparavant, je fournissais une liste de param\u00e8tres collect\u00e9s \u00e0 partir de diff\u00e9rents types de syst\u00e8mes de chauffage, mais il s'est av\u00e9r\u00e9 que cette liste \u00e9tait ambigu\u00eb ou contenait m\u00eame des erreurs que nous ne pouvions pas corriger de mani\u00e8re fiable. Cette liste est toujours disponible dans la version 2.2.x de BSB-LAN et peut \u00eatre copi\u00e9e \u00e0 partir de l\u00e0 si n\u00e9cessaire. Cependant, il n'est pas conseill\u00e9 de le faire car les ambigu\u00eft\u00e9s et les erreurs mentionn\u00e9es pr\u00e9sentent un risque trop \u00e9lev\u00e9 de mauvaise configuration du syst\u00e8me de chauffage. Il est plut\u00f4t recommand\u00e9 de cliquer sur le bouton \" Liste des param\u00e8tres sp\u00e9cifiques \u00e0 l'appareil \" dans le menu de BSB-LAN et d'envoyer la liste g\u00e9n\u00e9r\u00e9e \u00e0 Frederik (bsb(\u00e4t)code-it.de). \u00c0 partir de ce fichier, une liste de param\u00e8tres peut \u00eatre g\u00e9n\u00e9r\u00e9e qui correspond exactement au contr\u00f4leur de votre syst\u00e8me de chauffage. Malheureusement, ce processus ne peut pas encore \u00eatre automatis\u00e9, mais au moins il n'a besoin d'\u00eatre fait qu'une seule fois. Ces donn\u00e9es brutes ne contiennent aucune configuration ni aucun autre type de donn\u00e9es personnelles, uniquement la structure des param\u00e8tres du syst\u00e8me de chauffage. Il est dans mon propre int\u00e9r\u00eat de cr\u00e9er et de renvoyer ces listes de param\u00e8tres sans d\u00e9lai, mais je vous prie de bien vouloir comprendre si cela prend un peu plus de temps en raison de mon travail ou de mes obligations familiales.","title":"D\u00e9marrage rapide"},{"location":"fr/quickstart.html#instructions-de-demarrage-rapide","text":"Ces instructions de d\u00e9marrage rapide s'adressent aux utilisateurs qui sont familiaris\u00e9s avec l'installation et la configuration de logiciels sur leur ordinateur. Si vous avez besoin d'instructions plus d\u00e9taill\u00e9es, veuillez consulter les instructions d'installation ! Assurez-vous que votre syst\u00e8me de chauffage est compatible avec BSB-LAN ! T\u00e9l\u00e9chargez et d\u00e9compressez la version actuelle de BSB-LAN \u00e0 partir du r\u00e9f\u00e9rentiel principal ou utilisez git pour cloner le r\u00e9f\u00e9rentiel. Acc\u00e9dez au dossier BSB_LAN et renommez les fichiers suivants : BSB_LAN_custom_defs.h.default en BSB_LAN_custom_defs.h BSB_LAN_config.h.default en BSB_LAN_config.h . T\u00e9l\u00e9chargez et installez l'IDE Arduino pour votre syst\u00e8me. Connectez votre microcontr\u00f4leur (ESP32 ou Arduino Due) \u00e0 votre ordinateur et d\u00e9marrez l'IDE Arduino. Acc\u00e9dez \u00e0 Outils/Board/Board Manager et assurez-vous que le framework pour votre carte est install\u00e9 (\"esp32 by Espressif Systems\" pour le microcontr\u00f4leur ESP32, \"Arduino SAM Boards (32-bits ARM Cortex-M3) by Arduino\" pour le microcontr\u00f4leur Arduino Due) \u00c0 nouveau, acc\u00e9dez \u00e0 Outils/Board et s\u00e9lectionnez votre microcontr\u00f4leur : ESP32 Dev Module pour le Joy-It ESP32 NodeMCU. Olimex ESP32-EVB pour l'Olimex EVB bas\u00e9 sur ESP32. Olimex ESP32-POE-ISO pour l'Olimex POE ISO bas\u00e9 sur ESP32 Arduino Due (Programming Port) pour l'Arduino Due. N'utilisez pas le port USB natif ici ! \u00c0 nouveau, acc\u00e9dez \u00e0 Outils/Board et s\u00e9lectionnez la vitesse de t\u00e9l\u00e9chargement appropri\u00e9e (jusqu'\u00e0 460800 pour ESP32, 115200 pour Arduino Due). Pour les microcontr\u00f4leurs bas\u00e9s sur ESP32, acc\u00e9dez \u00e0 nouveau \u00e0 Outils/Partition Scheme et s\u00e9lectionnez \"Minimal SPIFFS\" pour le sch\u00e9ma de partition ( ne confondez pas avec le sch\u00e9ma de partition \"Minimal\" similaire qui est diff\u00e9rent et ne fonctionne pas dans notre cas ). Si vous ne d\u00e9finissez pas le bon sch\u00e9ma de partition, le micrologiciel ne rentrera pas dans l'ESP32 ! Acc\u00e9dez \u00e0 Fichier/Ouvrir et acc\u00e9dez au dossier BSB_LAN, puis double-cliquez sur BSB_LAN.ino . Le projet s'ouvrira. Cliquez sur l'onglet avec le nom de fichier BSB_LAN_config.h et configurez au moins les options suivantes : Recherchez #define LANG DE : changez DE en EN pour l'anglais, FR pour le fran\u00e7ais, etc. Recherchez uint8_t network_type : d\u00e9finissez cette option sur LAN si vous utilisez une connexion Ethernet/LAN. D\u00e9finissez-la sur WLAN si vous utilisez une connexion WiFi/WLAN. Si vous n'utilisez pas DHCP, configurez les options suivantes en fonction de votre r\u00e9seau (assurez-vous d'utiliser une virgule, et non un point, pour les adresses IP !) : byte ip_addr[4] = {192,168,178,88}; byte gateway_addr[4] = {192,168,178,1}; byte dns_addr[4] = {192,168,178,1}; byte subnet_addr[4] = {255,255,255,0}; char wifi_ssid[32] = \"Your_Wifi_network_name\"; char wifi_pass[32] = \"Your_WiFi_network_password\"; Acc\u00e9dez maintenant \u00e0 Sketch/Upload et t\u00e9l\u00e9chargez le logiciel BSB-LAN sur le microcontr\u00f4leur. D\u00e9connectez le microcontr\u00f4leur et \u00e9teignez votre syst\u00e8me de chauffage. Localisez les connecteurs BSB/LPB/PPS. Vous devrez peut-\u00eatre ouvrir votre syst\u00e8me de chauffage pour cela. Faites tout cela \u00e0 vos propres risques ! Connectez maintenant l'adaptateur BSB-LAN au microcontr\u00f4leur et connectez le connecteur \u00e0 vis + au connecteur CL+ (BSB), DB (LPB) ou A6 (PPS, les noms des connecteurs peuvent varier), et le connecteur \u00e0 vis - au connecteur CL- (BSB), MB (LPB) ou M (PPS). Allumez le microcontr\u00f4leur via le port USB ou via PoE (uniquement Olimex POE-ISO). Puis allumez le syst\u00e8me de chauffage. Le LED rouge de l'adaptateur BSB-LAN doit s'allumer. Il devrait clignoter de temps en temps. Ouvrez maintenant votre navigateur web et acc\u00e9dez \u00e0 l'adresse IP de BSB-LAN. Si MDNS est activ\u00e9, vous pouvez directement acc\u00e9der \u00e0 http://bsb-lan.local . Vous pouvez trouver l'adresse IP de BSB-LAN dans votre routeur, ou vous pouvez connecter le microcontr\u00f4leur \u00e0 votre PC et ouvrir l'IDE Arduino, puis acc\u00e9der \u00e0 Outils/Moniteur s\u00e9rie . Red\u00e9marrez le microcontr\u00f4leur, et l'adresse IP s'affichera lors de la connexion au r\u00e9seau. C'est termin\u00e9 :-)","title":"Instructions de d\u00e9marrage rapide"},{"location":"fr/quickstart.html#ca-ne-fonctionne-pas","text":"Veuillez vous assurer de v\u00e9rifier chaque entr\u00e9e dans la section D\u00e9pannage avant de nous contacter !","title":"\u00c7a ne fonctionne pas !"},{"location":"fr/quickstart.html#pourquoi-est-ce-que-je-ne-vois-que-quelques-parametres","text":"Lors de votre premi\u00e8re connexion \u00e0 BSB-LAN, vous remarquerez que seuls quelques param\u00e8tres sont affich\u00e9s sur l'interface Web de l'appareil. Cela est d\u00fb au fait que chaque mod\u00e8le du contr\u00f4leur Siemens int\u00e9gr\u00e9 \u00e0 votre syst\u00e8me de chauffage prend en charge un ensemble diff\u00e9rent de param\u00e8tres. Auparavant, je fournissais une liste de param\u00e8tres collect\u00e9s \u00e0 partir de diff\u00e9rents types de syst\u00e8mes de chauffage, mais il s'est av\u00e9r\u00e9 que cette liste \u00e9tait ambigu\u00eb ou contenait m\u00eame des erreurs que nous ne pouvions pas corriger de mani\u00e8re fiable. Cette liste est toujours disponible dans la version 2.2.x de BSB-LAN et peut \u00eatre copi\u00e9e \u00e0 partir de l\u00e0 si n\u00e9cessaire. Cependant, il n'est pas conseill\u00e9 de le faire car les ambigu\u00eft\u00e9s et les erreurs mentionn\u00e9es pr\u00e9sentent un risque trop \u00e9lev\u00e9 de mauvaise configuration du syst\u00e8me de chauffage. Il est plut\u00f4t recommand\u00e9 de cliquer sur le bouton \" Liste des param\u00e8tres sp\u00e9cifiques \u00e0 l'appareil \" dans le menu de BSB-LAN et d'envoyer la liste g\u00e9n\u00e9r\u00e9e \u00e0 Frederik (bsb(\u00e4t)code-it.de). \u00c0 partir de ce fichier, une liste de param\u00e8tres peut \u00eatre g\u00e9n\u00e9r\u00e9e qui correspond exactement au contr\u00f4leur de votre syst\u00e8me de chauffage. Malheureusement, ce processus ne peut pas encore \u00eatre automatis\u00e9, mais au moins il n'a besoin d'\u00eatre fait qu'une seule fois. Ces donn\u00e9es brutes ne contiennent aucune configuration ni aucun autre type de donn\u00e9es personnelles, uniquement la structure des param\u00e8tres du syst\u00e8me de chauffage. Il est dans mon propre int\u00e9r\u00eat de cr\u00e9er et de renvoyer ces listes de param\u00e8tres sans d\u00e9lai, mais je vous prie de bien vouloir comprendre si cela prend un peu plus de temps en raison de mon travail ou de mes obligations familiales.","title":"Pourquoi est-ce que je ne vois que quelques param\u00e8tres ?"},{"location":"fr/supported_heating_systems.html","text":"Syst\u00e8mes de chauffage pris en charge BSB-LAN prend en charge les syst\u00e8mes de chauffage qui communiquent \u00e0 l'aide du BSB (Boiler System Bus) , du LPB (Local Process Bus) ou du PPS (Punkt-zu-Punkt-Schnittstelle) . Ces contr\u00f4leurs sont g\u00e9n\u00e9ralement fabriqu\u00e9s par Siemens, les mod\u00e8les plus anciens peuvent encore porter le nom de \"Landis & Stafea\" ou \"Landis & Gyr\". Nous avons compil\u00e9 une liste de mod\u00e8les fonctionnels de diff\u00e9rents fabricants de syst\u00e8mes de chauffage qui ont \u00e9t\u00e9 confirm\u00e9s comme fonctionnant avec BSB-LAN, bien qu'il n'y ait pas de garantie \u00e0 100 % que les fabricants conservent le nom du mod\u00e8le mais changent le contr\u00f4leur pour un syst\u00e8me diff\u00e9rent. Assurez-vous donc toujours de v\u00e9rifier que les bonnes connecteurs sont disponibles. Voici quelques exemples de contr\u00f4leurs de chauffage et des connecteurs utilis\u00e9s pour se connecter \u00e0 BSB-LAN. Certains connecteurs ont trois broches, d'autres en ont deux. S'il y a trois broches, assurez-vous de choisir les deux bonnes (CL+ et CL-) car la troisi\u00e8me broche (G+) sert \u00e0 fournir l'\u00e9clairage de fond pour l'unit\u00e9 de la pi\u00e8ce. Il n'endommagera pas BSB-LAN, mais il peut \u00eatre trompeur car la LED de BSB-LAN s'allumera m\u00eame si elle n'est pas connect\u00e9e \u00e0 la bonne broche. D'ailleurs : Si vous n'avez qu'un seul connecteur et qu'il est d\u00e9j\u00e0 occup\u00e9 par une unit\u00e9 de pi\u00e8ce, il n'y a aucun probl\u00e8me \u00e0 ajouter BSB-LAN au m\u00eame connecteur. Faites simplement attention lorsque vous ajoutez les fils pour BSB-LAN. Contr\u00f4leur Image Remarques LMS14 LMS15 Connexion BSB : + = Gauche - = Centre LMS14 LMS15 Connexion BSB : CL+/CL- LMS14 LMS15 Baxi Luna Platinum, Chappee Klista Connexion BSB : Bornier M2 Broche 2 : CL- Broche 3 : CL+ Consultez les instructions d\u00e9taill\u00e9es ici pour Baxi Luna Platinum . LMU54 LMU64 Connexion LPB : via le plugin OCI420 suppl\u00e9mentaire, voir d\u00e9tails ci-dessous . LMU74 LMU75 Connexion BSB : + = Haut - = Centre Connexion LPB : via le plugin OCI420 suppl\u00e9mentaire RVA53 Connexion PPS : A6/MD RVA63 Connexion LPB : MB/DB Connexion PPS : A6/MD RVP54 Connexion PPS : A6/M RVS13 Connexion BSB : CL+/CL- RVS21 Connexion BSB via le connecteur X86 + = broche la plus \u00e0 droite - = deuxi\u00e8me broche \u00e0 partir de la droite RVS21 avec AVS55 Module d'extension AVS55, plac\u00e9 sur le dessus du RVS21. Connexion BSB via le connecteur X86 : + = broche la plus \u00e0 droite - = deuxi\u00e8me broche \u00e0 partir de la droite ou via le connecteur X150 : + = broche sup\u00e9rieure - = deuxi\u00e8me broche du haut RVS23 Connexion LPB : LPB/M RVS41 Connexion BSB : CL+/CL- Connexion LPB : MB/DB RVS43 LOGON B Connexion BSB : CL+/CL- Connexion LPB : MB/DB RVS46 ISR-ZR1 Connexion BSB : CL+/CL- Connexion LPB : MB/DB RVS46 Connexion BSB : CL+/CL- Connexion LPB : MB/DB RVS51 Connexion BSB : CL+/CL- RVS53 Connexion BSB : CL+/CL- RVS61 Connexion BSB : CL+/CL- Connexion LPB : MB/DB RVS63 Connexion BSB : CL+/CL- Connexion LPB : MB/DB RVS65 Connexion BSB : CL+/CL- Connexion LPB : MB/DB Param\u00e8tres de configuration pour OCI420 Faire fonctionner correctement l'OCI420 peut s'av\u00e9rer un peu difficile s'il ne fait pas d\u00e9j\u00e0 partie d'un r\u00e9seau LPB existant. Si vous connectez l'OCI420 pour la premi\u00e8re fois \u00e0 votre appareil de chauffage et que vous n'avez aucun autre appareil de chauffage LPB, vous obtiendrez tr\u00e8s probablement l'\"erreur 81\" qui indique qu'il y a une erreur de bus. Mais ne vous inqui\u00e9tez pas, il s'agit tr\u00e8s probablement de configurer quelques param\u00e8tres pour le faire fonctionner. Pour le LMU64, le param\u00e8tre correspondant est 604 ( LPBKonfig0 ). Il doit \u00eatre d\u00e9fini comme suit pour utiliser BSB-LAN comme seul appareil connect\u00e9 \u00e0 l'OCI420 : 604.0 = 0 604.1 = 1 604.2 = 1 604.3 = 1 604.4 = 1 604.5 = 0 604.6 = 0 604.7 = 0 Ensuite, vous devez d\u00e9finir l'adresse LPB de l'OCI420 dans les param\u00e8tres 605 (doit \u00eatre d\u00e9fini sur 1) et 606 (doit \u00eatre d\u00e9fini sur 0). Par la suite, il ne devrait plus y avoir de message d'erreur et la LED rouge de l'OCI420 devrait clignoter \u00e0 intervalles r\u00e9guliers, et vous \u00eates pr\u00eat \u00e0 connecter et \u00e0 utiliser BSB-LAN. Attention : Si l'OCI420 est d\u00e9j\u00e0 connect\u00e9 \u00e0 un autre appareil LPB, n'apportez aucune modification ici et connectez plut\u00f4t BSB-LAN \u00e0 l'autre appareil LPB. Il devrait fonctionner sans aucun r\u00e9glage. Liste des mod\u00e8les de contr\u00f4leurs fonctionnels Il existe de nombreux autres contr\u00f4leurs qui sont susceptibles de fonctionner avec BSB-LAN. Faites attention \u00e0 ces mod\u00e8les de contr\u00f4leurs Siemens dans votre syst\u00e8me de chauffage : AVS37, AVS55 , AVS71, AVS74, AVS75, AVS77, AVS79, LMS14 , LMS15 , LMU54 , LMU64 , LMU74 , LMU75 , RVA33, RVA36, RVA43, RVA46, RVA47, RVA53 , RVA60, RVA61, RVA63 , RVA65, RVA66, RVC32, RVD110, RVD115, RVD120, RVD125, RVD130, RVD135, RVD139, RVD140, RVD144, RVD145, RVD230, RVD235, RVD240, RVD245, RVD250, RVD255, RVD260, RVD265, RVL469, RVL470, RVL471, RVL472, RVL479, RVL480, RVL481, RVL482, RVP340, RVP350, RVP351, RVP360, RVP361, RVP54 , RVP5xx, RVS13 , RVS21 , RVS23 , RVS26, RVS41 , RVS43 , RVS46 , RVS47, RVS51 , RVS53 , RVS61 , RVS63 , RVS65 , RVS68, RWI65, WRI80","title":"Syst\u00e8mes de chauffage pris en charge"},{"location":"fr/supported_heating_systems.html#systemes-de-chauffage-pris-en-charge","text":"BSB-LAN prend en charge les syst\u00e8mes de chauffage qui communiquent \u00e0 l'aide du BSB (Boiler System Bus) , du LPB (Local Process Bus) ou du PPS (Punkt-zu-Punkt-Schnittstelle) . Ces contr\u00f4leurs sont g\u00e9n\u00e9ralement fabriqu\u00e9s par Siemens, les mod\u00e8les plus anciens peuvent encore porter le nom de \"Landis & Stafea\" ou \"Landis & Gyr\". Nous avons compil\u00e9 une liste de mod\u00e8les fonctionnels de diff\u00e9rents fabricants de syst\u00e8mes de chauffage qui ont \u00e9t\u00e9 confirm\u00e9s comme fonctionnant avec BSB-LAN, bien qu'il n'y ait pas de garantie \u00e0 100 % que les fabricants conservent le nom du mod\u00e8le mais changent le contr\u00f4leur pour un syst\u00e8me diff\u00e9rent. Assurez-vous donc toujours de v\u00e9rifier que les bonnes connecteurs sont disponibles. Voici quelques exemples de contr\u00f4leurs de chauffage et des connecteurs utilis\u00e9s pour se connecter \u00e0 BSB-LAN. Certains connecteurs ont trois broches, d'autres en ont deux. S'il y a trois broches, assurez-vous de choisir les deux bonnes (CL+ et CL-) car la troisi\u00e8me broche (G+) sert \u00e0 fournir l'\u00e9clairage de fond pour l'unit\u00e9 de la pi\u00e8ce. Il n'endommagera pas BSB-LAN, mais il peut \u00eatre trompeur car la LED de BSB-LAN s'allumera m\u00eame si elle n'est pas connect\u00e9e \u00e0 la bonne broche. D'ailleurs : Si vous n'avez qu'un seul connecteur et qu'il est d\u00e9j\u00e0 occup\u00e9 par une unit\u00e9 de pi\u00e8ce, il n'y a aucun probl\u00e8me \u00e0 ajouter BSB-LAN au m\u00eame connecteur. Faites simplement attention lorsque vous ajoutez les fils pour BSB-LAN. Contr\u00f4leur Image Remarques LMS14 LMS15 Connexion BSB : + = Gauche - = Centre LMS14 LMS15 Connexion BSB : CL+/CL- LMS14 LMS15 Baxi Luna Platinum, Chappee Klista Connexion BSB : Bornier M2 Broche 2 : CL- Broche 3 : CL+ Consultez les instructions d\u00e9taill\u00e9es ici pour Baxi Luna Platinum . LMU54 LMU64 Connexion LPB : via le plugin OCI420 suppl\u00e9mentaire, voir d\u00e9tails ci-dessous . LMU74 LMU75 Connexion BSB : + = Haut - = Centre Connexion LPB : via le plugin OCI420 suppl\u00e9mentaire RVA53 Connexion PPS : A6/MD RVA63 Connexion LPB : MB/DB Connexion PPS : A6/MD RVP54 Connexion PPS : A6/M RVS13 Connexion BSB : CL+/CL- RVS21 Connexion BSB via le connecteur X86 + = broche la plus \u00e0 droite - = deuxi\u00e8me broche \u00e0 partir de la droite RVS21 avec AVS55 Module d'extension AVS55, plac\u00e9 sur le dessus du RVS21. Connexion BSB via le connecteur X86 : + = broche la plus \u00e0 droite - = deuxi\u00e8me broche \u00e0 partir de la droite ou via le connecteur X150 : + = broche sup\u00e9rieure - = deuxi\u00e8me broche du haut RVS23 Connexion LPB : LPB/M RVS41 Connexion BSB : CL+/CL- Connexion LPB : MB/DB RVS43 LOGON B Connexion BSB : CL+/CL- Connexion LPB : MB/DB RVS46 ISR-ZR1 Connexion BSB : CL+/CL- Connexion LPB : MB/DB RVS46 Connexion BSB : CL+/CL- Connexion LPB : MB/DB RVS51 Connexion BSB : CL+/CL- RVS53 Connexion BSB : CL+/CL- RVS61 Connexion BSB : CL+/CL- Connexion LPB : MB/DB RVS63 Connexion BSB : CL+/CL- Connexion LPB : MB/DB RVS65 Connexion BSB : CL+/CL- Connexion LPB : MB/DB","title":"Syst\u00e8mes de chauffage pris en charge"},{"location":"fr/supported_heating_systems.html#parametres-de-configuration-pour-oci420","text":"Faire fonctionner correctement l'OCI420 peut s'av\u00e9rer un peu difficile s'il ne fait pas d\u00e9j\u00e0 partie d'un r\u00e9seau LPB existant. Si vous connectez l'OCI420 pour la premi\u00e8re fois \u00e0 votre appareil de chauffage et que vous n'avez aucun autre appareil de chauffage LPB, vous obtiendrez tr\u00e8s probablement l'\"erreur 81\" qui indique qu'il y a une erreur de bus. Mais ne vous inqui\u00e9tez pas, il s'agit tr\u00e8s probablement de configurer quelques param\u00e8tres pour le faire fonctionner. Pour le LMU64, le param\u00e8tre correspondant est 604 ( LPBKonfig0 ). Il doit \u00eatre d\u00e9fini comme suit pour utiliser BSB-LAN comme seul appareil connect\u00e9 \u00e0 l'OCI420 : 604.0 = 0 604.1 = 1 604.2 = 1 604.3 = 1 604.4 = 1 604.5 = 0 604.6 = 0 604.7 = 0 Ensuite, vous devez d\u00e9finir l'adresse LPB de l'OCI420 dans les param\u00e8tres 605 (doit \u00eatre d\u00e9fini sur 1) et 606 (doit \u00eatre d\u00e9fini sur 0). Par la suite, il ne devrait plus y avoir de message d'erreur et la LED rouge de l'OCI420 devrait clignoter \u00e0 intervalles r\u00e9guliers, et vous \u00eates pr\u00eat \u00e0 connecter et \u00e0 utiliser BSB-LAN. Attention : Si l'OCI420 est d\u00e9j\u00e0 connect\u00e9 \u00e0 un autre appareil LPB, n'apportez aucune modification ici et connectez plut\u00f4t BSB-LAN \u00e0 l'autre appareil LPB. Il devrait fonctionner sans aucun r\u00e9glage.","title":"Param\u00e8tres de configuration pour OCI420"},{"location":"fr/supported_heating_systems.html#liste-des-modeles-de-controleurs-fonctionnels","text":"Il existe de nombreux autres contr\u00f4leurs qui sont susceptibles de fonctionner avec BSB-LAN. Faites attention \u00e0 ces mod\u00e8les de contr\u00f4leurs Siemens dans votre syst\u00e8me de chauffage : AVS37, AVS55 , AVS71, AVS74, AVS75, AVS77, AVS79, LMS14 , LMS15 , LMU54 , LMU64 , LMU74 , LMU75 , RVA33, RVA36, RVA43, RVA46, RVA47, RVA53 , RVA60, RVA61, RVA63 , RVA65, RVA66, RVC32, RVD110, RVD115, RVD120, RVD125, RVD130, RVD135, RVD139, RVD140, RVD144, RVD145, RVD230, RVD235, RVD240, RVD245, RVD250, RVD255, RVD260, RVD265, RVL469, RVL470, RVL471, RVL472, RVL479, RVL480, RVL481, RVL482, RVP340, RVP350, RVP351, RVP360, RVP361, RVP54 , RVP5xx, RVS13 , RVS21 , RVS23 , RVS26, RVS41 , RVS43 , RVS46 , RVS47, RVS51 , RVS53 , RVS61 , RVS63 , RVS65 , RVS68, RWI65, WRI80","title":"Liste des mod\u00e8les de contr\u00f4leurs fonctionnels"},{"location":"fr/supported_models.html","text":"Mod\u00e8les pris en charge de diff\u00e9rents fabricants Voici une liste de mod\u00e8les de diff\u00e9rents fabricants qui ont \u00e9t\u00e9 test\u00e9s dans le pass\u00e9 avec BSB-LAN. Veuillez noter que les fabricants peuvent \u00e0 tout moment modifier les sp\u00e9cifications techniques, y compris le contr\u00f4leur, sans changer le nom du mod\u00e8le (ou seulement une tr\u00e8s petite partie de celui-ci). Lorsque nous sommes inform\u00e9s d'un tel changement, nous le mentionnons ici, mais il est \u00e9vident que cette liste n'est pas compl\u00e8te dans les deux sens. Dans tous les cas, veuillez effectuer vous-m\u00eame une v\u00e9rification finale pour vous assurer que votre syst\u00e8me de chauffage dispose des connecteurs n\u00e9cessaires pour utiliser BSB-LAN. Br\u00f6tje : BBK, BBS, BGB, BLW ( voir les exceptions ci-dessous! ), BMK, BMR, BOB, BSK, BSW, Eurocontrol, ISR, LogoBloc, SGB, SOB, SPK, WBC, WBS, WGB ( voir les exceptions ci-dessous! ), WMC, WMS, WOB Mod\u00e8les Br\u00f6tje non fonctionnels : BOK, BLW Neo, BLW Split-P, BLW Split C, BLW Split-K C, WGB-K, WGB 14.1/22.1/28.1/38.1, WHC, WHS, WLC, WLS B\u00f6sch : pompes \u00e0 chaleur avec contr\u00f4leur de type RVS Elco : Aerotop, Aquatop, Rendamax, Straton, Thision ( pas Thision Mini! ), Thision S, Thision S Plus, Trigon S Plus ATAG : QR Atlantic : Alf\u00e9a, Axeo, Excellia, Extensa, Hynea hybrid duo gaz, Navistem, Perfinox, Varmax Austria Email : LWP, LWPK Baxi : Luna Platinum, Luna Duo, Block Kondens Boesch : SLS Chapp\u00e9e : Luna, Klista CitrinSolar : proClima CTA : Optiheat CTC : 380 IC Deville : 9942, 9981 Eco : AiWA, AW, BW, DW, heatLite, Star, TBW, WW, WWi, TWW Ecostar : Ecodense WT-S 45 EVI Heat : Combi-7 Fernw\u00e4rme : RVD230 Froeling : Rendagas Plus Fujitsu Waterstage : Comfort, Duo, WOHA, WSHA, WSYA, WSYK, WSYP Geminox : Thrs General : (aka Fujitsu Waterstage) WC13F / WOC13RIYF / WGHA 100DG Gruenenwald : Greenheat GS : UnoTec Hansa : SND Herz : Commotherm 5 DeLuxe Interdomo : Domostar GBK 25H/SH MAN/MHG : Ecostar 200 MHG : ecoWP Xe, Procon E Oilon : SH, SHx Olymp : SHS, WHS Palazzetti : Choro Sistema Calore Sieger : TG11 \u0160ildymo Technologij\u0173 Centras (\u0160TC) : STC9 Sixmadun : TG11BE SSP : Proburner Sunex : Nexus Termomax : Termo \u00d6V Thermics : Energie Thermital : TBox Clima TOP Tifell : Biofell Viessmann : Vitotwin 300-W Wamak : AiWa, DB Weishaupt : WTU","title":"Mod\u00e8les pris en charge de diff\u00e9rents fabricants"},{"location":"fr/supported_models.html#modeles-pris-en-charge-de-differents-fabricants","text":"Voici une liste de mod\u00e8les de diff\u00e9rents fabricants qui ont \u00e9t\u00e9 test\u00e9s dans le pass\u00e9 avec BSB-LAN. Veuillez noter que les fabricants peuvent \u00e0 tout moment modifier les sp\u00e9cifications techniques, y compris le contr\u00f4leur, sans changer le nom du mod\u00e8le (ou seulement une tr\u00e8s petite partie de celui-ci). Lorsque nous sommes inform\u00e9s d'un tel changement, nous le mentionnons ici, mais il est \u00e9vident que cette liste n'est pas compl\u00e8te dans les deux sens. Dans tous les cas, veuillez effectuer vous-m\u00eame une v\u00e9rification finale pour vous assurer que votre syst\u00e8me de chauffage dispose des connecteurs n\u00e9cessaires pour utiliser BSB-LAN. Br\u00f6tje : BBK, BBS, BGB, BLW ( voir les exceptions ci-dessous! ), BMK, BMR, BOB, BSK, BSW, Eurocontrol, ISR, LogoBloc, SGB, SOB, SPK, WBC, WBS, WGB ( voir les exceptions ci-dessous! ), WMC, WMS, WOB Mod\u00e8les Br\u00f6tje non fonctionnels : BOK, BLW Neo, BLW Split-P, BLW Split C, BLW Split-K C, WGB-K, WGB 14.1/22.1/28.1/38.1, WHC, WHS, WLC, WLS B\u00f6sch : pompes \u00e0 chaleur avec contr\u00f4leur de type RVS Elco : Aerotop, Aquatop, Rendamax, Straton, Thision ( pas Thision Mini! ), Thision S, Thision S Plus, Trigon S Plus ATAG : QR Atlantic : Alf\u00e9a, Axeo, Excellia, Extensa, Hynea hybrid duo gaz, Navistem, Perfinox, Varmax Austria Email : LWP, LWPK Baxi : Luna Platinum, Luna Duo, Block Kondens Boesch : SLS Chapp\u00e9e : Luna, Klista CitrinSolar : proClima CTA : Optiheat CTC : 380 IC Deville : 9942, 9981 Eco : AiWA, AW, BW, DW, heatLite, Star, TBW, WW, WWi, TWW Ecostar : Ecodense WT-S 45 EVI Heat : Combi-7 Fernw\u00e4rme : RVD230 Froeling : Rendagas Plus Fujitsu Waterstage : Comfort, Duo, WOHA, WSHA, WSYA, WSYK, WSYP Geminox : Thrs General : (aka Fujitsu Waterstage) WC13F / WOC13RIYF / WGHA 100DG Gruenenwald : Greenheat GS : UnoTec Hansa : SND Herz : Commotherm 5 DeLuxe Interdomo : Domostar GBK 25H/SH MAN/MHG : Ecostar 200 MHG : ecoWP Xe, Procon E Oilon : SH, SHx Olymp : SHS, WHS Palazzetti : Choro Sistema Calore Sieger : TG11 \u0160ildymo Technologij\u0173 Centras (\u0160TC) : STC9 Sixmadun : TG11BE SSP : Proburner Sunex : Nexus Termomax : Termo \u00d6V Thermics : Energie Thermital : TBox Clima TOP Tifell : Biofell Viessmann : Vitotwin 300-W Wamak : AiWa, DB Weishaupt : WTU","title":"Mod\u00e8les pris en charge de diff\u00e9rents fabricants"},{"location":"fr/troubleshooting.html","text":"D\u00e9pannage BSB-LAN s'efforce de rendre l'acc\u00e8s \u00e0 votre syst\u00e8me de chauffage aussi simple que possible, mais il y a toujours des choses qui peuvent mal tourner. Si vous rencontrez encore des probl\u00e8mes apr\u00e8s avoir lu ce document ainsi que la FAQ , veuillez ouvrir un rapport de bogue sur la page GitHub du projet et assurez-vous de nous fournir tous les fichiers journaux n\u00e9cessaires et les autres d\u00e9tails requis, en particulier \u00e0 partir du moniteur s\u00e9rie (ou SerMo en abr\u00e9g\u00e9). Avant de le faire, cependant, assurez-vous d'installer la version la plus r\u00e9cente de BSB-LAN \u00e0 partir du r\u00e9f\u00e9rentiel ma\u00eetre (et non la version de publication), m\u00eame si la v\u00f4tre n'est vieille que de \"quelques\" jours. Beaucoup de choses auraient pu se passer depuis lors : ! Utilisation du moniteur s\u00e9rie Acc\u00e9dez au moniteur s\u00e9rie en allant dans Outils/Moniteur s\u00e9rie dans l'IDE Arduino. D\u00e9finissez la vitesse de transmission sur 115200 dans le coin sup\u00e9rieur droit de la fen\u00eatre du moniteur s\u00e9rie. Assurez-vous de copier les messages \u00e0 partir du moment o\u00f9 votre microcontr\u00f4leur d\u00e9marre (indiqu\u00e9 par le message READY ) jusqu'au moment o\u00f9 vous rencontrez le probl\u00e8me. Veuillez ne pas envoyer de captures d'\u00e9cran, uniquement des fichiers texte brut. Le moniteur s\u00e9rie dans l'IDE Arduino pr\u00e9sente actuellement un bogue qui vous permet de ne copier que les parties des messages du moniteur s\u00e9rie qui s'affichent \u00e0 l'\u00e9cran. Bien que cela signifie que la copie de grandes parties des messages du journal est fastidieuse, vous devez tout de m\u00eame fournir le journal complet pour obtenir de l'aide. Augmenter la taille de la fen\u00eatre du moniteur s\u00e9rie aide un peu. La compilation \u00e9choue : \"Croquis trop grand\" S\u00e9lectionnez le sch\u00e9ma de partition Minimal SPIFFS dans l'IDE Arduino sous Outils/Sch\u00e9ma de partition . Attention : Ce param\u00e8tre est r\u00e9initialis\u00e9 par d\u00e9faut lors de la mise \u00e0 jour du framework ESP32 ! Si vous utilisez des mises \u00e0 jour par-dessus l'air, vous devez flasher le logiciel une fois via USB apr\u00e8s avoir modifi\u00e9 le sch\u00e9ma de partition avant que les mises \u00e0 jour OTA ne fonctionnent \u00e0 nouveau. Plus d'acc\u00e8s \u00e0 l'interface Web Si vous avez modifi\u00e9 les param\u00e8tres de sorte que vous ne pouvez plus acc\u00e9der \u00e0 l'interface Web, il existe deux fa\u00e7ons de restaurer le syst\u00e8me : Si vous pouvez flasher l'appareil : Configurez BSB_LAN_config.h avec des param\u00e8tres corrects et fonctionnels. D\u00e9finissez UseEEPROM sur 0 . Flasher BSB-LAN sur le microcontr\u00f4leur. Vous pouvez maintenant acc\u00e9der \u00e0 BSB-LAN. Acc\u00e9dez \u00e0 \"Param\u00e8tres\" et enregistrez les param\u00e8tres. Cela stockera les param\u00e8tres de travail dans l'EEPROM. Maintenant, modifiez BSB_LAN_config.h \u00e0 nouveau ! et d\u00e9finissez UseEEPROM sur 1 et flasher \u00e0 nouveau BSB-LAN sur le microcontr\u00f4leur. Ce n'est qu'\u00e0 ce moment-l\u00e0 que BSB-LAN lira et utilisera les param\u00e8tres de l'EEPROM, vous pourrez donc apporter d'autres modifications dans l'interface Web. Si vous ne pouvez pas flasher l'appareil : Si vous ne pouvez pas flasher l'appareil sur place, vous pouvez r\u00e9initialiser BSB-LAN sur le dernier param\u00e8tre BSB_LAN_config.h en connectant deux broches avant et pendant le d\u00e9marrage du microcontr\u00f4leur : ESP32-Olimex : connecter les broches 34 et 3V3. ESP32-NodeMCU : connecter les broches 21 et 3V3. Arduino Due : connecter les broches 31 et 33. Si les broches ont \u00e9t\u00e9 connect\u00e9es avec succ\u00e8s, la LED int\u00e9gr\u00e9e du microcontr\u00f4leur clignotera lentement pendant quatre secondes. Ensuite, ouvrez la configuration dans l'interface Web, v\u00e9rifiez tous les param\u00e8tres de la configuration et enregistrez-les. Cela stockera les param\u00e8tres de travail dans l'EEPROM. Point d'acc\u00e8s temporaire sur un microcontr\u00f4leur bas\u00e9 sur ESP32 Sur un microcontr\u00f4leur bas\u00e9 sur ESP32, BSB-LAN configurera son propre point d'acc\u00e8s sans fil nomm\u00e9 BSB-LAN s'il ne peut pas se connecter \u00e0 un r\u00e9seau. Dans ce cas, vous pouvez vous connecter \u00e0 ce point d'acc\u00e8s avec le mot de passe BSB-LPB-PPS-LAN et acc\u00e9der \u00e0 BSB-LAN via l'adresse IP http://192.168.4.1 et voir si vous pouvez corriger la configuration de cette mani\u00e8re. Gardez \u00e0 l'esprit que si vous avez d\u00e9fini une cl\u00e9 de passe ou un nom d'utilisateur et un mot de passe HTTP, ils sont toujours requis si ces d\u00e9tails sont stock\u00e9s dans l'EEPROM ou BSB_LAN_config.h . Je ne peux acc\u00e9der qu'\u00e0 tr\u00e8s peu de param\u00e8tres via BSB/LPB ! Initialement, BSB-LAN n'est fourni qu'avec un petit ensemble de param\u00e8tres qui fonctionnent sur (presque) tous les syst\u00e8mes de chauffage. Vous devez obtenir une liste de param\u00e8tres sp\u00e9cifique \u00e0 l'appareil . La liste des cat\u00e9gories est soudainement tr\u00e8s petite BSB-LAN a besoin de d\u00e9tecter le contr\u00f4leur du syst\u00e8me de chauffage pour d\u00e9terminer les cat\u00e9gories \u00e0 afficher. Si BSB-LAN n'est pas connect\u00e9 au contr\u00f4leur ou si la d\u00e9tection \u00e9choue, seules quelques cat\u00e9gories universelles sont affich\u00e9es. Impossible de lire les param\u00e8tres / la famille d'appareils est 0 Type de bus incorrect (BSB au lieu de LPB ou vice versa). Si la LED rouge de l'adaptateur n'est pas allum\u00e9e (et id\u00e9alement clignote l\u00e9g\u00e8rement), il y a un probl\u00e8me de c\u00e2blage entre l'adaptateur et le syst\u00e8me de chauffage. La LED rouge s'allumera une fois l'adaptateur correctement connect\u00e9, m\u00eame si l'adaptateur BSB-LAN n'est m\u00eame pas connect\u00e9 au microcontr\u00f4leur ! Pas de donn\u00e9es m\u00eame si la LED rouge de l'adaptateur est allum\u00e9e Assurez-vous que l'adaptateur est connect\u00e9 \u00e0 CL+/CL- et non \u00e0 la troisi\u00e8me broche (G+) : G+ alimentera la LED, mais ce n'est pas une ligne de donn\u00e9es. Assurez-vous d'avoir allum\u00e9 le microcontr\u00f4leur . Vous pouvez penser que le syst\u00e8me de chauffage alimente le microcontr\u00f4leur car la LED sur l'adaptateur BSB-LAN est allum\u00e9e, mais ce n'est pas le cas. Vous devez l'alimenter s\u00e9par\u00e9ment. Avec l'adaptateur pour les microcontr\u00f4leurs Olimex : Assurez-vous que la carte adaptatrice BSB-LAN est exactement centr\u00e9e sur le connecteur UEXT. Il s'ins\u00e9rera toujours, s'il est d\u00e9cal\u00e9 d'une broche vers la gauche ou la droite, mais il ne fonctionnera pas. Assurez-vous que les broches RX/TX sont correctement d\u00e9finies/d\u00e9tect\u00e9es. La s\u00e9quence de d\u00e9marrage dans le moniteur s\u00e9rie vous montrera quelles broches sont utilis\u00e9es ou ont \u00e9t\u00e9 d\u00e9tect\u00e9es automatiquement. Pas de connexion r\u00e9seau ou connexion non fiable Essayez d'alimenter le microcontr\u00f4leur via USB \u00e0 partir d'un ordinateur portable. Nous avons eu de nombreux cas o\u00f9 les alimentations \u00e9taient peu fiables malgr\u00e9 des sp\u00e9cifications suffisantes. Consultez le journal du moniteur s\u00e9rie pour v\u00e9rifier si le microcontr\u00f4leur a pu acqu\u00e9rir une adresse IP. Si ce n'est pas le cas, vos param\u00e8tres r\u00e9seau ou votre connexion physique peuvent \u00eatre d\u00e9fectueux. Aucune connexion au r\u00e9seau Wi-Fi masqu\u00e9 possible Oui, il s'agit d'une restriction connue. La seule fa\u00e7on de le faire est de d\u00e9finir explicitement le BSSID dans BSB_LAN_config.h . La temp\u00e9rature de la pi\u00e8ce (ou tout autre param\u00e8tre) ne peut pas \u00eatre d\u00e9finie V\u00e9rifiez les param\u00e8tres de BSB-LAN et assurez-vous que l'acc\u00e8s en \u00e9criture est activ\u00e9 et d\u00e9fini sur standard ou complet . L'interface Web se fige lors de l'\u00e9tablissement d'une nouvelle connexion BSB-LAN n'est pas un syst\u00e8me multit\u00e2che. Cela signifie qu'il peut s'occuper d'une t\u00e2che \u00e0 la fois. Donc, m\u00eame si une commande URL est arr\u00eat\u00e9e (en fermant la fen\u00eatre du navigateur), BSB-LAN risque de ne pas le d\u00e9tecter et de ne commencer \u00e0 traiter les nouvelles demandes qu'une fois la pr\u00e9c\u00e9dente termin\u00e9e. Le moniteur s\u00e9rie n'affiche pas de donn\u00e9es lisibles Assurez-vous que la vitesse est correctement d\u00e9finie sur 115200 bps. Assurez-vous que le bon port est s\u00e9lectionn\u00e9.","title":"D\u00e9pannage"},{"location":"fr/troubleshooting.html#depannage","text":"BSB-LAN s'efforce de rendre l'acc\u00e8s \u00e0 votre syst\u00e8me de chauffage aussi simple que possible, mais il y a toujours des choses qui peuvent mal tourner. Si vous rencontrez encore des probl\u00e8mes apr\u00e8s avoir lu ce document ainsi que la FAQ , veuillez ouvrir un rapport de bogue sur la page GitHub du projet et assurez-vous de nous fournir tous les fichiers journaux n\u00e9cessaires et les autres d\u00e9tails requis, en particulier \u00e0 partir du moniteur s\u00e9rie (ou SerMo en abr\u00e9g\u00e9). Avant de le faire, cependant, assurez-vous d'installer la version la plus r\u00e9cente de BSB-LAN \u00e0 partir du r\u00e9f\u00e9rentiel ma\u00eetre (et non la version de publication), m\u00eame si la v\u00f4tre n'est vieille que de \"quelques\" jours. Beaucoup de choses auraient pu se passer depuis lors : !","title":"D\u00e9pannage"},{"location":"fr/troubleshooting.html#utilisation-du-moniteur-serie","text":"Acc\u00e9dez au moniteur s\u00e9rie en allant dans Outils/Moniteur s\u00e9rie dans l'IDE Arduino. D\u00e9finissez la vitesse de transmission sur 115200 dans le coin sup\u00e9rieur droit de la fen\u00eatre du moniteur s\u00e9rie. Assurez-vous de copier les messages \u00e0 partir du moment o\u00f9 votre microcontr\u00f4leur d\u00e9marre (indiqu\u00e9 par le message READY ) jusqu'au moment o\u00f9 vous rencontrez le probl\u00e8me. Veuillez ne pas envoyer de captures d'\u00e9cran, uniquement des fichiers texte brut. Le moniteur s\u00e9rie dans l'IDE Arduino pr\u00e9sente actuellement un bogue qui vous permet de ne copier que les parties des messages du moniteur s\u00e9rie qui s'affichent \u00e0 l'\u00e9cran. Bien que cela signifie que la copie de grandes parties des messages du journal est fastidieuse, vous devez tout de m\u00eame fournir le journal complet pour obtenir de l'aide. Augmenter la taille de la fen\u00eatre du moniteur s\u00e9rie aide un peu.","title":"Utilisation du moniteur s\u00e9rie"},{"location":"fr/troubleshooting.html#la-compilation-echoue-croquis-trop-grand","text":"S\u00e9lectionnez le sch\u00e9ma de partition Minimal SPIFFS dans l'IDE Arduino sous Outils/Sch\u00e9ma de partition . Attention : Ce param\u00e8tre est r\u00e9initialis\u00e9 par d\u00e9faut lors de la mise \u00e0 jour du framework ESP32 ! Si vous utilisez des mises \u00e0 jour par-dessus l'air, vous devez flasher le logiciel une fois via USB apr\u00e8s avoir modifi\u00e9 le sch\u00e9ma de partition avant que les mises \u00e0 jour OTA ne fonctionnent \u00e0 nouveau.","title":"La compilation \u00e9choue : \"Croquis trop grand\""},{"location":"fr/troubleshooting.html#plus-dacces-a-linterface-web","text":"Si vous avez modifi\u00e9 les param\u00e8tres de sorte que vous ne pouvez plus acc\u00e9der \u00e0 l'interface Web, il existe deux fa\u00e7ons de restaurer le syst\u00e8me : Si vous pouvez flasher l'appareil : Configurez BSB_LAN_config.h avec des param\u00e8tres corrects et fonctionnels. D\u00e9finissez UseEEPROM sur 0 . Flasher BSB-LAN sur le microcontr\u00f4leur. Vous pouvez maintenant acc\u00e9der \u00e0 BSB-LAN. Acc\u00e9dez \u00e0 \"Param\u00e8tres\" et enregistrez les param\u00e8tres. Cela stockera les param\u00e8tres de travail dans l'EEPROM. Maintenant, modifiez BSB_LAN_config.h \u00e0 nouveau ! et d\u00e9finissez UseEEPROM sur 1 et flasher \u00e0 nouveau BSB-LAN sur le microcontr\u00f4leur. Ce n'est qu'\u00e0 ce moment-l\u00e0 que BSB-LAN lira et utilisera les param\u00e8tres de l'EEPROM, vous pourrez donc apporter d'autres modifications dans l'interface Web. Si vous ne pouvez pas flasher l'appareil : Si vous ne pouvez pas flasher l'appareil sur place, vous pouvez r\u00e9initialiser BSB-LAN sur le dernier param\u00e8tre BSB_LAN_config.h en connectant deux broches avant et pendant le d\u00e9marrage du microcontr\u00f4leur : ESP32-Olimex : connecter les broches 34 et 3V3. ESP32-NodeMCU : connecter les broches 21 et 3V3. Arduino Due : connecter les broches 31 et 33. Si les broches ont \u00e9t\u00e9 connect\u00e9es avec succ\u00e8s, la LED int\u00e9gr\u00e9e du microcontr\u00f4leur clignotera lentement pendant quatre secondes. Ensuite, ouvrez la configuration dans l'interface Web, v\u00e9rifiez tous les param\u00e8tres de la configuration et enregistrez-les. Cela stockera les param\u00e8tres de travail dans l'EEPROM. Point d'acc\u00e8s temporaire sur un microcontr\u00f4leur bas\u00e9 sur ESP32 Sur un microcontr\u00f4leur bas\u00e9 sur ESP32, BSB-LAN configurera son propre point d'acc\u00e8s sans fil nomm\u00e9 BSB-LAN s'il ne peut pas se connecter \u00e0 un r\u00e9seau. Dans ce cas, vous pouvez vous connecter \u00e0 ce point d'acc\u00e8s avec le mot de passe BSB-LPB-PPS-LAN et acc\u00e9der \u00e0 BSB-LAN via l'adresse IP http://192.168.4.1 et voir si vous pouvez corriger la configuration de cette mani\u00e8re. Gardez \u00e0 l'esprit que si vous avez d\u00e9fini une cl\u00e9 de passe ou un nom d'utilisateur et un mot de passe HTTP, ils sont toujours requis si ces d\u00e9tails sont stock\u00e9s dans l'EEPROM ou BSB_LAN_config.h .","title":"Plus d'acc\u00e8s \u00e0 l'interface Web"},{"location":"fr/troubleshooting.html#je-ne-peux-acceder-qua-tres-peu-de-parametres-via-bsblpb","text":"Initialement, BSB-LAN n'est fourni qu'avec un petit ensemble de param\u00e8tres qui fonctionnent sur (presque) tous les syst\u00e8mes de chauffage. Vous devez obtenir une liste de param\u00e8tres sp\u00e9cifique \u00e0 l'appareil .","title":"Je ne peux acc\u00e9der qu'\u00e0 tr\u00e8s peu de param\u00e8tres via BSB/LPB !"},{"location":"fr/troubleshooting.html#la-liste-des-categories-est-soudainement-tres-petite","text":"BSB-LAN a besoin de d\u00e9tecter le contr\u00f4leur du syst\u00e8me de chauffage pour d\u00e9terminer les cat\u00e9gories \u00e0 afficher. Si BSB-LAN n'est pas connect\u00e9 au contr\u00f4leur ou si la d\u00e9tection \u00e9choue, seules quelques cat\u00e9gories universelles sont affich\u00e9es.","title":"La liste des cat\u00e9gories est soudainement tr\u00e8s petite"},{"location":"fr/troubleshooting.html#impossible-de-lire-les-parametres-la-famille-dappareils-est-0","text":"Type de bus incorrect (BSB au lieu de LPB ou vice versa). Si la LED rouge de l'adaptateur n'est pas allum\u00e9e (et id\u00e9alement clignote l\u00e9g\u00e8rement), il y a un probl\u00e8me de c\u00e2blage entre l'adaptateur et le syst\u00e8me de chauffage. La LED rouge s'allumera une fois l'adaptateur correctement connect\u00e9, m\u00eame si l'adaptateur BSB-LAN n'est m\u00eame pas connect\u00e9 au microcontr\u00f4leur !","title":"Impossible de lire les param\u00e8tres / la famille d'appareils est 0"},{"location":"fr/troubleshooting.html#pas-de-donnees-meme-si-la-led-rouge-de-ladaptateur-est-allumee","text":"Assurez-vous que l'adaptateur est connect\u00e9 \u00e0 CL+/CL- et non \u00e0 la troisi\u00e8me broche (G+) : G+ alimentera la LED, mais ce n'est pas une ligne de donn\u00e9es. Assurez-vous d'avoir allum\u00e9 le microcontr\u00f4leur . Vous pouvez penser que le syst\u00e8me de chauffage alimente le microcontr\u00f4leur car la LED sur l'adaptateur BSB-LAN est allum\u00e9e, mais ce n'est pas le cas. Vous devez l'alimenter s\u00e9par\u00e9ment. Avec l'adaptateur pour les microcontr\u00f4leurs Olimex : Assurez-vous que la carte adaptatrice BSB-LAN est exactement centr\u00e9e sur le connecteur UEXT. Il s'ins\u00e9rera toujours, s'il est d\u00e9cal\u00e9 d'une broche vers la gauche ou la droite, mais il ne fonctionnera pas. Assurez-vous que les broches RX/TX sont correctement d\u00e9finies/d\u00e9tect\u00e9es. La s\u00e9quence de d\u00e9marrage dans le moniteur s\u00e9rie vous montrera quelles broches sont utilis\u00e9es ou ont \u00e9t\u00e9 d\u00e9tect\u00e9es automatiquement.","title":"Pas de donn\u00e9es m\u00eame si la LED rouge de l'adaptateur est allum\u00e9e"},{"location":"fr/troubleshooting.html#pas-de-connexion-reseau-ou-connexion-non-fiable","text":"Essayez d'alimenter le microcontr\u00f4leur via USB \u00e0 partir d'un ordinateur portable. Nous avons eu de nombreux cas o\u00f9 les alimentations \u00e9taient peu fiables malgr\u00e9 des sp\u00e9cifications suffisantes. Consultez le journal du moniteur s\u00e9rie pour v\u00e9rifier si le microcontr\u00f4leur a pu acqu\u00e9rir une adresse IP. Si ce n'est pas le cas, vos param\u00e8tres r\u00e9seau ou votre connexion physique peuvent \u00eatre d\u00e9fectueux.","title":"Pas de connexion r\u00e9seau ou connexion non fiable"},{"location":"fr/troubleshooting.html#aucune-connexion-au-reseau-wi-fi-masque-possible","text":"Oui, il s'agit d'une restriction connue. La seule fa\u00e7on de le faire est de d\u00e9finir explicitement le BSSID dans BSB_LAN_config.h .","title":"Aucune connexion au r\u00e9seau Wi-Fi masqu\u00e9 possible"},{"location":"fr/troubleshooting.html#la-temperature-de-la-piece-ou-tout-autre-parametre-ne-peut-pas-etre-definie","text":"V\u00e9rifiez les param\u00e8tres de BSB-LAN et assurez-vous que l'acc\u00e8s en \u00e9criture est activ\u00e9 et d\u00e9fini sur standard ou complet .","title":"La temp\u00e9rature de la pi\u00e8ce (ou tout autre param\u00e8tre) ne peut pas \u00eatre d\u00e9finie"},{"location":"fr/troubleshooting.html#linterface-web-se-fige-lors-de-letablissement-dune-nouvelle-connexion","text":"BSB-LAN n'est pas un syst\u00e8me multit\u00e2che. Cela signifie qu'il peut s'occuper d'une t\u00e2che \u00e0 la fois. Donc, m\u00eame si une commande URL est arr\u00eat\u00e9e (en fermant la fen\u00eatre du navigateur), BSB-LAN risque de ne pas le d\u00e9tecter et de ne commencer \u00e0 traiter les nouvelles demandes qu'une fois la pr\u00e9c\u00e9dente termin\u00e9e.","title":"L'interface Web se fige lors de l'\u00e9tablissement d'une nouvelle connexion"},{"location":"fr/troubleshooting.html#le-moniteur-serie-naffiche-pas-de-donnees-lisibles","text":"Assurez-vous que la vitesse est correctement d\u00e9finie sur 115200 bps. Assurez-vous que le bon port est s\u00e9lectionn\u00e9.","title":"Le moniteur s\u00e9rie n'affiche pas de donn\u00e9es lisibles"},{"location":"fr/using.html","text":"Utilisation de BSB-LAN Contr\u00f4le du syst\u00e8me de chauffage via l'interface web Dans un premier temps, ou si vous souhaitez simplement allumer ou \u00e9teindre votre syst\u00e8me de chauffage, vous pouvez ouvrir l'interface web de BSB-LAN et acc\u00e9der au menu Param\u00e8tres . Cela affichera une liste de cat\u00e9gories de votre contr\u00f4leur de chauffage. Vous pouvez cliquer sur chaque cat\u00e9gorie pour obtenir une liste des param\u00e8tres correspondants. Si vous voyez un bouton Set , cela signifie que le param\u00e8tre peut \u00eatre modifi\u00e9, et en cliquant sur le bouton, la nouvelle valeur sera envoy\u00e9e au chauffage. Si le bouton Set n'est pas pr\u00e9sent, le param\u00e8tre est en lecture seule et ne peut pas \u00eatre modifi\u00e9. Utilisation des commandes URL de BSB-LAN La plupart des fonctionnalit\u00e9s de BSB-LAN peuvent \u00eatre contr\u00f4l\u00e9es \u00e0 l'aide de commandes URL. Ces commandes sont utiles, voire n\u00e9cessaires, lorsque vous connectez BSB-LAN \u00e0 un syst\u00e8me de domotique . Elles permettent \u00e9galement d'acc\u00e9der \u00e0 des fonctions qui ne sont pas directement accessibles via l'interface web. Les commandes URL sont appel\u00e9es juste apr\u00e8s le nom d'h\u00f4te de BSB-LAN et une cl\u00e9 de passe (facultative). Par exemple, pour obtenir une liste de cat\u00e9gories, vous devez ouvrir l'URL http://bsb-lan.local/K (ou http://bsb-lan.local/1234/K si la cl\u00e9 de passe 1234 est utilis\u00e9e). Interrogation et d\u00e9finition de param\u00e8tres table th:first-of-type { width: 20%; } table th:nth-of-type(2) { width: 80%; } Commande URL Fonctionnalit\u00e9 /<x> Interroger le param\u00e8tre <x> /<x>!<addr> Interroger le param\u00e8tre <x> du contr\u00f4leur \u00e0 l'adresse de destination <addr> /<x>/<y>/<z> Interroger les param\u00e8tres <x> , <y> et <z> . Les param\u00e8tres peuvent inclure ! pour adresser diff\u00e9rents contr\u00f4leurs. /<x>-<y> Interroger les param\u00e8tres de <x> \u00e0 <y> /<x>!<addr>-<y> Interroger les param\u00e8tres de <x> \u00e0 <y> du contr\u00f4leur \u00e0 l'adresse de destination <addr> /K Lister toutes les cat\u00e9gories de param\u00e8tres du contr\u00f4leur \u00e0 l'adresse de destination par d\u00e9faut /K!<addr> Lister toutes les cat\u00e9gories de param\u00e8tres du contr\u00f4leur \u00e0 l'adresse de destination <addr> /K<x> Interroger tous les param\u00e8tres de la cat\u00e9gorie <x> du contr\u00f4leur \u00e0 l'adresse de destination par d\u00e9faut /K<x>!<addr> Interroger tous les param\u00e8tres de la cat\u00e9gorie <x> du contr\u00f4leur \u00e0 l'adresse de destination <addr> /S<x>=<y> D\u00e9finir le param\u00e8tre <x> du contr\u00f4leur \u00e0 l'adresse de destination par d\u00e9faut sur la valeur <y> . Pour d\u00e9finir un param\u00e8tre sur --- (off/d\u00e9sactiv\u00e9), envoyez simplement une valeur vide : S<x>= /S<x>!<addy>=<y> D\u00e9finir le param\u00e8tre <x> du contr\u00f4leur \u00e0 l'adresse de destination <addr> sur la valeur <y> /I<x>=<y> Envoyer la valeur y en tant que t\u00e9l\u00e9gramme INF au param\u00e8tre <x> . Cela n'est n\u00e9cessaire que pour la d\u00e9finition de la temp\u00e9rature de la pi\u00e8ce (param\u00e8tres 10000 ff.). Configuration Commande URL Fonctionnalit\u00e9 /C Configuration /CO Afficher la configuration de BSB-LAN /P<x>,<y>,<z> D\u00e9finir temporairement le type de bus sur <x> , l'adresse propre sur <y> et l'adresse cible sur <z> /V<x> Activer ( 1 ) ou d\u00e9sactiver ( 0 ) le mode de sortie d\u00e9taill\u00e9. Il doit rester activ\u00e9 sauf instruction contraire. Journalisation Commande URL Fonctionnalit\u00e9 /DG Affichage graphique (trac\u00e9) d'un fichier journal actif /D ou /DD Afficher le fichier journal datalog.txt du stockage. Contient les param\u00e8tres enregistr\u00e9s et leurs valeurs lorsque la journalisation sur carte SD est active. /D<n> Afficher les <n> derniers jours du calendrier du fichier journal /D<a>,<b> Afficher les donn\u00e9es du fichier journal entre <a> et <b> . <a> et <b> doivent \u00eatre au format aaaa-mm-jj (par exemple /D2024-04-01,2024-04-30 ) /D0 R\u00e9initialiser les fichiers journaux datalog.txt et journal.txt et cr\u00e9er de nouveaux en-t\u00eates. Doit \u00eatre ex\u00e9cut\u00e9 avant la premi\u00e8re journalisation. /DK<n> Supprimer les donn\u00e9es plus anciennes que <n> jours du fichier journal /LN Forcer la journalisation ind\u00e9pendamment de l'intervalle actuelle et red\u00e9marrer l'intervalle configur\u00e9 \u00e0 ce moment-l\u00e0 /L=<x>,<y>,<z> D\u00e9finir l'intervalle de journalisation sur <x> secondes et (facultativement) r\u00e9initialiser les param\u00e8tres de journalisation sur <y> , <z> , etc. jusqu'au red\u00e9marrage /L=0,0 D\u00e9sactiver la journalisation sur le stockage jusqu'au red\u00e9marrage /LB=<x> Journaliser uniquement les t\u00e9l\u00e9grammes de diffusion ( 1 ) ou tous les t\u00e9l\u00e9grammes ( 0 ). Le param\u00e8tre est actif jusqu'au red\u00e9marrage. /LU=<x> Journaliser uniquement les t\u00e9l\u00e9grammes de bus inconnus ( 1 ) ou tous les t\u00e9l\u00e9grammes ( 0 ). Le param\u00e8tre est actif jusqu'au red\u00e9marrage. /A=0 D\u00e9sactiver le calcul de la moyenne sur 24 heures jusqu'au red\u00e9marrage /A=<x>,<y>,<z> Changer le calcul de la moyenne sur 24 heures pour les param\u00e8tres <x> , <y> et <z> jusqu'au red\u00e9marrage /B0 R\u00e9initialiser les statistiques de temps de fonctionnement et de cycles du br\u00fbleur /DD0 Supprimer uniquement le fichier journal datalog.txt /DJ Afficher le fichier journal journal.txt du stockage /DJ0 Supprimer uniquement le fichier journal journal.txt /LD D\u00e9sactiver la journalisation des t\u00e9l\u00e9grammes dans journal.txt jusqu'au red\u00e9marrage /LE Activer la journalisation des t\u00e9l\u00e9grammes dans journal.txt Informations sur les param\u00e8tres Commande URL Fonctionnalit\u00e9 /E<x> Afficher les options du param\u00e8tre <x> . Disponible uniquement pour les param\u00e8tres de type option, tels que les types de donn\u00e9es VT_ENUM , VT_CUSTOM_ENUM , VT_BITS et VT_CUSTOM_BITS . /R<x> Interroger la valeur par d\u00e9faut du param\u00e8tre <x> Contr\u00f4le GPIO Commande URL Fonctionnalit\u00e9 /G<x> Afficher l'\u00e9tat actuel de la broche GPIO <x> /G<x>=<y> D\u00e9finir la broche GPIO <x> sur HIGH ( <y> = 1 ) ou LOW ( <y> = 0 ) Interface JSON Commande URL Fonctionnalit\u00e9 /JQ=<x>,<y>,<z> Interroger les param\u00e8tres <x> , <y> et <z> et renvoyer une structure JSON /JQ Interroger les param\u00e8tres en fonction d'une structure JSON re\u00e7ue via HTTP POST /JK=<x> Interroger tous les param\u00e8tres de la cat\u00e9gorie <x> /JS D\u00e9finir les param\u00e8tres en fonction d'une structure JSON re\u00e7ue via HTTP /JR<x> Interroger la valeur par d\u00e9faut du param\u00e8tre <x> et renvoyer une structure JSON /JK=ALL Afficher les plages de toutes les cat\u00e9gories disponibles en tant que structure JSON /JC=<x>,<y>,<z> Afficher les valeurs possibles pour les param\u00e8tres <x> , <y> et <z> pour les param\u00e8tres de type option. M\u00eame structure JSON que /JK=<x> . /JB Sauvegarder tous les param\u00e8tres modifiables dans une structure JSON qui peut \u00eatre utilis\u00e9e pour les r\u00e9\u00e9crire avec /JS /JB!<addr> Sauvegarder tous les param\u00e8tres modifiables du contr\u00f4leur \u00e0 l'adresse de destination <addr> dans une structure JSON qui peut \u00eatre utilis\u00e9e pour les r\u00e9\u00e9crire avec /JS /JL Cr\u00e9er une structure JSON des param\u00e8tres de configuration de BSB-LAN /JW \u00c9crire les param\u00e8tres de configuration en fonction d'une structure JSON cr\u00e9\u00e9e par /JL /JI Afficher les informations d'ex\u00e9cution de BSB-LAN en tant que structure JSON /JV Renvoyer la version de l'API JSON de BSB-LAN en tant que structure JSON Divers Commande URL Fonctionnalit\u00e9 /M<x>!<y> Envoyer ( <x>=1 ) ou r\u00e9voquer ( <x>=0 ) les messages de d\u00e9couverte automatique MQTT pour tous les param\u00e8tres du contr\u00f4leur \u00e0 l'adresse de destination <y> . /N R\u00e9initialiser et red\u00e9marrer le microcontr\u00f4leur (environ 15 secondes) /NE Effacer l'EEPROM et red\u00e9marrer le microcontr\u00f4leur. Tous les param\u00e8tres de configuration seront ensuite lus \u00e0 partir du fichier de configuration jusqu'\u00e0 ce qu'ils soient d\u00e9finis et enregistr\u00e9s \u00e0 nouveau dans l'interface web pour \u00eatre \u00e9crits dans l'EEPROM. /QD Afficher la structure des param\u00e8tres du syst\u00e8me de chauffage /W Avec /W pr\u00e9c\u00e9dant les commandes URL C , S et Q , les donn\u00e9es sont renvoy\u00e9es sans en-t\u00eate et pied de page HTML (par exemple : /WC ou /WS<x>=<y!z> ). Utilisation de la fonctionnalit\u00e9 de trac\u00e9 graphique Si des donn\u00e9es journalis\u00e9es sont disponibles sur le stockage (carte SD ou m\u00e9moire flash interne), l'option Afficher le fichier journal devient cliquable. Par d\u00e9faut, elle affichera les donn\u00e9es journalis\u00e9es dans le navigateur. Pour acc\u00e9der aux donn\u00e9es journalis\u00e9es elles-m\u00eames (dans le fichier datalog.txt ), utilisez la commande URL /D mentionn\u00e9e ci-dessus. Par d\u00e9faut, \"Afficher le fichier journal\" affiche les donn\u00e9es de journalisation des n derniers jours ( n=DEFAULT_DAYS_TO_PLOT , configurable dans BSB_LAN_config.h ). Ensuite, vous pouvez utiliser les contr\u00f4les de la page web pour s\u00e9lectionner une autre plage, en fonction des donn\u00e9es contenues dans le fichier journal. Les actions de survol, de clic et de roulette de la souris dans l'affichage graphique offrent diverses options de contr\u00f4le : Meilleure lisibilit\u00e9 des num\u00e9ros de valeur lorsque les trac\u00e9s sont proches les uns des autres (survol du trac\u00e9) Les utilisateurs peuvent mettre en surbrillance les trac\u00e9s de mani\u00e8re interactive pour une meilleure vue d'ensemble (survol des entr\u00e9es de l\u00e9gende) Les utilisateurs peuvent d\u00e9sactiver les trac\u00e9s de mani\u00e8re interactive pour une meilleure vue d'ensemble et un meilleur ajustement vertical (clic sur les entr\u00e9es de l\u00e9gende) Zoom (roulette de la souris/pinch sur le trac\u00e9) et capacit\u00e9 de panoramique (d\u00e9placement du trac\u00e9 zoom\u00e9) Pour une analyse plus approfondie, vous pouvez utiliser ce script Python qui prend la sortie du journal de BSB-LAN pour cr\u00e9er des fichiers CSV pivot\u00e9s qui peuvent \u00eatre utilis\u00e9s pour des diagrammes plus informatifs.","title":"Fonctionnes de BSB-LAN"},{"location":"fr/using.html#utilisation-de-bsb-lan","text":"","title":"Utilisation de BSB-LAN"},{"location":"fr/using.html#controle-du-systeme-de-chauffage-via-linterface-web","text":"Dans un premier temps, ou si vous souhaitez simplement allumer ou \u00e9teindre votre syst\u00e8me de chauffage, vous pouvez ouvrir l'interface web de BSB-LAN et acc\u00e9der au menu Param\u00e8tres . Cela affichera une liste de cat\u00e9gories de votre contr\u00f4leur de chauffage. Vous pouvez cliquer sur chaque cat\u00e9gorie pour obtenir une liste des param\u00e8tres correspondants. Si vous voyez un bouton Set , cela signifie que le param\u00e8tre peut \u00eatre modifi\u00e9, et en cliquant sur le bouton, la nouvelle valeur sera envoy\u00e9e au chauffage. Si le bouton Set n'est pas pr\u00e9sent, le param\u00e8tre est en lecture seule et ne peut pas \u00eatre modifi\u00e9.","title":"Contr\u00f4le du syst\u00e8me de chauffage via l'interface web"},{"location":"fr/using.html#utilisation-des-commandes-url-de-bsb-lan","text":"La plupart des fonctionnalit\u00e9s de BSB-LAN peuvent \u00eatre contr\u00f4l\u00e9es \u00e0 l'aide de commandes URL. Ces commandes sont utiles, voire n\u00e9cessaires, lorsque vous connectez BSB-LAN \u00e0 un syst\u00e8me de domotique . Elles permettent \u00e9galement d'acc\u00e9der \u00e0 des fonctions qui ne sont pas directement accessibles via l'interface web. Les commandes URL sont appel\u00e9es juste apr\u00e8s le nom d'h\u00f4te de BSB-LAN et une cl\u00e9 de passe (facultative). Par exemple, pour obtenir une liste de cat\u00e9gories, vous devez ouvrir l'URL http://bsb-lan.local/K (ou http://bsb-lan.local/1234/K si la cl\u00e9 de passe 1234 est utilis\u00e9e).","title":"Utilisation des commandes URL de BSB-LAN"},{"location":"fr/using.html#interrogation-et-definition-de-parametres","text":"table th:first-of-type { width: 20%; } table th:nth-of-type(2) { width: 80%; } Commande URL Fonctionnalit\u00e9 /<x> Interroger le param\u00e8tre <x> /<x>!<addr> Interroger le param\u00e8tre <x> du contr\u00f4leur \u00e0 l'adresse de destination <addr> /<x>/<y>/<z> Interroger les param\u00e8tres <x> , <y> et <z> . Les param\u00e8tres peuvent inclure ! pour adresser diff\u00e9rents contr\u00f4leurs. /<x>-<y> Interroger les param\u00e8tres de <x> \u00e0 <y> /<x>!<addr>-<y> Interroger les param\u00e8tres de <x> \u00e0 <y> du contr\u00f4leur \u00e0 l'adresse de destination <addr> /K Lister toutes les cat\u00e9gories de param\u00e8tres du contr\u00f4leur \u00e0 l'adresse de destination par d\u00e9faut /K!<addr> Lister toutes les cat\u00e9gories de param\u00e8tres du contr\u00f4leur \u00e0 l'adresse de destination <addr> /K<x> Interroger tous les param\u00e8tres de la cat\u00e9gorie <x> du contr\u00f4leur \u00e0 l'adresse de destination par d\u00e9faut /K<x>!<addr> Interroger tous les param\u00e8tres de la cat\u00e9gorie <x> du contr\u00f4leur \u00e0 l'adresse de destination <addr> /S<x>=<y> D\u00e9finir le param\u00e8tre <x> du contr\u00f4leur \u00e0 l'adresse de destination par d\u00e9faut sur la valeur <y> . Pour d\u00e9finir un param\u00e8tre sur --- (off/d\u00e9sactiv\u00e9), envoyez simplement une valeur vide : S<x>= /S<x>!<addy>=<y> D\u00e9finir le param\u00e8tre <x> du contr\u00f4leur \u00e0 l'adresse de destination <addr> sur la valeur <y> /I<x>=<y> Envoyer la valeur y en tant que t\u00e9l\u00e9gramme INF au param\u00e8tre <x> . Cela n'est n\u00e9cessaire que pour la d\u00e9finition de la temp\u00e9rature de la pi\u00e8ce (param\u00e8tres 10000 ff.).","title":"Interrogation et d\u00e9finition de param\u00e8tres"},{"location":"fr/using.html#configuration","text":"Commande URL Fonctionnalit\u00e9 /C Configuration /CO Afficher la configuration de BSB-LAN /P<x>,<y>,<z> D\u00e9finir temporairement le type de bus sur <x> , l'adresse propre sur <y> et l'adresse cible sur <z> /V<x> Activer ( 1 ) ou d\u00e9sactiver ( 0 ) le mode de sortie d\u00e9taill\u00e9. Il doit rester activ\u00e9 sauf instruction contraire.","title":"Configuration"},{"location":"fr/using.html#journalisation","text":"Commande URL Fonctionnalit\u00e9 /DG Affichage graphique (trac\u00e9) d'un fichier journal actif /D ou /DD Afficher le fichier journal datalog.txt du stockage. Contient les param\u00e8tres enregistr\u00e9s et leurs valeurs lorsque la journalisation sur carte SD est active. /D<n> Afficher les <n> derniers jours du calendrier du fichier journal /D<a>,<b> Afficher les donn\u00e9es du fichier journal entre <a> et <b> . <a> et <b> doivent \u00eatre au format aaaa-mm-jj (par exemple /D2024-04-01,2024-04-30 ) /D0 R\u00e9initialiser les fichiers journaux datalog.txt et journal.txt et cr\u00e9er de nouveaux en-t\u00eates. Doit \u00eatre ex\u00e9cut\u00e9 avant la premi\u00e8re journalisation. /DK<n> Supprimer les donn\u00e9es plus anciennes que <n> jours du fichier journal /LN Forcer la journalisation ind\u00e9pendamment de l'intervalle actuelle et red\u00e9marrer l'intervalle configur\u00e9 \u00e0 ce moment-l\u00e0 /L=<x>,<y>,<z> D\u00e9finir l'intervalle de journalisation sur <x> secondes et (facultativement) r\u00e9initialiser les param\u00e8tres de journalisation sur <y> , <z> , etc. jusqu'au red\u00e9marrage /L=0,0 D\u00e9sactiver la journalisation sur le stockage jusqu'au red\u00e9marrage /LB=<x> Journaliser uniquement les t\u00e9l\u00e9grammes de diffusion ( 1 ) ou tous les t\u00e9l\u00e9grammes ( 0 ). Le param\u00e8tre est actif jusqu'au red\u00e9marrage. /LU=<x> Journaliser uniquement les t\u00e9l\u00e9grammes de bus inconnus ( 1 ) ou tous les t\u00e9l\u00e9grammes ( 0 ). Le param\u00e8tre est actif jusqu'au red\u00e9marrage. /A=0 D\u00e9sactiver le calcul de la moyenne sur 24 heures jusqu'au red\u00e9marrage /A=<x>,<y>,<z> Changer le calcul de la moyenne sur 24 heures pour les param\u00e8tres <x> , <y> et <z> jusqu'au red\u00e9marrage /B0 R\u00e9initialiser les statistiques de temps de fonctionnement et de cycles du br\u00fbleur /DD0 Supprimer uniquement le fichier journal datalog.txt /DJ Afficher le fichier journal journal.txt du stockage /DJ0 Supprimer uniquement le fichier journal journal.txt /LD D\u00e9sactiver la journalisation des t\u00e9l\u00e9grammes dans journal.txt jusqu'au red\u00e9marrage /LE Activer la journalisation des t\u00e9l\u00e9grammes dans journal.txt","title":"Journalisation"},{"location":"fr/using.html#informations-sur-les-parametres","text":"Commande URL Fonctionnalit\u00e9 /E<x> Afficher les options du param\u00e8tre <x> . Disponible uniquement pour les param\u00e8tres de type option, tels que les types de donn\u00e9es VT_ENUM , VT_CUSTOM_ENUM , VT_BITS et VT_CUSTOM_BITS . /R<x> Interroger la valeur par d\u00e9faut du param\u00e8tre <x>","title":"Informations sur les param\u00e8tres"},{"location":"fr/using.html#controle-gpio","text":"Commande URL Fonctionnalit\u00e9 /G<x> Afficher l'\u00e9tat actuel de la broche GPIO <x> /G<x>=<y> D\u00e9finir la broche GPIO <x> sur HIGH ( <y> = 1 ) ou LOW ( <y> = 0 )","title":"Contr\u00f4le GPIO"},{"location":"fr/using.html#interface-json","text":"Commande URL Fonctionnalit\u00e9 /JQ=<x>,<y>,<z> Interroger les param\u00e8tres <x> , <y> et <z> et renvoyer une structure JSON /JQ Interroger les param\u00e8tres en fonction d'une structure JSON re\u00e7ue via HTTP POST /JK=<x> Interroger tous les param\u00e8tres de la cat\u00e9gorie <x> /JS D\u00e9finir les param\u00e8tres en fonction d'une structure JSON re\u00e7ue via HTTP /JR<x> Interroger la valeur par d\u00e9faut du param\u00e8tre <x> et renvoyer une structure JSON /JK=ALL Afficher les plages de toutes les cat\u00e9gories disponibles en tant que structure JSON /JC=<x>,<y>,<z> Afficher les valeurs possibles pour les param\u00e8tres <x> , <y> et <z> pour les param\u00e8tres de type option. M\u00eame structure JSON que /JK=<x> . /JB Sauvegarder tous les param\u00e8tres modifiables dans une structure JSON qui peut \u00eatre utilis\u00e9e pour les r\u00e9\u00e9crire avec /JS /JB!<addr> Sauvegarder tous les param\u00e8tres modifiables du contr\u00f4leur \u00e0 l'adresse de destination <addr> dans une structure JSON qui peut \u00eatre utilis\u00e9e pour les r\u00e9\u00e9crire avec /JS /JL Cr\u00e9er une structure JSON des param\u00e8tres de configuration de BSB-LAN /JW \u00c9crire les param\u00e8tres de configuration en fonction d'une structure JSON cr\u00e9\u00e9e par /JL /JI Afficher les informations d'ex\u00e9cution de BSB-LAN en tant que structure JSON /JV Renvoyer la version de l'API JSON de BSB-LAN en tant que structure JSON","title":"Interface JSON"},{"location":"fr/using.html#divers","text":"Commande URL Fonctionnalit\u00e9 /M<x>!<y> Envoyer ( <x>=1 ) ou r\u00e9voquer ( <x>=0 ) les messages de d\u00e9couverte automatique MQTT pour tous les param\u00e8tres du contr\u00f4leur \u00e0 l'adresse de destination <y> . /N R\u00e9initialiser et red\u00e9marrer le microcontr\u00f4leur (environ 15 secondes) /NE Effacer l'EEPROM et red\u00e9marrer le microcontr\u00f4leur. Tous les param\u00e8tres de configuration seront ensuite lus \u00e0 partir du fichier de configuration jusqu'\u00e0 ce qu'ils soient d\u00e9finis et enregistr\u00e9s \u00e0 nouveau dans l'interface web pour \u00eatre \u00e9crits dans l'EEPROM. /QD Afficher la structure des param\u00e8tres du syst\u00e8me de chauffage /W Avec /W pr\u00e9c\u00e9dant les commandes URL C , S et Q , les donn\u00e9es sont renvoy\u00e9es sans en-t\u00eate et pied de page HTML (par exemple : /WC ou /WS<x>=<y!z> ).","title":"Divers"},{"location":"fr/using.html#utilisation-de-la-fonctionnalite-de-trace-graphique","text":"Si des donn\u00e9es journalis\u00e9es sont disponibles sur le stockage (carte SD ou m\u00e9moire flash interne), l'option Afficher le fichier journal devient cliquable. Par d\u00e9faut, elle affichera les donn\u00e9es journalis\u00e9es dans le navigateur. Pour acc\u00e9der aux donn\u00e9es journalis\u00e9es elles-m\u00eames (dans le fichier datalog.txt ), utilisez la commande URL /D mentionn\u00e9e ci-dessus. Par d\u00e9faut, \"Afficher le fichier journal\" affiche les donn\u00e9es de journalisation des n derniers jours ( n=DEFAULT_DAYS_TO_PLOT , configurable dans BSB_LAN_config.h ). Ensuite, vous pouvez utiliser les contr\u00f4les de la page web pour s\u00e9lectionner une autre plage, en fonction des donn\u00e9es contenues dans le fichier journal. Les actions de survol, de clic et de roulette de la souris dans l'affichage graphique offrent diverses options de contr\u00f4le : Meilleure lisibilit\u00e9 des num\u00e9ros de valeur lorsque les trac\u00e9s sont proches les uns des autres (survol du trac\u00e9) Les utilisateurs peuvent mettre en surbrillance les trac\u00e9s de mani\u00e8re interactive pour une meilleure vue d'ensemble (survol des entr\u00e9es de l\u00e9gende) Les utilisateurs peuvent d\u00e9sactiver les trac\u00e9s de mani\u00e8re interactive pour une meilleure vue d'ensemble et un meilleur ajustement vertical (clic sur les entr\u00e9es de l\u00e9gende) Zoom (roulette de la souris/pinch sur le trac\u00e9) et capacit\u00e9 de panoramique (d\u00e9placement du trac\u00e9 zoom\u00e9) Pour une analyse plus approfondie, vous pouvez utiliser ce script Python qui prend la sortie du journal de BSB-LAN pour cr\u00e9er des fichiers CSV pivot\u00e9s qui peuvent \u00eatre utilis\u00e9s pour des diagrammes plus informatifs.","title":"Utilisation de la fonctionnalit\u00e9 de trac\u00e9 graphique"}]}